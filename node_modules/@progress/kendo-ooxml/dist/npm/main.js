'use strict';

var JSZip = require('@progress/jszip-esm');

var current$1 = {
    compile: function(template) {
        return template;
    }
};

var TemplateService = function TemplateService () {};

TemplateService.register = function register (userImplementation) {
    current$1 = userImplementation;
};

TemplateService.compile = function compile (template) {
    return current$1.compile(template);
};

var FIELD_REGEX = /\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;
var getterCache = {};
var UNDEFINED = 'undefined';

getterCache[UNDEFINED] = function(obj) {
    return obj;
};

function getter(field) {
    if (getterCache[field]) {
        return getterCache[field];
    }

    var fields = [];
    field.replace(FIELD_REGEX, function(match, index, indexAccessor, field) {
        fields.push(typeof index !== UNDEFINED ? index : (indexAccessor || field));
    });

    getterCache[field] = function(obj) {
        var result = obj;
        for (var idx = 0; idx < fields.length && result; idx++) {
            result = result[fields[idx]];
        }

        return result;
    };

    return getterCache[field];
}

function map(array, func) {
    return array.reduce(function (result, el, i) {
        var val = func(el, i);
        if (val != null) {
            result.push(val);
        }
        return result;
    }, []);
}

function defaultGroupHeaderTemplate(data) {
    return ((data.title) + ": " + (data.value));
}

function createArray(length, callback) {
    var result = [];

    for (var idx = 0; idx < length; idx++) {
        result.push(callback(idx));
    }

    return result;
}

function defaultItemId(item) {
    return item.id;
}

var ExcelExporter = function ExcelExporter(options) {
    options.columns = this._trimColumns(options.columns || []);

    this.allColumns = map(this._leafColumns(options.columns || []), this._prepareColumn);

    this.columns = this._visibleColumns(this.allColumns);

    this.options = options;
    this.data = options.data || [];
    this.aggregates = options.aggregates || {};
    this.groups = [].concat(options.groups || []);
    this.hasGroups = this.groups.length > 0;
    this.hierarchy = options.hierarchy;
    this.hasGroupHeaderColumn = this.columns.some(function (column) { return column.groupHeaderColumnTemplate; });
    this.collapsible = this.options.collapsible;
};

ExcelExporter.prototype.workbook = function workbook () {
    var workbook = {
        sheets: [ {
            columns: this._columns(),
            rows: this.hierarchy ? this._hierarchyRows() : this._rows(),
            freezePane: this._freezePane(),
            filter: this._filter()
        } ]
    };

    return workbook;
};

ExcelExporter.prototype._trimColumns = function _trimColumns (columns) {
        var this$1$1 = this;

    return columns.filter(function (column) {
        var result = Boolean(column.field);

        if (!result && column.columns) {
            result = this$1$1._trimColumns(column.columns).length > 0;
        }

        return result;
    });
};

ExcelExporter.prototype._leafColumns = function _leafColumns (columns) {
    var result = [];

    for (var idx = 0; idx < columns.length; idx++) {
        if (!columns[idx].columns) {
            result.push(columns[idx]);
        } else {
            result = result.concat(this._leafColumns(columns[idx].columns));
        }
    }

    return result;
};

ExcelExporter.prototype._prepareColumn = function _prepareColumn (column) {
    if (!column.field) {
        return null;
    }

    var value = function(dataItem) {
        return getter(column.field)(dataItem);
    };

    var values = null;

    if (column.values) {
        values = {};

        column.values.forEach(function(item) {
            values[item.value] = item.text;
        });

        value = function(dataItem) {
            return values[getter(column.field)(dataItem)];
        };
    }

    return Object.assign({}, column, {
        value: value,
        values: values,
        groupHeaderTemplate: column.groupHeaderTemplate ? TemplateService.compile(column.groupHeaderTemplate) : defaultGroupHeaderTemplate,
        groupHeaderColumnTemplate: column.groupHeaderColumnTemplate ? TemplateService.compile(column.groupHeaderColumnTemplate) : null,
        groupFooterTemplate: column.groupFooterTemplate ? TemplateService.compile(column.groupFooterTemplate) : null,
        footerTemplate: column.footerTemplate ? TemplateService.compile(column.footerTemplate) : null
    });
};

ExcelExporter.prototype._filter = function _filter () {
    if (!this.options.filterable) {
        return null;
    }

    var depth = this._depth();

    return {
        from: depth,
        to: depth + this.columns.length - 1
    };
};

ExcelExporter.prototype._createPaddingCells = function _createPaddingCells (length) {
        var this$1$1 = this;

    return createArray(length, function () { return Object.assign({
        background: "#dfdfdf",
        color: "#333"
    }, this$1$1.options.paddingCellOptions); });
};

ExcelExporter.prototype._dataRow = function _dataRow (dataItem, level, depth) {
    var cells = this._createPaddingCells(level);

    // grouped
    if (this.hasGroups && depth && dataItem.items) {
        cells = cells.concat(this._groupHeaderCells(dataItem, level, depth));
        var rows = this._dataRows(dataItem.items, level + 1);

        rows.unshift({
            type: "group-header",
            cells: cells,
            level: this.collapsible ? level : null
        });

        return rows.concat(this._footer(dataItem, level));
    }

    var dataCells = [];

    for (var cellIdx = 0; cellIdx < this.columns.length; cellIdx++) {
        dataCells[cellIdx] = this._cell(dataItem, this.columns[cellIdx]);
    }

    if (this.hierarchy) {
        dataCells[0].colSpan = depth - level + 1;
    }

    return [ {
        type: "data",
        cells: cells.concat(dataCells),
        level: this.collapsible ? level : null
    } ];
};

ExcelExporter.prototype._groupHeaderCells = function _groupHeaderCells (dataItem, level, depth) {
    var cells = [];

    var column = this.allColumns.filter(function(column) {
        return column.field === dataItem.field;
    })[0] || {};

    var title = column && column.title ? column.title : dataItem.field;
    var template = column ? column.groupHeaderTemplate || column.groupHeaderColumnTemplate : null;
    var group = Object.assign({
        title: title,
        field: dataItem.field,
        value: column && column.values ? column.values[dataItem.value] : dataItem.value,
        aggregates: dataItem.aggregates,
        items: dataItem.items
    }, dataItem.aggregates[dataItem.field]);

    var value = template ? template(group) : (title + ": " + (dataItem.value));

    cells.push(Object.assign({
        value: value,
        background: "#dfdfdf",
        color: "#333",
        colSpan: (this.hasGroupHeaderColumn ? 1 : this.columns.length) + depth - level
    }, column.groupHeaderCellOptions));

    if (this.hasGroupHeaderColumn) {
        this.columns.forEach(function(column, index) {
            if (index > 0) {
                cells.push(Object.assign({
                    background: "#dfdfdf",
                    color: "#333",
                    value: column.groupHeaderColumnTemplate ?
                        column.groupHeaderColumnTemplate(Object.assign({ group: group }, group, dataItem.aggregates[column.field])) :
                        undefined
                }, column.groupHeaderCellOptions));
            }
        });
    }

    return cells;
};

ExcelExporter.prototype._dataRows = function _dataRows (dataItems, level) {
    var depth = this._depth();
    var rows = [];

    for (var idx = 0; idx < dataItems.length; idx++) {
        rows.push.apply(rows, this._dataRow(dataItems[idx], level, depth));
    }

    return rows;
};

ExcelExporter.prototype._hierarchyRows = function _hierarchyRows () {
    var depth = this._depth();
    var data = this.data;
    var itemLevel = this.hierarchy.itemLevel;
    var itemId = this.hierarchy.itemId || defaultItemId;
    var hasFooter = this._hasFooterTemplate();
    var rows = [];
    var parents = [];
    var previousLevel = 0;
    var previousItemId;

    if (!hasFooter) {
        this.collapsible = false;
    }

    for (var idx = 0; idx < data.length; idx++) {
        var item = data[idx];
        var level = itemLevel(item, idx);

        if (hasFooter) {
            if (level > previousLevel) {
                parents.push({ id: previousItemId, level: previousLevel });
            } else if (level < previousLevel) {
                rows.push.apply(rows, this._hierarchyFooterRows(parents, level, depth));
            }

            previousLevel = level;
            previousItemId = itemId(item, idx);
        }

        rows.push.apply(rows, this._dataRow(item, level + 1, depth));
    }

    if (hasFooter) {
        rows.push.apply(rows, this._hierarchyFooterRows(parents, 0, depth));

        var rootAggregate = data.length ? this.aggregates[data[0].parentId] : {};
        rows.push(this._hierarchyFooter(rootAggregate, 0, depth));
    }

    this._prependHeaderRows(rows);

    return rows;
};

ExcelExporter.prototype._hierarchyFooterRows = function _hierarchyFooterRows (parents, currentLevel, depth) {
    var rows = [];
    while (parents.length && parents[parents.length - 1].level >= currentLevel) {
        var parent = parents.pop();
        rows.push(this._hierarchyFooter(this.aggregates[parent.id], parent.level + 1, depth));
    }

    return rows;
};

ExcelExporter.prototype._hasFooterTemplate = function _hasFooterTemplate () {
    var columns = this.columns;
    for (var idx = 0; idx < columns.length; idx++) {
        if (columns[idx].footerTemplate) {
            return true;
        }
    }
};

ExcelExporter.prototype._hierarchyFooter = function _hierarchyFooter (aggregates, level, depth) {
    var cells = this.columns.map(function(column, index) {
        var colSpan = index ? 1 : depth - level + 1;
        if (column.footerTemplate) {
            var fieldAggregates = (aggregates || {})[column.field];
            return Object.assign({
                background: "#dfdfdf",
                color: "#333",
                colSpan: colSpan,
                value: column.footerTemplate(Object.assign({ aggregates: aggregates }, fieldAggregates))
            }, column.footerCellOptions);
        }

        return Object.assign({
            background: "#dfdfdf",
            color: "#333",
            colSpan: colSpan
        }, column.footerCellOptions);
    });

    return {
        type: "footer",
        cells: this._createPaddingCells(level).concat(cells),
        level: this.collapsible ? level : null
    };
};

ExcelExporter.prototype._footer = function _footer (dataItem, level) {
    var rows = [];
    var footer = this.columns.some(function (column) { return column.groupFooterTemplate; });

    var templateData, group;
    if (footer) {
        group = {
            group: { items: dataItem.items,
                field: dataItem.field,
                value: dataItem.value }
        };
        templateData = {};
        Object.keys(dataItem.aggregates).forEach(function (key) {
            templateData[key] = Object.assign({}, dataItem.aggregates[key], group);
        });
    }

    var cells = this.columns.map(function (column) {
        if (column.groupFooterTemplate) {
            var data = Object.assign({}, templateData, dataItem.aggregates[column.field], group);
            return Object.assign({
                background: "#dfdfdf",
                color: "#333",
                value: column.groupFooterTemplate(data)
            }, column.groupFooterCellOptions);
        }

        return Object.assign({
            background: "#dfdfdf",
            color: "#333"
        }, column.groupFooterCellOptions);
    });

    if (footer) {
        rows.push({
            type: "group-footer",
            cells: this._createPaddingCells(this.groups.length).concat(cells),
            level: this.collapsible ? level : null
        });
    }

    return rows;
};

ExcelExporter.prototype._isColumnVisible = function _isColumnVisible (column) {
    return this._visibleColumns([ column ]).length > 0 && (column.field || column.columns);
};

ExcelExporter.prototype._visibleColumns = function _visibleColumns (columns) {
        var this$1$1 = this;

    return columns.filter(function (column) {
        var exportable = column.exportable;
        if (typeof exportable === 'object') {
            exportable = column.exportable.excel;
        }

        var visibleInExport = !column.hidden && exportable !== false;
        var visibleInExportOnly = column.hidden && exportable === true;
        var visible = visibleInExport || visibleInExportOnly;
        if (visible && column.columns) {
            visible = this$1$1._visibleColumns(column.columns).length > 0;
        }
        return visible;
    });
};

ExcelExporter.prototype._headerRow = function _headerRow (row, groups) {
        var this$1$1 = this;

    var headers = row.cells.map(function(cell) {
        return Object.assign(cell, {
            colSpan: cell.colSpan > 1 ? cell.colSpan : 1,
            rowSpan: row.rowSpan > 1 && !cell.colSpan ? row.rowSpan : 1
        });
    });

    if (this.hierarchy && headers[0].firstCell) {
        headers[0].colSpan += this._depth();
    }

    return {
        type: "header",
        cells: createArray(groups.length, function () { return Object.assign({
            background: "#7a7a7a",
            color: "#fff"
        }, this$1$1.options.headerPaddingCellOptions); }).concat(headers)
    };
};

ExcelExporter.prototype._prependHeaderRows = function _prependHeaderRows (rows) {
    var groups = this.groups;

    var headerRows = [ { rowSpan: 1, cells: [], index: 0 } ];

    this._prepareHeaderRows(headerRows, this.options.columns);

    for (var idx = headerRows.length - 1; idx >= 0; idx--) {
        rows.unshift(this._headerRow(headerRows[idx], groups));
    }
};

ExcelExporter.prototype._prepareHeaderRows = function _prepareHeaderRows (rows, columns, parentCell, parentRow) {
    var row = parentRow || rows[rows.length - 1];
    var childRow = rows[row.index + 1];
    var totalColSpan = 0;

    for (var idx = 0; idx < columns.length; idx++) {
        var column = columns[idx];
        if (this._isColumnVisible(column)) {

            var cell = Object.assign({
                background: "#7a7a7a",
                color: "#fff",
                value: column.title || column.field,
                colSpan: 0,
                firstCell: idx === 0 && (!parentCell || parentCell.firstCell)
            }, column.headerCellOptions);
            row.cells.push(cell);

            if (column.columns && column.columns.length) {
                if (!childRow) {
                    childRow = { rowSpan: 0, cells: [], index: rows.length };
                    rows.push(childRow);
                }
                cell.colSpan = this._trimColumns(this._visibleColumns(column.columns)).length;
                this._prepareHeaderRows(rows, column.columns, cell, childRow);
                totalColSpan += cell.colSpan - 1;
                row.rowSpan = rows.length - row.index;
            }
        }
    }

    if (parentCell) {
        parentCell.colSpan += totalColSpan;
    }
};

ExcelExporter.prototype._rows = function _rows () {
        var this$1$1 = this;

    var rows = this._dataRows(this.data, 0);

    if (this.columns.length) {
        this._prependHeaderRows(rows);
        var footer = false;

        var cells = this.columns.map(function (column) {
            if (column.footerTemplate) {
                footer = true;

                return Object.assign({
                    background: "#dfdfdf",
                    color: "#333",
                    value: column.footerTemplate(Object.assign({}, this$1$1.aggregates, this$1$1.aggregates[column.field]))
                }, column.footerCellOptions);
            }

            return Object.assign({
                background: "#dfdfdf",
                color: "#333"
            }, column.footerCellOptions);
        });

        if (footer) {
            rows.push({
                type: "footer",
                cells: this._createPaddingCells(this.groups.length).concat(cells)
            });
        }
    }

    return rows;
};

ExcelExporter.prototype._headerDepth = function _headerDepth (columns) {
    var result = 1;
    var max = 0;

    for (var idx = 0; idx < columns.length; idx++) {
        if (columns[idx].columns) {
            var temp = this._headerDepth(columns[idx].columns);
            if (temp > max) {
                max = temp;
            }
        }
    }
    return result + max;
};

ExcelExporter.prototype._freezePane = function _freezePane () {
    var columns = this._visibleColumns(this.options.columns || []);

    var colSplit = this._visibleColumns(this._trimColumns(this._leafColumns(columns.filter(function(column) {
        return column.locked;
    })))).length;

    return {
        rowSplit: this._headerDepth(columns),
        colSplit: colSplit ? colSplit + this.groups.length : 0
    };
};

ExcelExporter.prototype._cell = function _cell (dataItem, column) {
    return Object.assign({
        value: column.value(dataItem)
    }, column.cellOptions);
};

ExcelExporter.prototype._depth = function _depth () {
    var depth = 0;

    if (this.hierarchy) {
        depth = this.hierarchy.depth;
    } else {
        depth = this.groups.length;
    }

    return depth;
};

ExcelExporter.prototype._columns = function _columns () {
    var depth = this._depth();
    var columns = createArray(depth, function () { return ({ width: 20 }); });

    return columns.concat(this.columns.map(function(column) {
        return {
            width: parseInt(column.width, 10),
            autoWidth: column.width ? false : true
        };
    }));
};

var current = {
    toString: function (value) { return value; }
};

var IntlService = function IntlService () {};

IntlService.register = function register (userImplementation) {
    current = userImplementation;
};

IntlService.toString = function toString (value, format) {
    return current.toString(value, format);
};

function createZip() {
    return new JSZip();
}

// date packing utilities from Kendo Spreadsheet

// Julian days algorithms from http://www.hermetic.ch/cal_stud/jdn.htm#comp
function dateToJulianDays(y, m, d) {
    return ((1461 * (y + 4800 + ((m - 13) / 12 | 0))) / 4 | 0) +
        ((367 * (m - 1 - 12 * ((m - 13) / 12 | 0))) / 12 | 0) -
        ((3 * (((y + 4900 + ((m - 13) / 12 | 0)) / 100 | 0))) / 4 | 0) +
        d - 32075;
}

// This uses the Google Spreadsheet approach: treat 1899-12-31 as day 1, allowing to avoid
// implementing the "Leap Year Bug" yet still be Excel compatible for dates starting 1900-03-01.
var BASE_DATE = dateToJulianDays(1900, 0, -1);

function packDate(year, month, date) {
    return dateToJulianDays(year, month, date) - BASE_DATE;
}

function packTime(hh, mm, ss, ms) {
    return (hh + (mm + (ss + ms / 1000) / 60) / 60) / 24;
}

function dateToSerial(date) {
    var time = packTime(date.getHours(),
        date.getMinutes(),
        date.getSeconds(),
        date.getMilliseconds());
    var serial = packDate(date.getFullYear(),
        date.getMonth(),
        date.getDate());
    return serial < 0 ? serial - 1 + time : serial + time;
}

var MIME_TYPE = "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";
var DATA_URL_PREFIX = "data:" + MIME_TYPE + ";base64,";
var DATA_URL_OPTIONS = { compression: "DEFLATE", type: "base64" };
var BLOB_OPTIONS = { compression: "DEFLATE", type: "blob" };
var ARRAYBUFFER_OPTIONS = { compression: "DEFLATE", type: "arraybuffer" };

/* eslint-disable indent */

function toDataURI(content) {
    return DATA_URL_PREFIX + content;
}

function indexOf(thing, array) {
    return array.indexOf(thing);
}

var parseJSON = JSON.parse.bind(JSON);

function ESC(val) {
    return String(val)
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/\"/g, "&quot;")
        .replace(/\'/g, "&#39;");
}

function repeat(count, func) {
    var str = "";
    for (var i = 0; i < count; ++i) {
        str += func(i);
    }
    return str;
}

function foreach(arr, func) {
    var str = "";
    if (arr != null) {
        if (Array.isArray(arr)) {
            for (var i = 0; i < arr.length; ++i) {
                str += func(arr[i], i);
            }
        } else if (typeof arr == "object") {
            Object.keys(arr).forEach(function (key, i) {
                str += func(arr[key], key, i);
            });
        }
    }
    return str;
}

var XMLHEAD = '<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r';

var RELS = XMLHEAD + "\n            <Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n               <Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\"/>\n               <Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\"/>\n               <Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\"/>\n            </Relationships>";

var CORE = function (ref) {
  var creator = ref.creator;
  var lastModifiedBy = ref.lastModifiedBy;
  var created = ref.created;
  var modified = ref.modified;

  return (XMLHEAD + "\n <cp:coreProperties xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\"\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\"\n   xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n   <dc:creator>" + (ESC(creator)) + "</dc:creator>\n   <cp:lastModifiedBy>" + (ESC(lastModifiedBy)) + "</cp:lastModifiedBy>\n   <dcterms:created xsi:type=\"dcterms:W3CDTF\">" + (ESC(created)) + "</dcterms:created>\n   <dcterms:modified xsi:type=\"dcterms:W3CDTF\">" + (ESC(modified)) + "</dcterms:modified>\n</cp:coreProperties>");
};

var APP = function (ref) {
  var sheets = ref.sheets;

  return (XMLHEAD + "\n<Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\" xmlns:vt=\"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes\">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size=\"2\" baseType=\"variant\">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>" + (sheets.length) + "</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size=\"" + (sheets.length) + "\" baseType=\"lpstr\">" + (foreach(sheets, function (sheet, i) { return sheet.options.title
          ? ("<vt:lpstr>" + (ESC(sheet.options.title)) + "</vt:lpstr>")
          : ("<vt:lpstr>Sheet" + (i + 1) + "</vt:lpstr>"); }
      )) + "</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>");
};

var CONTENT_TYPES = function (ref) {
  var sheetCount = ref.sheetCount;
  var commentFiles = ref.commentFiles;
  var drawingFiles = ref.drawingFiles;

  return (XMLHEAD + "\n<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">\n  <Default Extension=\"png\" ContentType=\"image/png\"/>\n  <Default Extension=\"gif\" ContentType=\"image/gif\"/>\n  <Default Extension=\"jpg\" ContentType=\"image/jpeg\"/>\n  <Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" />\n  <Default Extension=\"xml\" ContentType=\"application/xml\" />\n  <Default Extension=\"vml\" ContentType=\"application/vnd.openxmlformats-officedocument.vmlDrawing\"/>\n  <Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" />\n  <Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\"/>\n  <Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\"/>\n  " + (repeat(sheetCount, function (idx) { return ("<Override PartName=\"/xl/worksheets/sheet" + (idx + 1) + ".xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />"); })) + "\n  " + (foreach(commentFiles, function (filename) { return ("<Override PartName=\"/xl/" + filename + "\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\"/>"); })) + "\n  " + (foreach(drawingFiles, function (filename) { return ("<Override PartName=\"/xl/drawings/" + filename + "\" ContentType=\"application/vnd.openxmlformats-officedocument.drawing+xml\"/>"); })) + "\n  <Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />\n  <Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" />\n</Types>");
};

var WORKBOOK = function (ref) {
  var sheets = ref.sheets;
  var filterNames = ref.filterNames;
  var userNames = ref.userNames;

  return (XMLHEAD + "\n<workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">\n  <fileVersion appName=\"xl\" lastEdited=\"5\" lowestEdited=\"5\" rupBuild=\"9303\" />\n  <workbookPr defaultThemeVersion=\"124226\" />\n  <bookViews>\n    <workbookView xWindow=\"240\" yWindow=\"45\" windowWidth=\"18195\" windowHeight=\"7995\" />\n  </bookViews>\n  <sheets>\n  " + (foreach(sheets, function (ref, i) {
    var options = ref.options;

    var name = options.name || options.title || ("Sheet" + (i + 1));
    var state = options.state || 'visible';
    return ("<sheet name=\"" + (ESC(name)) + "\" state=\"" + state + "\" sheetId=\"" + (i + 1) + "\" r:id=\"rId" + (i + 1) + "\" />");
  })) + "\n  </sheets>\n  " + (filterNames.length || userNames.length ? ("\n    <definedNames>\n      " + (foreach(filterNames, function (f) { return ("\n         <definedName name=\"_xlnm._FilterDatabase\" hidden=\"1\" localSheetId=\"" + (f.localSheetId) + "\">" + (ESC(quoteSheet(f.name))) + "!" + (ESC(f.from)) + ":" + (ESC(f.to)) + "</definedName>"); })) + "\n      " + (foreach(userNames, function (f) { return ("\n         <definedName name=\"" + (f.name) + "\" hidden=\"" + (f.hidden ? 1 : 0) + "\" " + (f.localSheetId != null ? ("localSheetId=\"" + (f.localSheetId) + "\"") : '') + ">" + (ESC(f.value)) + "</definedName>"); })) + "\n    </definedNames>") : '') + "\n  <calcPr fullCalcOnLoad=\"1\" calcId=\"145621\" />\n</workbook>");
};

var WORKSHEET = function (ref$1) {
  var frozenColumns = ref$1.frozenColumns;
  var frozenRows = ref$1.frozenRows;
  var columns = ref$1.columns;
  var defaults = ref$1.defaults;
  var data = ref$1.data;
  var index = ref$1.index;
  var mergeCells = ref$1.mergeCells;
  var autoFilter = ref$1.autoFilter;
  var filter = ref$1.filter;
  var showGridLines = ref$1.showGridLines;
  var hyperlinks = ref$1.hyperlinks;
  var validations = ref$1.validations;
  var defaultCellStyleId = ref$1.defaultCellStyleId;
  var rtl = ref$1.rtl;
  var legacyDrawing = ref$1.legacyDrawing;
  var drawing = ref$1.drawing;
  var lastRow = ref$1.lastRow;
  var lastCol = ref$1.lastCol;
  var hasDisabledCells = ref$1.hasDisabledCells;

  return (XMLHEAD + "\n<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" mc:Ignorable=\"x14ac\">\n   " + (lastRow && lastCol ? ("<dimension ref=\"A1:" + (ref(lastRow - 1, lastCol - 1)) + "\" />") : "") + "\n\n   <sheetViews>\n     <sheetView " + (rtl ? 'rightToLeft="1"' : '') + " " + (index === 0 ? 'tabSelected="1"' : '') + " workbookViewId=\"0\" " + (showGridLines === false ? 'showGridLines="0"' : '') + ">\n     " + (frozenRows || frozenColumns ? ("\n       <pane state=\"frozen\"\n         " + (frozenColumns ? ("xSplit=\"" + frozenColumns + "\"") : '') + "\n         " + (frozenRows ? ("ySplit=\"" + frozenRows + "\"") : '') + "\n         topLeftCell=\"" + (String.fromCharCode(65 + (frozenColumns || 0)) + ((frozenRows || 0) + 1)) + "\"\n       />") : '') + "\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent=\"0.25\" " + (!defaults.skipCustomHeight ? 'customHeight="1"' : '') + " defaultRowHeight=\"" + (defaults.rowHeight ? defaults.rowHeight * 0.75 : 15) + "\"\n     " + (defaults.columnWidth ? ("defaultColWidth=\"" + (toWidth(defaults.columnWidth)) + "\"") : '') + " />\n\n   " + (defaultCellStyleId != null || (columns && columns.length > 0) ? ("\n     <cols>\n       " + (!columns || !columns.length ? ("\n         <col min=\"1\" max=\"16384\" style=\"" + defaultCellStyleId + "\"\n              " + (defaults.columnWidth ? ("width=\"" + (toWidth(defaults.columnWidth)) + "\"") : '') + " /> ") : '') + "\n       " + (foreach(columns, function (column, ci) {
         var columnIndex = typeof column.index === "number" ? column.index + 1 : (ci + 1);
         if (column.width === 0) {
           return ("<col " + (defaultCellStyleId != null ? ("style=\"" + defaultCellStyleId + "\"") : '') + "\n                        min=\"" + columnIndex + "\" max=\"" + columnIndex + "\" hidden=\"1\" customWidth=\"1\" />");
         }
         return ("<col " + (defaultCellStyleId != null ? ("style=\"" + defaultCellStyleId + "\"") : '') + "\n                      min=\"" + columnIndex + "\" max=\"" + columnIndex + "\" customWidth=\"1\"\n                      " + (column.autoWidth
                          ? ("width=\"" + (((column.width * 7 + 5) / 7 * 256) / 256) + "\" bestFit=\"1\"")
                          : ("width=\"" + (toWidth(column.width)) + "\"")) + " />");
       })) + "\n     </cols>") : '') + "\n\n   <sheetData>\n     " + (foreach(data, function (row, ri) {
       var rowIndex = typeof row.index === "number" ? row.index + 1 : (ri + 1);
       return ("\n         <row r=\"" + rowIndex + "\" x14ac:dyDescent=\"0.25\"\n              " + (row.level ? ("outlineLevel=\"" + (row.level) + "\"") : '') + "\n              " + (row.height === 0 ? 'hidden="1"'
                                 : row.height ? ("ht=\"" + (toHeight(row.height)) + "\" customHeight=\"1\"") : "") + ">\n           " + (foreach(row.data, function (cell) { return ("\n             <c r=\"" + (cell.ref) + "\" " + (cell.style ? ("s=\"" + (cell.style) + "\"") : '') + " " + (cell.type ? ("t=\"" + (cell.type) + "\"") : '') + ">\n               " + (cell.formula != null ? writeFormula(cell.formula) : '') + "\n               " + (cell.value != null ? ("<v>" + (ESC(cell.value)) + "</v>") : '') + "\n             </c>"); })) + "\n         </row>\n       ");
})) + "\n   </sheetData>\n\n   " + (hasDisabledCells ? "<sheetProtection sheet=\"1\" objects=\"1\" scenarios=\"1\"/>" : '') + "\n\n   " + (autoFilter ? ("<autoFilter ref=\"" + (autoFilter.from) + ":" + (autoFilter.to) + "\"/>")
                : filter ? spreadsheetFilters(filter) : '') + "\n\n   " + (mergeCells.length ? ("\n     <mergeCells count=\"" + (mergeCells.length) + "\">\n       " + (foreach(mergeCells, function (ref) { return ("<mergeCell ref=\"" + ref + "\"/>"); })) + "\n     </mergeCells>") : '') + "\n\n   " + (validations.length ? ("\n     <dataValidations>\n       " + (foreach(validations, function (val) { return ("\n         <dataValidation sqref=\"" + (val.sqref.join(" ")) + "\"\n                         showErrorMessage=\"" + (val.showErrorMessage) + "\"\n                         type=\"" + (ESC(val.type)) + "\"\n                         " + (val.type !== "list" ? ("operator=\"" + (ESC(val.operator)) + "\"") : '') + "\n                         allowBlank=\"" + (val.allowBlank) + "\"\n                         showDropDown=\"" + (val.showDropDown) + "\"\n                         " + (val.error ? ("error=\"" + (ESC(val.error)) + "\"") : '') + "\n                         " + (val.errorTitle ? ("errorTitle=\"" + (ESC(val.errorTitle)) + "\"") : '') + ">\n           " + (val.formula1 ? ("<formula1>" + (ESC(val.formula1)) + "</formula1>") : '') + "\n           " + (val.formula2 ? ("<formula2>" + (ESC(val.formula2)) + "</formula2>") : '') + "\n         </dataValidation>"); })) + "\n     </dataValidations>") : '') + "\n\n   " + (hyperlinks.length ? ("\n     <hyperlinks>\n       " + (foreach(hyperlinks, function (link) { return ("\n         <hyperlink ref=\"" + (link.ref) + "\" r:id=\"" + (link.rId) + "\"/>"); })) + "\n     </hyperlinks>") : '') + "\n\n   <pageMargins left=\"0.7\" right=\"0.7\" top=\"0.75\" bottom=\"0.75\" header=\"0.3\" footer=\"0.3\" />\n   " + (drawing ? ("<drawing r:id=\"" + drawing + "\"/>") : '') + "\n   " + (legacyDrawing ? ("<legacyDrawing r:id=\"" + legacyDrawing + "\"/>") : '') + "\n</worksheet>");
};

var WORKBOOK_RELS = function (ref) {
  var count = ref.count;

  return (XMLHEAD + "\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  " + (repeat(count, function (idx) { return ("\n    <Relationship Id=\"rId" + (idx + 1) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet" + (idx + 1) + ".xml\" />"); })) + "\n  <Relationship Id=\"rId" + (count + 1) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />\n  <Relationship Id=\"rId" + (count + 2) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />\n</Relationships>");
};

var WORKSHEET_RELS = function (ref) {
  var hyperlinks = ref.hyperlinks;
  var comments = ref.comments;
  var sheetIndex = ref.sheetIndex;
  var drawings = ref.drawings;

  return (XMLHEAD + "\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  " + (foreach(hyperlinks, function (link) { return ("\n    <Relationship Id=\"" + (link.rId) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"" + (ESC(link.target)) + "\" TargetMode=\"External\" />"); })) + "\n  " + (!comments.length ? '' : ("\n    <Relationship Id=\"comment" + sheetIndex + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments\" Target=\"../comments" + sheetIndex + ".xml\"/>\n    <Relationship Id=\"vml" + sheetIndex + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing\" Target=\"../drawings/vmlDrawing" + sheetIndex + ".vml\"/>")) + "\n  " + (!drawings.length ? '' : ("\n    <Relationship Id=\"drw" + sheetIndex + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\" Target=\"../drawings/drawing" + sheetIndex + ".xml\"/>")) + "\n</Relationships>");
};

var COMMENTS_XML = function (ref) {
  var comments = ref.comments;

  return (XMLHEAD + "\n<comments xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    " + (foreach(comments, function (comment) { return ("\n      <comment ref=\"" + (comment.ref) + "\" authorId=\"0\">\n        <text>\n          <r>\n            <rPr>\n              <sz val=\"8\"/>\n              <color indexed=\"81\"/>\n              <rFont val=\"Tahoma\"/>\n              <charset val=\"1\"/>\n            </rPr>\n            <t>" + (ESC(comment.text)) + "</t>\n          </r>\n        </text>\n      </comment>"); })) + "\n  </commentList>\n</comments>");
};

var LEGACY_DRAWING = function (ref) {
  var comments = ref.comments;

  return ("<xml xmlns:v=\"urn:schemas-microsoft-com:vml\"\n     xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n     xmlns:x=\"urn:schemas-microsoft-com:office:excel\">\n  <v:shapetype coordsize=\"21600,21600\" id=\"_x0000_t202\" path=\"m,l,21600r21600,l21600,xe\">\n    <v:stroke joinstyle=\"miter\"/>\n    <v:path gradientshapeok=\"t\" o:connecttype=\"rect\"/>\n  </v:shapetype>\n  " + (foreach(comments, function (comment) { return ("\n    <v:shape type=\"#_x0000_t202\" style=\"visibility: hidden\" fillcolor=\"#ffffe1\" o:insetmode=\"auto\">\n      <v:shadow on=\"t\" color=\"black\" obscured=\"t\"/>\n      <x:ClientData ObjectType=\"Note\">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>" + (comment.anchor) + "</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>" + (comment.row) + "</x:Row>\n        <x:Column>" + (comment.col) + "</x:Column>\n      </x:ClientData>\n    </v:shape>"); })) + "\n</xml>");
};

var DRAWINGS_XML = function (drawings) { return (XMLHEAD + "\n<xdr:wsDr xmlns:xdr=\"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing\"\n          xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\"\n          xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">\n  " + (foreach(drawings, function (drawing, index) { return ("\n    <xdr:oneCellAnchor editAs=\"oneCell\">\n      <xdr:from>\n        <xdr:col>" + (drawing.col) + "</xdr:col>\n        <xdr:colOff>" + (drawing.colOffset) + "</xdr:colOff>\n        <xdr:row>" + (drawing.row) + "</xdr:row>\n        <xdr:rowOff>" + (drawing.rowOffset) + "</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx=\"" + (drawing.width) + "\" cy=\"" + (drawing.height) + "\" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id=\"" + (index + 1) + "\" name=\"Picture " + (index + 1) + "\"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed=\"" + (drawing.imageId) + "\"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst=\"rect\">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>"); })) + "\n</xdr:wsDr>"); };

var DRAWINGS_RELS_XML = function (rels) { return (XMLHEAD + "\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  " + (foreach(rels, function (rel) { return ("\n    <Relationship Id=\"" + (rel.rId) + "\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"" + (rel.target) + "\"/>"); })) + "\n</Relationships>"); };

var SHARED_STRINGS = function (ref) {
  var count = ref.count;
  var uniqueCount = ref.uniqueCount;
  var indexes = ref.indexes;

  return (XMLHEAD + "\n<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"" + count + "\" uniqueCount=\"" + uniqueCount + "\">\n  " + (foreach(Object.keys(indexes), function (index) { return ("\n    <si><t xml:space=\"preserve\">" + (ESC(index.substring(1))) + "</t></si>"); })) + "\n</sst>");
};

var STYLES = function (ref) {
  var formats = ref.formats;
  var fonts = ref.fonts;
  var fills = ref.fills;
  var borders = ref.borders;
  var styles = ref.styles;

  return (XMLHEAD + "\n<styleSheet\n    xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"x14ac\"\n    xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">\n  <numFmts count=\"" + (formats.length) + "\">\n  " + (foreach(formats, function (format, fi) { return ("\n    <numFmt formatCode=\"" + (ESC(format.format)) + "\" numFmtId=\"" + (165 + fi) + "\" />"); })) + "\n  </numFmts>\n  <fonts count=\"" + (fonts.length + 1) + "\" x14ac:knownFonts=\"1\">\n    <font>\n       <sz val=\"11\" />\n       <color theme=\"1\" />\n       <name val=\"Calibri\" />\n       <family val=\"2\" />\n       <scheme val=\"minor\" />\n    </font>\n    " + (foreach(fonts, function (font) { return ("\n    <font>\n      " + (font.bold ? '<b/>' : '') + "\n      " + (font.italic ? '<i/>' : '') + "\n      " + (font.underline ? '<u/>' : '') + "\n      <sz val=\"" + (font.fontSize || 11) + "\" />\n      " + (font.color ? ("<color rgb=\"" + (ESC(font.color)) + "\" />") : '<color theme="1" />') + "\n      " + (font.fontFamily ? ("\n        <name val=\"" + (ESC(font.fontFamily)) + "\" />\n        <family val=\"2\" />\n      ") : "\n        <name val=\"Calibri\" />\n        <family val=\"2\" />\n        <scheme val=\"minor\" />\n      ") + "\n    </font>"); })) + "\n  </fonts>\n  <fills count=\"" + (fills.length + 2) + "\">\n      <fill><patternFill patternType=\"none\"/></fill>\n      <fill><patternFill patternType=\"gray125\"/></fill>\n    " + (foreach(fills, function (fill) { return ("\n      " + (fill.background ? ("\n        <fill>\n          <patternFill patternType=\"solid\">\n              <fgColor rgb=\"" + (ESC(fill.background)) + "\"/>\n          </patternFill>\n        </fill>\n      ") : '')); })) + "\n  </fills>\n  <borders count=\"" + (borders.length + 1) + "\">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    " + (foreach(borders, borderTemplate)) + "\n  </borders>\n  <cellStyleXfs count=\"1\">\n    <xf borderId=\"0\" fillId=\"0\" fontId=\"0\" />\n  </cellStyleXfs>\n  <cellXfs count=\"" + (styles.length + 1) + "\">\n    <xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" />\n    " + (foreach(styles, function (style) { return ("\n      <xf xfId=\"0\"\n          " + (style.fontId ? ("fontId=\"" + (style.fontId) + "\" applyFont=\"1\"") : '') + "\n          " + (style.fillId ? ("fillId=\"" + (style.fillId) + "\" applyFill=\"1\"") : '') + "\n          " + (style.numFmtId ? ("numFmtId=\"" + (style.numFmtId) + "\" applyNumberFormat=\"1\"") : '') + "\n          " + (style.textAlign || style.verticalAlign || style.wrap ? 'applyAlignment="1"' : '') + "\n          " + (style.borderId ? ("borderId=\"" + (style.borderId) + "\" applyBorder=\"1\"") : '') + "\n          " + (style.disabled != null ? "applyProtection=\"1\"" : '') + ">\n        " + (style.textAlign || style.verticalAlign || style.wrap ? ("\n        <alignment\n          " + (style.textAlign ? ("horizontal=\"" + (ESC(style.textAlign)) + "\"") : '') + "\n          " + (style.verticalAlign ? ("vertical=\"" + (ESC(style.verticalAlign)) + "\"") : '') + "\n          " + (style.indent ? ("indent=\"" + (ESC(style.indent)) + "\"") : '') + "\n          " + (style.wrap ? 'wrapText="1"' : '') + " />\n        ") : '') + "\n        " + (style.disabled != null ? ("\n        <protection locked=\"" + (style.disabled ? 1 : 0) + "\" />\n        ") : '') + "\n      </xf>\n    "); })) + "\n  </cellXfs>\n  <cellStyles count=\"1\">\n    <cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/>\n  </cellStyles>\n  <dxfs count=\"0\" />\n  <tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium2\" defaultPivotStyle=\"PivotStyleMedium9\" />\n</styleSheet>");
};

function writeFormula(formula) {
    if (typeof formula == "string") {
        return ("<f>" + (ESC(formula)) + "</f>");
    }
    // array formulas
    return ("<f t=\"array\" ref=\"" + (formula.ref) + "\">" + (ESC(formula.src)) + "</f>");
}

function numChar(colIndex) {
   var letter = Math.floor(colIndex / 26) - 1;

   return (letter >= 0 ? numChar(letter) : "") + String.fromCharCode(65 + (colIndex % 26));
}

function ref(rowIndex, colIndex) {
    return numChar(colIndex) + (rowIndex + 1);
}

function $ref(rowIndex, colIndex) {
    return "$" + numChar(colIndex) + "$" + (rowIndex + 1);
}

function filterRowIndex(options) {
    var frozenRows = options.frozenRows || (options.freezePane || {}).rowSplit || 1;
    return frozenRows - 1;
}

function toWidth(px) {
    var maximumDigitWidth = 7;
    return (px / maximumDigitWidth) - (Math.floor(128 / maximumDigitWidth) / 256);
}

function toHeight(px) {
    return px * 0.75;
}

function stripFunnyChars(value) {
    return String(value)
        .replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g, "") // leave CRLF in
        .replace(/\r?\n/g, "\r\n");                   // make sure LF is preceded by CR
}

var Worksheet = function Worksheet(options, sharedStrings, styles, borders) {
      this.options = options;
      this._strings = sharedStrings;
      this._styles = styles;
      this._borders = borders;
      this._validations = {};
      this._comments = [];
      this._drawings = options.drawings || [];
      this._hyperlinks = (this.options.hyperlinks || []).map(
          function (link, i) { return Object.assign({}, link, { rId: ("link" + i) }); });
  };

  Worksheet.prototype.relsToXML = function relsToXML () {
      var hyperlinks = this._hyperlinks;
      var comments = this._comments;
      var drawings = this._drawings;

      if (hyperlinks.length || comments.length || drawings.length) {
          return WORKSHEET_RELS({
              hyperlinks : hyperlinks,
              comments : comments,
              sheetIndex : this.options.sheetIndex,
              drawings : drawings
          });
      }
  };

  Worksheet.prototype.toXML = function toXML (index) {
      var mergeCells = this.options.mergedCells || [];
      var rows = this.options.rows || [];
      var data = inflate(rows, mergeCells);

      this._readCells(data);

      var autoFilter = this.options.filter;
      var filter;
      if (autoFilter && (typeof autoFilter.from === "number") && (typeof autoFilter.to === "number")) {
          // Grid enables auto filter
          autoFilter = {
              from: ref(filterRowIndex(this.options), autoFilter.from),
              to: ref(filterRowIndex(this.options), autoFilter.to)
          };
      } else if (autoFilter && autoFilter.ref && autoFilter.columns) {
          // this is probably from the Spreadsheet
          filter = autoFilter;
          autoFilter = null;
      }

      var validations = [];
      for (var i in this._validations) {
          if (Object.prototype.hasOwnProperty.call(this._validations, i)) {
              validations.push(this._validations[i]);
          }
      }

      var defaultCellStyleId = null;
      var defaultCellStyle = this.options.defaultCellStyle;
      if (this._hasDisabledCells) {
          if (!defaultCellStyle) {
              defaultCellStyle = { disabled: false };
          } else {
              defaultCellStyle = Object.assign({ disabled: false }, defaultCellStyle);
          }
      }
      if (defaultCellStyle) {
          defaultCellStyleId = this._lookupStyle(defaultCellStyle);
      }

      var freezePane = this.options.freezePane || {};
      var defaults = this.options.defaults || {};
      var lastRow = this.options.rows ? this._getLastRow() : 1;
      var lastCol = this.options.rows ? this._getLastCol() : 1;

      return WORKSHEET({
          frozenColumns: this.options.frozenColumns || freezePane.colSplit,
          frozenRows: this.options.frozenRows || freezePane.rowSplit,
          columns: this.options.columns,
          defaults: defaults,
          data: data,
          index: index,
          mergeCells: mergeCells,
          autoFilter: autoFilter,
          filter: filter,
          showGridLines: this.options.showGridLines,
          hyperlinks: this._hyperlinks,
          validations: validations,
          defaultCellStyleId: defaultCellStyleId,
          rtl: this.options.rtl !== undefined ? this.options.rtl : defaults.rtl,
          legacyDrawing: this._comments.length ? ("vml" + (this.options.sheetIndex)) : null,
          drawing: this._drawings.length ? ("drw" + (this.options.sheetIndex)) : null,
          lastRow: lastRow,
          lastCol: lastCol,
          hasDisabledCells: this._hasDisabledCells,
      });
  };

  Worksheet.prototype.commentsXML = function commentsXML () {
      if (this._comments.length) {
          return COMMENTS_XML({ comments: this._comments });
      }
  };

  Worksheet.prototype.drawingsXML = function drawingsXML (images) {
      if (this._drawings.length) {
          var rels = {};
          var main = this._drawings.map(function (drw) {
              var ref = parseRef(drw.topLeftCell);
              var img = rels[drw.image];
              if (!img) {
                  img = rels[drw.image] = {
                      rId: ("img" + (drw.image)),
                      target: images[drw.image].target
                  };
              }
              return {
                  col     : ref.col,
                  colOffset : pixelsToExcel(drw.offsetX),
                  row     : ref.row,
                  rowOffset : pixelsToExcel(drw.offsetY),
                  width   : pixelsToExcel(drw.width),
                  height  : pixelsToExcel(drw.height),
                  imageId : img.rId
              };
          });
          return {
              main: DRAWINGS_XML(main),
              rels: DRAWINGS_RELS_XML(rels)
          };
      }
  };

  Worksheet.prototype.legacyDrawing = function legacyDrawing () {
      if (this._comments.length) {
          return LEGACY_DRAWING({ comments: this._comments });
      }
  };

  Worksheet.prototype._lookupString = function _lookupString (value) {
      var key = "$" + value;
      var index = this._strings.indexes[key];
      var result;

      if (index !== undefined) {
          result = index;
      } else {
          result = this._strings.indexes[key] = this._strings.uniqueCount;
          this._strings.uniqueCount ++;
      }

      this._strings.count ++;

      return result;
  };

  Worksheet.prototype._lookupStyle = function _lookupStyle (style) {
      var json = JSON.stringify(style);

      if (json === "{}") {
          return 0;
      }

      var index = indexOf(json, this._styles);

      if (index < 0) {
          index = this._styles.push(json) - 1;
      }

      // There is one default style
      return index + 1;
  };

  Worksheet.prototype._lookupBorder = function _lookupBorder (border) {
      var json = JSON.stringify(border);
      if (json === "{}") {
          return;
      }

      var index = indexOf(json, this._borders);
      if (index < 0) {
          index = this._borders.push(json) - 1;
      }

      // There is one default border
      return index + 1;
  };

  Worksheet.prototype._readCells = function _readCells (rowData) {
      for (var i = 0; i < rowData.length; i++) {
          var row = rowData[i];
          var cells = row.cells;

          row.data = [];

          for (var j = 0; j < cells.length; j++) {
              var cellData = this._cell(cells[j], row.index, j);
              if (cellData) {
                  row.data.push(cellData);
              }
          }
      }
  };

  Worksheet.prototype._cell = function _cell (data, rowIndex, cellIndex) {
        var this$1$1 = this;

      if (!data || data === EMPTY_CELL) {
          return null;
      }

      var value = data.value;

      var border = {};

      if (data.borderLeft) {
          border.left = data.borderLeft;
      }

      if (data.borderRight) {
          border.right = data.borderRight;
      }

      if (data.borderTop) {
          border.top = data.borderTop;
      }

      if (data.borderBottom) {
          border.bottom = data.borderBottom;
      }

      if (data.dBorders) {
          border.diagonal = data.dBorders;
      }

      border = this._lookupBorder(border);

      var defStyle = this.options.defaultCellStyle || {};
      var style = { borderId: border };

      (function (add) {
          add("color");
          add("background");
          add("bold");
          add("italic");
          add("underline");
          if (!add("fontFamily")) { add("fontName", "fontFamily"); }
          add("fontSize");
          add("format");
          if (!add("textAlign")) { add("hAlign", "textAlign"); }
          if (!add("verticalAlign")) { add("vAlign", "verticalAlign"); }
          add("wrap");
          add("indent");
          if (!add("disabled")) {
              if (add("enable")) {
                  style.disabled = !style.enable;
                  delete style.enable;
              }
          }
          if (style.disabled) {
              this$1$1._hasDisabledCells = true;
          }
      })(function (prop, target) {
          var val = data[prop];
          if (val === undefined) {
              val = defStyle[prop];
          }
          if (val !== undefined) {
              style[target || prop] = val;
              return true;
          }
      });

      var columns = this.options.columns || [];

      var column = columns[cellIndex];
      var type = typeof value;

      if (column && column.autoWidth && (!data.colSpan || data.colSpan === 1)) {
          var displayValue = value;

          // XXX: let's not bring kendo.toString in only for this.
          //    better wait until the spreadsheet engine is available as a separate
          //    component, then we can use a real Excel-like formatter.
          //
          if (type === "number") {
              // kendo.toString will not behave exactly like the Excel format
              // Still, it's the best we have available for estimating the character count.
              displayValue = IntlService.toString(value, data.format);
          }

          column.width = Math.max(column.width || 0, String(displayValue).length);
      }

      if (type === "string") {
          value = stripFunnyChars(value);
          value = this._lookupString(value);
          type = "s";
      } else if (type === "number") {
          type = "n";
      } else if (type === "boolean") {
          type = "b";
          value = Number(value);
      } else if (value && value.getTime) {
          type = null;
          value = dateToSerial(value);
          if (!style.format) {
              style.format = "mm-dd-yy";
          }
      } else {
          type = null;
          value = null;
      }

      style = this._lookupStyle(style);

      var cellName = ref(rowIndex, cellIndex);

      if (data.validation) {
          this._addValidation(data.validation, cellName);
      }

      if (data.comment) {
          var anchor = [
              cellIndex + 1,// start column
              15,           // start column offset
              rowIndex,     // start row
              10,           // start row offset
              cellIndex + 3,// end column
              15,           // end column offset
              rowIndex + 3, // end row
              4             // end row offset
          ];
          this._comments.push({
              ref  : cellName,
              text : data.comment,
              row  : rowIndex,
              col  : cellIndex,
              anchor : anchor.join(", ")
          });
      }

      return {
          value: value,
          formula: data.formula,
          type: type,
          style: style,
          ref: cellName
      };
  };

  Worksheet.prototype._addValidation = function _addValidation (v, ref) {
      var tmp = {
          showErrorMessage : v.type === "reject" ? 1 : 0,
          formula1       : v.from,
          formula2       : v.to,
          type           : MAP_EXCEL_TYPE[v.dataType] || v.dataType,
          operator       : MAP_EXCEL_OPERATOR[v.comparerType] || v.comparerType,
          allowBlank     : v.allowNulls ? 1 : 0,
          showDropDown   : v.showButton ? 0 : 1, // LOL, Excel!
          error          : v.messageTemplate,
          errorTitle     : v.titleTemplate
      };
      var json = JSON.stringify(tmp);
      if (!this._validations[json]) {
          this._validations[json] = tmp;
          tmp.sqref = [];
      }
      this._validations[json].sqref.push(ref);
  };

  Worksheet.prototype._getLastRow = function _getLastRow () {
      return countData(this.options.rows);
  };

  Worksheet.prototype._getLastCol = function _getLastCol () {
      var last = 0;
      this.options.rows.forEach(function(row) {
          if (row.cells) {
              last = Math.max(last, countData(row.cells));
          }
      });
      return last;
  };

function countData(data) {
    var last = data.length;
    data.forEach(function(el) {
        if (el.index && el.index >= last) {
            last = el.index + 1;
        }
    });
    return last;
}

var MAP_EXCEL_OPERATOR = {
    // includes only what differs; key is our operator, value is Excel
    // operator.
    greaterThanOrEqualTo : "greaterThanOrEqual",
    lessThanOrEqualTo    : "lessThanOrEqual"
};

var MAP_EXCEL_TYPE = {
    // eslint-disable-next-line id-denylist
    number: "decimal"
};

var defaultFormats = {
    "General": 0,
    "0": 1,
    "0.00": 2,
    "#,##0": 3,
    "#,##0.00": 4,
    "0%": 9,
    "0.00%": 10,
    "0.00E+00": 11,
    "# ?/?": 12,
    "# ??/??": 13,
    "mm-dd-yy": 14,
    "d-mmm-yy": 15,
    "d-mmm": 16,
    "mmm-yy": 17,
    "h:mm AM/PM": 18,
    "h:mm:ss AM/PM": 19,
    "h:mm": 20,
    "h:mm:ss": 21,
    "m/d/yy h:mm": 22,
    "#,##0 ;(#,##0)": 37,
    "#,##0 ;[Red](#,##0)": 38,
    "#,##0.00;(#,##0.00)": 39,
    "#,##0.00;[Red](#,##0.00)": 40,
    "mm:ss": 45,
    "[h]:mm:ss": 46,
    "mmss.0": 47,
    "##0.0E+0": 48,
    "@": 49,
    "[$-404]e/m/d": 27,
    "m/d/yy": 30,
    "t0": 59,
    "t0.00": 60,
    "t#,##0": 61,
    "t#,##0.00": 62,
    "t0%": 67,
    "t0.00%": 68,
    "t# ?/?": 69,
    "t# ??/??": 70
};

function maybeRGB(value) {
    function hex(val) {
        var x = parseInt(val, 10).toString(16);
        return x.length < 2 ? "0" + x : x;
    }

    var m = /^rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([0-9.]+)\s*)?\)/i.exec(value.trim());
    if (m) {
        var opacity = (m[4] ? parseFloat(m[4]) : 1) * 255 | 0;
        return "#" + hex(opacity) + hex(m[1]) + hex(m[2]) + hex(m[3]);
    }
    return value;
}

function convertColor(value) {
    var color = maybeRGB(value);
    if (color.length < 6) {
        color = color.replace(/(\w)/g, function($0, $1) {
            return $1 + $1;
        });
    }

    color = color.substring(1).toUpperCase();

    if (color.length < 8) {
        color = "FF" + color;
    }

    return color;
}

var Workbook = function Workbook(options) {
      var this$1$1 = this;

      this.options = options || {};
      this._strings = {
          indexes: {},
          count: 0,
          uniqueCount: 0
      };
      this._styles = [];
      this._borders = [];
      this._images = this.options.images;
      this._imgId = 0;

      this._sheets = map(this.options.sheets || [], function (options, i) {
          options.defaults = this$1$1.options;
          options.sheetIndex = i + 1;
          return new Worksheet(options, this$1$1._strings, this$1$1._styles, this$1$1._borders);
      });
  };

  Workbook.prototype.imageFilename = function imageFilename (mimeType) {
      var id = ++this._imgId;
      switch (mimeType) {
        case "image/jpg":
        case "image/jpeg":
          return ("image" + id + ".jpg");
        case "image/png":
          return ("image" + id + ".png");
        case "image/gif":
          return ("image" + id + ".gif");
        default:
          return ("image" + id + ".bin"); // XXX: anything better to do here?
      }
  };

  Workbook.prototype.toZIP = function toZIP () {
        var this$1$1 = this;

      var zip = createZip();

      var docProps = zip.folder("docProps");

      docProps.file("core.xml", CORE({
          creator: this.options.creator || "Kendo UI",
          lastModifiedBy: this.options.creator || "Kendo UI",
          created: this.options.date || new Date().toJSON(),
          modified: this.options.date || new Date().toJSON()
      }));

      var sheetCount = this._sheets.length;

      docProps.file("app.xml", APP({ sheets: this._sheets }));

      var rels = zip.folder("_rels");
      rels.file(".rels", RELS);

      var xl = zip.folder("xl");

      var xlRels = xl.folder("_rels");
      xlRels.file("workbook.xml.rels", WORKBOOK_RELS({ count: sheetCount }));

      if (this._images) {
          var media = xl.folder("media");
          Object.keys(this._images).forEach(function (id) {
              var img = this$1$1._images[id];
              var filename = this$1$1.imageFilename(img.type);
              media.file(filename, img.data);
              img.target = "../media/" + filename;
          });
      }

      var sheetIds = {};
      xl.file("workbook.xml", WORKBOOK({
          sheets: this._sheets,
          filterNames: map(this._sheets, function(sheet, index) {
              var options = sheet.options;
              var sheetName = (options.name || options.title || "Sheet" + (index + 1));
              sheetIds[sheetName.toLowerCase()] = index;
              var filter = options.filter;
              if (filter) {
                  if (filter.ref) {
                      // spreadsheet provides `ref`
                      var a = filter.ref.split(":");
                      var from = parseRef(a[0]);
                      var to = parseRef(a[1]);
                      return {
                          localSheetId: index,
                          name: sheetName,
                          from: $ref(from.row, from.col),
                          to: $ref(to.row, to.col)
                      };
                  } else if (typeof filter.from !== "undefined" && typeof filter.to !== "undefined") {
                      // grid does this
                      return {
                          localSheetId: index,
                          name: sheetName,
                          from: $ref(filterRowIndex(options), filter.from),
                          to: $ref(filterRowIndex(options), filter.to)
                      };
                  }
              }
          }),
          userNames: map(this.options.names || [], function(def) {
              return {
                  name: def.localName,
                  localSheetId: def.sheet ? sheetIds[def.sheet.toLowerCase()] : null,
                  value: def.value,
                  hidden: def.hidden
              };
          })
      }));

      var worksheets = xl.folder("worksheets");
      var drawings = xl.folder("drawings");
      var drawingsRels = drawings.folder("_rels");
      var sheetRels = worksheets.folder("_rels");
      var commentFiles = [];
      var drawingFiles = [];
      var hasDisabledCells = false;

      for (var idx = 0; idx < sheetCount; idx++) {
          var sheet = this._sheets[idx];
          var sheetName = "sheet" + (idx + 1) + ".xml";
          var sheetXML = sheet.toXML(idx); // must be called before relsToXML
          var relsXML = sheet.relsToXML();
          var commentsXML = sheet.commentsXML();
          var legacyDrawing = sheet.legacyDrawing();
          var drawingsXML = sheet.drawingsXML(this._images);

          if (sheet._hasDisabledCells) {
              hasDisabledCells = true;
          }

          if (relsXML) {
              sheetRels.file(sheetName + ".rels", relsXML);
          }
          if (commentsXML) {
              var name = "comments" + (sheet.options.sheetIndex) + ".xml";
              xl.file(name, commentsXML);
              commentFiles.push(name);
          }
          if (legacyDrawing) {
              drawings.file(("vmlDrawing" + (sheet.options.sheetIndex) + ".vml"), legacyDrawing);
          }
          if (drawingsXML) {
              var name$1 = "drawing" + (sheet.options.sheetIndex) + ".xml";
              drawings.file(name$1, drawingsXML.main);
              drawingsRels.file((name$1 + ".rels"), drawingsXML.rels);
              drawingFiles.push(name$1);
          }

          worksheets.file(sheetName, sheetXML);
      }

      var borders = map(this._borders, parseJSON);

      var styles = map(this._styles, parseJSON);

      var hasFont = function(style) {
          return style.underline || style.bold || style.italic || style.color || style.fontFamily || style.fontSize;
      };

      var convertFontSize = function(value) {
          var fontInPx = Number(value);
          var fontInPt;

          if (fontInPx) {
              fontInPt = fontInPx * 3 / 4;
          }

          return fontInPt;
      };

      var fonts = map(styles, function(style) {
          if (style.fontSize) {
              style.fontSize = convertFontSize(style.fontSize);
          }

          if (style.color) {
              style.color = convertColor(style.color);
          }

          if (hasFont(style)) {
              return style;
          }
      });

      var formats = map(styles, function(style) {
          if (style.format && defaultFormats[style.format] === undefined) {
              return style;
          }
      });

      var fills = map(styles, function(style) {
          if (style.background) {
              style.background = convertColor(style.background);
              return style;
          }
      });

      xl.file("styles.xml", STYLES({
          fonts: fonts,
          fills: fills,
          formats: formats,
          borders: borders,
          styles: map(styles, function(style) {
              var result = {};

              if (hasFont(style)) {
                  result.fontId = indexOf(style, fonts) + 1;
              }

              if (style.background) {
                  result.fillId = indexOf(style, fills) + 2;
              }

              result.textAlign = style.textAlign;
              result.indent = style.indent;
              result.verticalAlign = style.verticalAlign;
              result.wrap = style.wrap;
              result.borderId = style.borderId;

              if (style.format) {
                  if (defaultFormats[style.format] !== undefined) {
                      result.numFmtId = defaultFormats[style.format];
                  } else {
                      result.numFmtId = 165 + indexOf(style, formats);
                  }
              }

              if (hasDisabledCells) {
                  result.disabled = !!style.disabled;
              }

              return result;
          })
      }));

      xl.file("sharedStrings.xml", SHARED_STRINGS(this._strings));

      zip.file("[Content_Types].xml", CONTENT_TYPES({
          sheetCount: sheetCount,
          commentFiles: commentFiles,
          drawingFiles: drawingFiles
      }));

      return zip;
  };

  Workbook.prototype.toDataURL = function toDataURL () {
      var zip = this.toZIP();

      return zip.generateAsync ? zip.generateAsync(DATA_URL_OPTIONS).then(toDataURI) : toDataURI(zip.generate(DATA_URL_OPTIONS));
  };

  Workbook.prototype.toBlob = function toBlob () {
      var zip = this.toZIP();
      if (zip.generateAsync) {
          return zip.generateAsync(BLOB_OPTIONS);
      }
      return new Blob([ zip.generate(ARRAYBUFFER_OPTIONS) ], { type: MIME_TYPE });
  };

function borderStyle(width) {
    var alias = "thin";

    if (width === 2) {
        alias = "medium";
    } else if (width === 3) {
        alias = "thick";
    }

    return alias;
}

function borderSideTemplate(name, style) {
    var result = "";

    if (style) {
        result += "<" + name + " style=\"" + borderStyle(style.size) + "\">";
        if (style.color) {
            result += "<color rgb=\"" + convertColor(style.color) + "\"/>";
        }
        result += "</" + name + ">";
    }

    return result;
}

function borderTemplate(border) {
    var diag = border.diagonal ? border.diagonal.type : 0;
    return ("<border " + (diag & 2 ? 'diagonalUp="true"' : '') + " " + (diag & 1 ? 'diagonalDown="true"' : '') + ">\n      " + (borderSideTemplate("left", border.left)) + "\n      " + (borderSideTemplate("right", border.right)) + "\n      " + (borderSideTemplate("top", border.top)) + "\n      " + (borderSideTemplate("bottom", border.bottom)) + "\n      " + (borderSideTemplate("diagonal", border.diagonal)) + "\n    </border>");
}

var EMPTY_CELL = {};
function inflate(rows, mergedCells) {
    var rowData = [];
    var rowsByIndex = [];

    indexRows(rows, function(row, index) {
        var data = {
            _source: row,
            index: index,
            height: row.height,
            level: row.level,
            cells: []
        };

        rowData.push(data);
        rowsByIndex[index] = data;
    });

    var sorted = sortByIndex(rowData).slice(0);
    var ctx = {
        rowData: rowData,
        rowsByIndex: rowsByIndex,
        mergedCells: mergedCells
    };

    for (var i = 0; i < sorted.length; i++) {
        fillCells(sorted[i], ctx);
        delete sorted[i]._source;
    }

    return sortByIndex(rowData);
}

function indexRows(rows, callback) {
    for (var i = 0; i < rows.length; i++) {
        var row = rows[i];
        if (!row) {
            continue;
        }

        var index = row.index;
        if (typeof index !== "number") {
            index = i;
        }

        callback(row, index);
    }
}

function sortByIndex(items) {
    return items.sort(function(a, b) {
        return a.index - b.index;
    });
}

function pushUnique(array, el) {
    if (array.indexOf(el) < 0) {
        array.push(el);
    }
}

function getSpan(mergedCells, ref) {
    for (var i = 0; i < mergedCells.length; ++i) {
        var range = mergedCells[i];
        var a = range.split(":");
        var topLeft = a[0];
        if (topLeft === ref) {
            var bottomRight = a[1];
            topLeft = parseRef(topLeft);
            bottomRight = parseRef(bottomRight);
            return {
                rowSpan: bottomRight.row - topLeft.row + 1,
                colSpan: bottomRight.col - topLeft.col + 1
            };
        }
    }
}

function parseRef(ref) {
    function getcol(str) {
        var upperStr = str.toUpperCase();
        var col = 0;
        for (var i = 0; i < upperStr.length; ++i) {
            col = col * 26 + upperStr.charCodeAt(i) - 64;
        }
        return col - 1;
    }

    function getrow(str) {
        return parseInt(str, 10) - 1;
    }

    var m = /^([a-z]+)(\d+)$/i.exec(ref);
    return {
        row: getrow(m[2]),
        col: getcol(m[1])
    };
}

function pixelsToExcel(px) {
    return Math.round(px * 9525);
}

function fillCells(data, ctx) {
    var row = data._source;
    var rowIndex = data.index;
    var cells = row.cells;
    var cellData = data.cells;

    if (!cells) {
        return;
    }

    for (var i = 0; i < cells.length; i++) {
        var cell = cells[i] || EMPTY_CELL;

        var rowSpan = cell.rowSpan || 1;
        var colSpan = cell.colSpan || 1;

        var cellIndex = insertCell(cellData, cell);
        var topLeftRef = ref(rowIndex, cellIndex);

        if (rowSpan === 1 && colSpan === 1) {
            // could still be merged: the spreadsheet does not send
            // rowSpan/colSpan, but mergedCells is already populated.
            // https://github.com/telerik/kendo-ui-core/issues/2401
            var tmp = getSpan(ctx.mergedCells, topLeftRef);
            if (tmp) {
                colSpan = tmp.colSpan;
                rowSpan = tmp.rowSpan;
            }
        }

        spanCell(cell, cellData, cellIndex, colSpan);

        if (rowSpan > 1 || colSpan > 1) {
            pushUnique(ctx.mergedCells,
                       topLeftRef + ":" + ref(rowIndex + rowSpan - 1,
                                              cellIndex + colSpan - 1));
        }

        if (rowSpan > 1) {
            for (var ri = rowIndex + 1; ri < rowIndex + rowSpan; ri++) {
                var nextRow = ctx.rowsByIndex[ri];
                if (!nextRow) {
                    nextRow = ctx.rowsByIndex[ri] = { index: ri, cells: [] };
                    ctx.rowData.push(nextRow);
                }

                spanCell(cell, nextRow.cells, cellIndex - 1, colSpan + 1);
            }
        }
    }
}

function insertCell(data, cell) {
    var index;

    if (typeof cell.index === "number") {
        index = cell.index;
        insertCellAt(data, cell, cell.index);
    } else {
        index = appendCell(data, cell);
    }

    return index;
}

function insertCellAt(data, cell, index) {
    data[index] = cell;
}

function appendCell(data, cell) {
    var index = data.length;

    for (var i = 0; i < data.length + 1; i++) {
        if (!data[i]) {
            data[i] = cell;
            index = i;
            break;
        }
    }

    return index;
}

function spanCell(cell, row, startIndex, colSpan) {
    for (var i = 1; i < colSpan; i++) {
        var tmp = {
            borderTop    : cell.borderTop,
            borderRight  : cell.borderRight,
            borderBottom : cell.borderBottom,
            borderLeft   : cell.borderLeft
        };
        insertCellAt(row, tmp, startIndex + i);
    }
}

var SPREADSHEET_FILTERS = function (ref$1) {
  var ref = ref$1.ref;
  var columns = ref$1.columns;
  var generators = ref$1.generators;

  return ("\n<autoFilter ref=\"" + ref + "\">\n  " + (foreach(columns, function (col) { return ("\n    <filterColumn colId=\"" + (col.index) + "\">\n      " + (generators[col.filter](col)) + "\n    </filterColumn>\n  "); })) + "\n</autoFilter>");
};

var SPREADSHEET_CUSTOM_FILTER = function (ref) {
  var logic = ref.logic;
  var criteria = ref.criteria;

  return ("\n<customFilters " + (logic === 'and' ? 'and="1"' : '') + ">\n" + (foreach(criteria, function (f) {
    var op = spreadsheetFilters.customOperator(f);
    var val = spreadsheetFilters.customValue(f);
    return ("<customFilter " + (op ? ("operator=\"" + op + "\"") : '') + " val=\"" + val + "\"/>");
})) + "\n</customFilters>");
};

var SPREADSHEET_DYNAMIC_FILTER = function (ref) {
  var type = ref.type;

  return ("<dynamicFilter type=\"" + (spreadsheetFilters.dynamicFilterType(type)) + "\" />");
};

var SPREADSHEET_TOP_FILTER = function (ref) {
  var type = ref.type;
  var value = ref.value;

  return ("<top10 percent=\"" + (/percent$/i.test(type) ? 1 : 0) + "\"\n       top=\"" + (/^top/i.test(type) ? 1 : 0) + "\"\n       val=\"" + value + "\" />");
};

var SPREADSHEET_VALUE_FILTER = function (ref) {
    var blanks = ref.blanks;
    var values = ref.values;

    return ("<filters " + (blanks ? 'blank="1"' : '') + ">\n    " + (foreach(values, function (value) { return ("\n      <filter val=\"" + value + "\" />"); })) + "\n  </filters>");
};

function spreadsheetFilters(filter) {
    return SPREADSHEET_FILTERS({
        ref: filter.ref,
        columns: filter.columns,
        generators: {
            custom  : SPREADSHEET_CUSTOM_FILTER,
            dynamic : SPREADSHEET_DYNAMIC_FILTER,
            top     : SPREADSHEET_TOP_FILTER,
            value   : SPREADSHEET_VALUE_FILTER
        }
    });
}

spreadsheetFilters.customOperator = function(f) {
    return {
        eq  : "equal",
        gt  : "greaterThan",
        gte : "greaterThanOrEqual",
        lt  : "lessThan",
        lte : "lessThanOrEqual",
        ne  : "notEqual",

        // These are not in the spec, but seems to be how Excel does
        // it (see customValue below).  For the non-negated versions,
        // the operator attribute is missing completely.
        doesnotstartwith: "notEqual",
        doesnotendwith: "notEqual",
        doesnotcontain: "notEqual",
        doesnotmatch: "notEqual"
    }[f.operator.toLowerCase()];
};

function quoteSheet(name) {
    if (/^\'/.test(name)) { // assume already quoted, the Spreadsheet does it.
        return name;
    }
    if (/^[a-z_][a-z0-9_]*$/i.test(name)) {
        return name;        // no need to quote it
    }
    return "'" + name.replace(/\x27/g, "\\'") + "'";
}

spreadsheetFilters.customValue = function(f) {
    function esc(str) {
        return str.replace(/([*?])/g, "~$1");
    }

    switch (f.operator.toLowerCase()) {
        case "startswith":
        case "doesnotstartwith":
            return esc(f.value) + "*";

        case "endswith":
        case "doesnotendwith":
            return "*" + esc(f.value);

        case "contains":
        case "doesnotcontain":
            return "*" + esc(f.value) + "*";

        default:
            return f.value;
    }
};

spreadsheetFilters.dynamicFilterType = function(type) {
    return {
        quarter1  : "Q1",
        quarter2  : "Q2",
        quarter3  : "Q3",
        quarter4  : "Q4",
        january   : "M1",
        february  : "M2",
        march     : "M3",
        april     : "M4",
        may       : "M5",
        june      : "M6",
        july      : "M7",
        august    : "M8",
        september : "M9",
        october   : "M10",
        november  : "M11",
        december  : "M12"
    }[type.toLowerCase()] || type;
};

exports.ExcelExporter = ExcelExporter;
exports.IntlService = IntlService;
exports.TemplateService = TemplateService;
exports.Workbook = Workbook;
exports.Worksheet = Worksheet;
//# sourceMappingURL=main.js.map

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsic3JjL3NlcnZpY2VzL3RlbXBsYXRlLXNlcnZpY2UuanMiLCJzcmMvdXRpbHMvZ2V0dGVyLmpzIiwic3JjL3V0aWxzL21hcC5qcyIsInNyYy9leGNlbC1leHBvcnRlci5qcyIsInNyYy9zZXJ2aWNlcy9pbnRsLXNlcnZpY2UuanMiLCJzcmMvdXRpbHMvY3JlYXRlLXppcC5qcyIsInNyYy91dGlscy90aW1lLmpzIiwic3JjL29veG1sLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBjdXJyZW50ID0ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgICB9XG59O1xuXG5jbGFzcyBUZW1wbGF0ZVNlcnZpY2Uge1xuICAgIHN0YXRpYyByZWdpc3Rlcih1c2VySW1wbGVtZW50YXRpb24pIHtcbiAgICAgICAgY3VycmVudCA9IHVzZXJJbXBsZW1lbnRhdGlvbjtcbiAgICB9XG5cbiAgICBzdGF0aWMgY29tcGlsZSh0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudC5jb21waWxlKHRlbXBsYXRlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRlbXBsYXRlU2VydmljZTsiLCJjb25zdCBGSUVMRF9SRUdFWCA9IC9cXFsoPzooXFxkKyl8WydcIl0oLio/KVsnXCJdKVxcXXwoKD86KD8hXFxbLio/XFxdfFxcLikuKSspL2c7XG5jb25zdCBnZXR0ZXJDYWNoZSA9IHt9O1xuY29uc3QgVU5ERUZJTkVEID0gJ3VuZGVmaW5lZCc7XG5cbmdldHRlckNhY2hlW1VOREVGSU5FRF0gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0dGVyKGZpZWxkKSB7XG4gICAgaWYgKGdldHRlckNhY2hlW2ZpZWxkXSkge1xuICAgICAgICByZXR1cm4gZ2V0dGVyQ2FjaGVbZmllbGRdO1xuICAgIH1cblxuICAgIGNvbnN0IGZpZWxkcyA9IFtdO1xuICAgIGZpZWxkLnJlcGxhY2UoRklFTERfUkVHRVgsIGZ1bmN0aW9uKG1hdGNoLCBpbmRleCwgaW5kZXhBY2Nlc3NvciwgZmllbGQpIHtcbiAgICAgICAgZmllbGRzLnB1c2godHlwZW9mIGluZGV4ICE9PSBVTkRFRklORUQgPyBpbmRleCA6IChpbmRleEFjY2Vzc29yIHx8IGZpZWxkKSk7XG4gICAgfSk7XG5cbiAgICBnZXR0ZXJDYWNoZVtmaWVsZF0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG9iajtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZmllbGRzLmxlbmd0aCAmJiByZXN1bHQ7IGlkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbZmllbGRzW2lkeF1dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGdldHRlckNhY2hlW2ZpZWxkXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXAoYXJyYXksIGZ1bmMpIHtcbiAgICByZXR1cm4gYXJyYXkucmVkdWNlKChyZXN1bHQsIGVsLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IGZ1bmMoZWwsIGkpO1xuICAgICAgICBpZiAodmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG59IiwiaW1wb3J0IFRlbXBsYXRlU2VydmljZSBmcm9tICcuL3NlcnZpY2VzL3RlbXBsYXRlLXNlcnZpY2UnO1xuaW1wb3J0IGdldHRlciBmcm9tICcuL3V0aWxzL2dldHRlcic7XG5pbXBvcnQgbWFwIGZyb20gJy4vdXRpbHMvbWFwJztcblxuZnVuY3Rpb24gZGVmYXVsdEdyb3VwSGVhZGVyVGVtcGxhdGUoZGF0YSkge1xuICAgIHJldHVybiBgJHsgZGF0YS50aXRsZSB9OiAkeyBkYXRhLnZhbHVlIH1gO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcnJheShsZW5ndGgsIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNhbGxiYWNrKGlkeCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRJdGVtSWQoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLmlkO1xufVxuXG5jbGFzcyBFeGNlbEV4cG9ydGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMuY29sdW1ucyA9IHRoaXMuX3RyaW1Db2x1bW5zKG9wdGlvbnMuY29sdW1ucyB8fCBbXSk7XG5cbiAgICAgICAgdGhpcy5hbGxDb2x1bW5zID0gbWFwKHRoaXMuX2xlYWZDb2x1bW5zKG9wdGlvbnMuY29sdW1ucyB8fCBbXSksIHRoaXMuX3ByZXBhcmVDb2x1bW4pO1xuXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMuX3Zpc2libGVDb2x1bW5zKHRoaXMuYWxsQ29sdW1ucyk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5kYXRhID0gb3B0aW9ucy5kYXRhIHx8IFtdO1xuICAgICAgICB0aGlzLmFnZ3JlZ2F0ZXMgPSBvcHRpb25zLmFnZ3JlZ2F0ZXMgfHwge307XG4gICAgICAgIHRoaXMuZ3JvdXBzID0gW10uY29uY2F0KG9wdGlvbnMuZ3JvdXBzIHx8IFtdKTtcbiAgICAgICAgdGhpcy5oYXNHcm91cHMgPSB0aGlzLmdyb3Vwcy5sZW5ndGggPiAwO1xuICAgICAgICB0aGlzLmhpZXJhcmNoeSA9IG9wdGlvbnMuaGllcmFyY2h5O1xuICAgICAgICB0aGlzLmhhc0dyb3VwSGVhZGVyQ29sdW1uID0gdGhpcy5jb2x1bW5zLnNvbWUoY29sdW1uID0+IGNvbHVtbi5ncm91cEhlYWRlckNvbHVtblRlbXBsYXRlKTtcbiAgICAgICAgdGhpcy5jb2xsYXBzaWJsZSA9IHRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZTtcbiAgICB9XG5cbiAgICB3b3JrYm9vaygpIHtcbiAgICAgICAgY29uc3Qgd29ya2Jvb2sgPSB7XG4gICAgICAgICAgICBzaGVldHM6IFsge1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IHRoaXMuX2NvbHVtbnMoKSxcbiAgICAgICAgICAgICAgICByb3dzOiB0aGlzLmhpZXJhcmNoeSA/IHRoaXMuX2hpZXJhcmNoeVJvd3MoKSA6IHRoaXMuX3Jvd3MoKSxcbiAgICAgICAgICAgICAgICBmcmVlemVQYW5lOiB0aGlzLl9mcmVlemVQYW5lKCksXG4gICAgICAgICAgICAgICAgZmlsdGVyOiB0aGlzLl9maWx0ZXIoKVxuICAgICAgICAgICAgfSBdXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHdvcmtib29rO1xuICAgIH1cblxuICAgIF90cmltQ29sdW1ucyhjb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiBjb2x1bW5zLmZpbHRlcigoY29sdW1uKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gQm9vbGVhbihjb2x1bW4uZmllbGQpO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3VsdCAmJiBjb2x1bW4uY29sdW1ucykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX3RyaW1Db2x1bW5zKGNvbHVtbi5jb2x1bW5zKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfbGVhZkNvbHVtbnMoY29sdW1ucykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY29sdW1ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAoIWNvbHVtbnNbaWR4XS5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29sdW1uc1tpZHhdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmNvbmNhdCh0aGlzLl9sZWFmQ29sdW1ucyhjb2x1bW5zW2lkeF0uY29sdW1ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBfcHJlcGFyZUNvbHVtbihjb2x1bW4pIHtcbiAgICAgICAgaWYgKCFjb2x1bW4uZmllbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZhbHVlID0gZnVuY3Rpb24oZGF0YUl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXR0ZXIoY29sdW1uLmZpZWxkLCB0cnVlKShkYXRhSXRlbSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHZhbHVlcyA9IG51bGw7XG5cbiAgICAgICAgaWYgKGNvbHVtbi52YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHt9O1xuXG4gICAgICAgICAgICBjb2x1bW4udmFsdWVzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhbHVlc1tpdGVtLnZhbHVlXSA9IGl0ZW0udGV4dDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YWx1ZSA9IGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1tnZXR0ZXIoY29sdW1uLmZpZWxkLCB0cnVlKShkYXRhSXRlbSldO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb2x1bW4sIHtcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICAgICAgZ3JvdXBIZWFkZXJUZW1wbGF0ZTogY29sdW1uLmdyb3VwSGVhZGVyVGVtcGxhdGUgPyBUZW1wbGF0ZVNlcnZpY2UuY29tcGlsZShjb2x1bW4uZ3JvdXBIZWFkZXJUZW1wbGF0ZSkgOiBkZWZhdWx0R3JvdXBIZWFkZXJUZW1wbGF0ZSxcbiAgICAgICAgICAgIGdyb3VwSGVhZGVyQ29sdW1uVGVtcGxhdGU6IGNvbHVtbi5ncm91cEhlYWRlckNvbHVtblRlbXBsYXRlID8gVGVtcGxhdGVTZXJ2aWNlLmNvbXBpbGUoY29sdW1uLmdyb3VwSGVhZGVyQ29sdW1uVGVtcGxhdGUpIDogbnVsbCxcbiAgICAgICAgICAgIGdyb3VwRm9vdGVyVGVtcGxhdGU6IGNvbHVtbi5ncm91cEZvb3RlclRlbXBsYXRlID8gVGVtcGxhdGVTZXJ2aWNlLmNvbXBpbGUoY29sdW1uLmdyb3VwRm9vdGVyVGVtcGxhdGUpIDogbnVsbCxcbiAgICAgICAgICAgIGZvb3RlclRlbXBsYXRlOiBjb2x1bW4uZm9vdGVyVGVtcGxhdGUgPyBUZW1wbGF0ZVNlcnZpY2UuY29tcGlsZShjb2x1bW4uZm9vdGVyVGVtcGxhdGUpIDogbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfZmlsdGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5maWx0ZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRlcHRoID0gdGhpcy5fZGVwdGgoKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogZGVwdGgsXG4gICAgICAgICAgICB0bzogZGVwdGggKyB0aGlzLmNvbHVtbnMubGVuZ3RoIC0gMVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9jcmVhdGVQYWRkaW5nQ2VsbHMobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVBcnJheShsZW5ndGgsICgpID0+IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGZkZmRmXCIsXG4gICAgICAgICAgICBjb2xvcjogXCIjMzMzXCJcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLnBhZGRpbmdDZWxsT3B0aW9ucykpO1xuICAgIH1cblxuICAgIF9kYXRhUm93KGRhdGFJdGVtLCBsZXZlbCwgZGVwdGgpIHtcbiAgICAgICAgbGV0IGNlbGxzID0gdGhpcy5fY3JlYXRlUGFkZGluZ0NlbGxzKGxldmVsKTtcblxuICAgICAgICAvLyBncm91cGVkXG4gICAgICAgIGlmICh0aGlzLmhhc0dyb3VwcyAmJiBkZXB0aCAmJiBkYXRhSXRlbS5pdGVtcykge1xuICAgICAgICAgICAgY2VsbHMgPSBjZWxscy5jb25jYXQodGhpcy5fZ3JvdXBIZWFkZXJDZWxscyhkYXRhSXRlbSwgbGV2ZWwsIGRlcHRoKSk7XG4gICAgICAgICAgICBjb25zdCByb3dzID0gdGhpcy5fZGF0YVJvd3MoZGF0YUl0ZW0uaXRlbXMsIGxldmVsICsgMSk7XG5cbiAgICAgICAgICAgIHJvd3MudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJncm91cC1oZWFkZXJcIixcbiAgICAgICAgICAgICAgICBjZWxsczogY2VsbHMsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IHRoaXMuY29sbGFwc2libGUgPyBsZXZlbCA6IG51bGxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcm93cy5jb25jYXQodGhpcy5fZm9vdGVyKGRhdGFJdGVtLCBsZXZlbCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YUNlbGxzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgY2VsbElkeCA9IDA7IGNlbGxJZHggPCB0aGlzLmNvbHVtbnMubGVuZ3RoOyBjZWxsSWR4KyspIHtcbiAgICAgICAgICAgIGRhdGFDZWxsc1tjZWxsSWR4XSA9IHRoaXMuX2NlbGwoZGF0YUl0ZW0sIHRoaXMuY29sdW1uc1tjZWxsSWR4XSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oaWVyYXJjaHkpIHtcbiAgICAgICAgICAgIGRhdGFDZWxsc1swXS5jb2xTcGFuID0gZGVwdGggLSBsZXZlbCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyB7XG4gICAgICAgICAgICB0eXBlOiBcImRhdGFcIixcbiAgICAgICAgICAgIGNlbGxzOiBjZWxscy5jb25jYXQoZGF0YUNlbGxzKSxcbiAgICAgICAgICAgIGxldmVsOiB0aGlzLmNvbGxhcHNpYmxlID8gbGV2ZWwgOiBudWxsXG4gICAgICAgIH0gXTtcbiAgICB9XG5cbiAgICBfZ3JvdXBIZWFkZXJDZWxscyhkYXRhSXRlbSwgbGV2ZWwsIGRlcHRoKSB7XG4gICAgICAgIGNvbnN0IGNlbGxzID0gW107XG5cbiAgICAgICAgY29uc3QgY29sdW1uID0gdGhpcy5hbGxDb2x1bW5zLmZpbHRlcihmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW4uZmllbGQgPT09IGRhdGFJdGVtLmZpZWxkO1xuICAgICAgICB9KVswXSB8fCB7fTtcblxuICAgICAgICBjb25zdCB0aXRsZSA9IGNvbHVtbiAmJiBjb2x1bW4udGl0bGUgPyBjb2x1bW4udGl0bGUgOiBkYXRhSXRlbS5maWVsZDtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBjb2x1bW4gPyBjb2x1bW4uZ3JvdXBIZWFkZXJUZW1wbGF0ZSB8fCBjb2x1bW4uZ3JvdXBIZWFkZXJDb2x1bW5UZW1wbGF0ZSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBmaWVsZDogZGF0YUl0ZW0uZmllbGQsXG4gICAgICAgICAgICB2YWx1ZTogY29sdW1uICYmIGNvbHVtbi52YWx1ZXMgPyBjb2x1bW4udmFsdWVzW2RhdGFJdGVtLnZhbHVlXSA6IGRhdGFJdGVtLnZhbHVlLFxuICAgICAgICAgICAgYWdncmVnYXRlczogZGF0YUl0ZW0uYWdncmVnYXRlcyxcbiAgICAgICAgICAgIGl0ZW1zOiBkYXRhSXRlbS5pdGVtc1xuICAgICAgICB9LCBkYXRhSXRlbS5hZ2dyZWdhdGVzW2RhdGFJdGVtLmZpZWxkXSk7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0ZW1wbGF0ZSA/IHRlbXBsYXRlKGdyb3VwKSA6IGAkeyB0aXRsZSB9OiAkeyBkYXRhSXRlbS52YWx1ZSB9YDtcblxuICAgICAgICBjZWxscy5wdXNoKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGZkZmRmXCIsXG4gICAgICAgICAgICBjb2xvcjogXCIjMzMzXCIsXG4gICAgICAgICAgICBjb2xTcGFuOiAodGhpcy5oYXNHcm91cEhlYWRlckNvbHVtbiA/IDEgOiB0aGlzLmNvbHVtbnMubGVuZ3RoKSArIGRlcHRoIC0gbGV2ZWxcbiAgICAgICAgfSwgY29sdW1uLmdyb3VwSGVhZGVyQ2VsbE9wdGlvbnMpKTtcblxuICAgICAgICBpZiAodGhpcy5oYXNHcm91cEhlYWRlckNvbHVtbikge1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbHMucHVzaChPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2RmZGZkZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzMzM1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbHVtbi5ncm91cEhlYWRlckNvbHVtblRlbXBsYXRlID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4uZ3JvdXBIZWFkZXJDb2x1bW5UZW1wbGF0ZShPYmplY3QuYXNzaWduKHsgZ3JvdXA6IGdyb3VwIH0sIGdyb3VwLCBkYXRhSXRlbS5hZ2dyZWdhdGVzW2NvbHVtbi5maWVsZF0pKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbHVtbi5ncm91cEhlYWRlckNlbGxPcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2VsbHM7XG4gICAgfVxuXG4gICAgX2RhdGFSb3dzKGRhdGFJdGVtcywgbGV2ZWwpIHtcbiAgICAgICAgY29uc3QgZGVwdGggPSB0aGlzLl9kZXB0aCgpO1xuICAgICAgICBjb25zdCByb3dzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGF0YUl0ZW1zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHJvd3MucHVzaC5hcHBseShyb3dzLCB0aGlzLl9kYXRhUm93KGRhdGFJdGVtc1tpZHhdLCBsZXZlbCwgZGVwdGgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH1cblxuICAgIF9oaWVyYXJjaHlSb3dzKCkge1xuICAgICAgICBjb25zdCBkZXB0aCA9IHRoaXMuX2RlcHRoKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIGNvbnN0IGl0ZW1MZXZlbCA9IHRoaXMuaGllcmFyY2h5Lml0ZW1MZXZlbDtcbiAgICAgICAgY29uc3QgaXRlbUlkID0gdGhpcy5oaWVyYXJjaHkuaXRlbUlkIHx8IGRlZmF1bHRJdGVtSWQ7XG4gICAgICAgIGNvbnN0IGhhc0Zvb3RlciA9IHRoaXMuX2hhc0Zvb3RlclRlbXBsYXRlKCk7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBbXTtcbiAgICAgICAgY29uc3QgcGFyZW50cyA9IFtdO1xuICAgICAgICBsZXQgcHJldmlvdXNMZXZlbCA9IDA7XG4gICAgICAgIGxldCBwcmV2aW91c0l0ZW1JZDtcblxuICAgICAgICBpZiAoIWhhc0Zvb3Rlcikge1xuICAgICAgICAgICAgdGhpcy5jb2xsYXBzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGF0YS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZGF0YVtpZHhdO1xuICAgICAgICAgICAgY29uc3QgbGV2ZWwgPSBpdGVtTGV2ZWwoaXRlbSwgaWR4KTtcblxuICAgICAgICAgICAgaWYgKGhhc0Zvb3Rlcikge1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbCA+IHByZXZpb3VzTGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5wdXNoKHsgaWQ6IHByZXZpb3VzSXRlbUlkLCBsZXZlbDogcHJldmlvdXNMZXZlbCB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxldmVsIDwgcHJldmlvdXNMZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2guYXBwbHkocm93cywgdGhpcy5faGllcmFyY2h5Rm9vdGVyUm93cyhwYXJlbnRzLCBsZXZlbCwgZGVwdGgpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcmV2aW91c0xldmVsID0gbGV2ZWw7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNJdGVtSWQgPSBpdGVtSWQoaXRlbSwgaWR4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcm93cy5wdXNoLmFwcGx5KHJvd3MsIHRoaXMuX2RhdGFSb3coaXRlbSwgbGV2ZWwgKyAxLCBkZXB0aCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc0Zvb3Rlcikge1xuICAgICAgICAgICAgcm93cy5wdXNoLmFwcGx5KHJvd3MsIHRoaXMuX2hpZXJhcmNoeUZvb3RlclJvd3MocGFyZW50cywgMCwgZGVwdGgpKTtcblxuICAgICAgICAgICAgY29uc3Qgcm9vdEFnZ3JlZ2F0ZSA9IGRhdGEubGVuZ3RoID8gdGhpcy5hZ2dyZWdhdGVzW2RhdGFbMF0ucGFyZW50SWRdIDoge307XG4gICAgICAgICAgICByb3dzLnB1c2godGhpcy5faGllcmFyY2h5Rm9vdGVyKHJvb3RBZ2dyZWdhdGUsIDAsIGRlcHRoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmVwZW5kSGVhZGVyUm93cyhyb3dzKTtcblxuICAgICAgICByZXR1cm4gcm93cztcbiAgICB9XG5cbiAgICBfaGllcmFyY2h5Rm9vdGVyUm93cyhwYXJlbnRzLCBjdXJyZW50TGV2ZWwsIGRlcHRoKSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBbXTtcbiAgICAgICAgd2hpbGUgKHBhcmVudHMubGVuZ3RoICYmIHBhcmVudHNbcGFyZW50cy5sZW5ndGggLSAxXS5sZXZlbCA+PSBjdXJyZW50TGV2ZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHBhcmVudHMucG9wKCk7XG4gICAgICAgICAgICByb3dzLnB1c2godGhpcy5faGllcmFyY2h5Rm9vdGVyKHRoaXMuYWdncmVnYXRlc1twYXJlbnQuaWRdLCBwYXJlbnQubGV2ZWwgKyAxLCBkZXB0aCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfVxuXG4gICAgX2hhc0Zvb3RlclRlbXBsYXRlKCkge1xuICAgICAgICBjb25zdCBjb2x1bW5zID0gdGhpcy5jb2x1bW5zO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjb2x1bW5zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChjb2x1bW5zW2lkeF0uZm9vdGVyVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oaWVyYXJjaHlGb290ZXIoYWdncmVnYXRlcywgbGV2ZWwsIGRlcHRoKSB7XG4gICAgICAgIGNvbnN0IGNlbGxzID0gdGhpcy5jb2x1bW5zLm1hcChmdW5jdGlvbihjb2x1bW4sIGluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBjb2xTcGFuID0gaW5kZXggPyAxIDogZGVwdGggLSBsZXZlbCArIDE7XG4gICAgICAgICAgICBpZiAoY29sdW1uLmZvb3RlclRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRBZ2dyZWdhdGVzID0gKGFnZ3JlZ2F0ZXMgfHwge30pW2NvbHVtbi5maWVsZF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIiNkZmRmZGZcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzMzM1wiLFxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiBjb2xTcGFuLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29sdW1uLmZvb3RlclRlbXBsYXRlKE9iamVjdC5hc3NpZ24oeyBhZ2dyZWdhdGVzOiBhZ2dyZWdhdGVzIH0sIGZpZWxkQWdncmVnYXRlcykpXG4gICAgICAgICAgICAgICAgfSwgY29sdW1uLmZvb3RlckNlbGxPcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2RmZGZkZlwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgICAgICAgICBjb2xTcGFuOiBjb2xTcGFuXG4gICAgICAgICAgICB9LCBjb2x1bW4uZm9vdGVyQ2VsbE9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJmb290ZXJcIixcbiAgICAgICAgICAgIGNlbGxzOiB0aGlzLl9jcmVhdGVQYWRkaW5nQ2VsbHMobGV2ZWwpLmNvbmNhdChjZWxscyksXG4gICAgICAgICAgICBsZXZlbDogdGhpcy5jb2xsYXBzaWJsZSA/IGxldmVsIDogbnVsbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9mb290ZXIoZGF0YUl0ZW0sIGxldmVsKSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSBbXTtcbiAgICAgICAgY29uc3QgZm9vdGVyID0gdGhpcy5jb2x1bW5zLnNvbWUoY29sdW1uID0+IGNvbHVtbi5ncm91cEZvb3RlclRlbXBsYXRlKTtcblxuICAgICAgICBsZXQgdGVtcGxhdGVEYXRhLCBncm91cDtcbiAgICAgICAgaWYgKGZvb3Rlcikge1xuICAgICAgICAgICAgZ3JvdXAgPSB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IHsgaXRlbXM6IGRhdGFJdGVtLml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogZGF0YUl0ZW0uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkYXRhSXRlbS52YWx1ZSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGVtcGxhdGVEYXRhID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkYXRhSXRlbS5hZ2dyZWdhdGVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVEYXRhW2tleV0gPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhSXRlbS5hZ2dyZWdhdGVzW2tleV0sIGdyb3VwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2VsbHMgPSB0aGlzLmNvbHVtbnMubWFwKChjb2x1bW4pID0+IHtcbiAgICAgICAgICAgIGlmIChjb2x1bW4uZ3JvdXBGb290ZXJUZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGVtcGxhdGVEYXRhLCBkYXRhSXRlbS5hZ2dyZWdhdGVzW2NvbHVtbi5maWVsZF0sIGdyb3VwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2RmZGZkZlwiLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb2x1bW4uZ3JvdXBGb290ZXJUZW1wbGF0ZShkYXRhKVxuICAgICAgICAgICAgICAgIH0sIGNvbHVtbi5ncm91cEZvb3RlckNlbGxPcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiI2RmZGZkZlwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIlxuICAgICAgICAgICAgfSwgY29sdW1uLmdyb3VwRm9vdGVyQ2VsbE9wdGlvbnMpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZm9vdGVyKSB7XG4gICAgICAgICAgICByb3dzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZ3JvdXAtZm9vdGVyXCIsXG4gICAgICAgICAgICAgICAgY2VsbHM6IHRoaXMuX2NyZWF0ZVBhZGRpbmdDZWxscyh0aGlzLmdyb3Vwcy5sZW5ndGgpLmNvbmNhdChjZWxscyksXG4gICAgICAgICAgICAgICAgbGV2ZWw6IHRoaXMuY29sbGFwc2libGUgPyBsZXZlbCA6IG51bGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfVxuXG4gICAgX2lzQ29sdW1uVmlzaWJsZShjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2libGVDb2x1bW5zKFsgY29sdW1uIF0pLmxlbmd0aCA+IDAgJiYgKGNvbHVtbi5maWVsZCB8fCBjb2x1bW4uY29sdW1ucyk7XG4gICAgfVxuXG4gICAgX3Zpc2libGVDb2x1bW5zKGNvbHVtbnMpIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbnMuZmlsdGVyKChjb2x1bW4pID0+IHtcbiAgICAgICAgICAgIGxldCBleHBvcnRhYmxlID0gY29sdW1uLmV4cG9ydGFibGU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV4cG9ydGFibGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0YWJsZSA9IGNvbHVtbi5leHBvcnRhYmxlLmV4Y2VsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlSW5FeHBvcnQgPSAhY29sdW1uLmhpZGRlbiAmJiBleHBvcnRhYmxlICE9PSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVJbkV4cG9ydE9ubHkgPSBjb2x1bW4uaGlkZGVuICYmIGV4cG9ydGFibGUgPT09IHRydWU7XG4gICAgICAgICAgICBsZXQgdmlzaWJsZSA9IHZpc2libGVJbkV4cG9ydCB8fCB2aXNpYmxlSW5FeHBvcnRPbmx5O1xuICAgICAgICAgICAgaWYgKHZpc2libGUgJiYgY29sdW1uLmNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICB2aXNpYmxlID0gdGhpcy5fdmlzaWJsZUNvbHVtbnMoY29sdW1uLmNvbHVtbnMpLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmlzaWJsZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2hlYWRlclJvdyhyb3csIGdyb3Vwcykge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gcm93LmNlbGxzLm1hcChmdW5jdGlvbihjZWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihjZWxsLCB7XG4gICAgICAgICAgICAgICAgY29sU3BhbjogY2VsbC5jb2xTcGFuID4gMSA/IGNlbGwuY29sU3BhbiA6IDEsXG4gICAgICAgICAgICAgICAgcm93U3Bhbjogcm93LnJvd1NwYW4gPiAxICYmICFjZWxsLmNvbFNwYW4gPyByb3cucm93U3BhbiA6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5oaWVyYXJjaHkgJiYgaGVhZGVyc1swXS5maXJzdENlbGwpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbMF0uY29sU3BhbiArPSB0aGlzLl9kZXB0aCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiaGVhZGVyXCIsXG4gICAgICAgICAgICBjZWxsczogY3JlYXRlQXJyYXkoZ3JvdXBzLmxlbmd0aCwgKCkgPT4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjN2E3YTdhXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiXG4gICAgICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaGVhZGVyUGFkZGluZ0NlbGxPcHRpb25zKSkuY29uY2F0KGhlYWRlcnMpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3ByZXBlbmRIZWFkZXJSb3dzKHJvd3MpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG5cbiAgICAgICAgY29uc3QgaGVhZGVyUm93cyA9IFsgeyByb3dTcGFuOiAxLCBjZWxsczogW10sIGluZGV4OiAwIH0gXTtcblxuICAgICAgICB0aGlzLl9wcmVwYXJlSGVhZGVyUm93cyhoZWFkZXJSb3dzLCB0aGlzLm9wdGlvbnMuY29sdW1ucyk7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gaGVhZGVyUm93cy5sZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgIHJvd3MudW5zaGlmdCh0aGlzLl9oZWFkZXJSb3coaGVhZGVyUm93c1tpZHhdLCBncm91cHMpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wcmVwYXJlSGVhZGVyUm93cyhyb3dzLCBjb2x1bW5zLCBwYXJlbnRDZWxsLCBwYXJlbnRSb3cpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gcGFyZW50Um93IHx8IHJvd3Nbcm93cy5sZW5ndGggLSAxXTtcbiAgICAgICAgbGV0IGNoaWxkUm93ID0gcm93c1tyb3cuaW5kZXggKyAxXTtcbiAgICAgICAgbGV0IHRvdGFsQ29sU3BhbiA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY29sdW1ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zW2lkeF07XG4gICAgICAgICAgICBpZiAodGhpcy5faXNDb2x1bW5WaXNpYmxlKGNvbHVtbikpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjN2E3YTdhXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNvbHVtbi50aXRsZSB8fCBjb2x1bW4uZmllbGQsXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDAsXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0Q2VsbDogaWR4ID09PSAwICYmICghcGFyZW50Q2VsbCB8fCBwYXJlbnRDZWxsLmZpcnN0Q2VsbClcbiAgICAgICAgICAgICAgICB9LCBjb2x1bW4uaGVhZGVyQ2VsbE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJvdy5jZWxscy5wdXNoKGNlbGwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5jb2x1bW5zICYmIGNvbHVtbi5jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkUm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFJvdyA9IHsgcm93U3BhbjogMCwgY2VsbHM6IFtdLCBpbmRleDogcm93cy5sZW5ndGggfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaChjaGlsZFJvdyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2VsbC5jb2xTcGFuID0gdGhpcy5fdHJpbUNvbHVtbnModGhpcy5fdmlzaWJsZUNvbHVtbnMoY29sdW1uLmNvbHVtbnMpKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXBhcmVIZWFkZXJSb3dzKHJvd3MsIGNvbHVtbi5jb2x1bW5zLCBjZWxsLCBjaGlsZFJvdyk7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsQ29sU3BhbiArPSBjZWxsLmNvbFNwYW4gLSAxO1xuICAgICAgICAgICAgICAgICAgICByb3cucm93U3BhbiA9IHJvd3MubGVuZ3RoIC0gcm93LmluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJlbnRDZWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRDZWxsLmNvbFNwYW4gKz0gdG90YWxDb2xTcGFuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Jvd3MoKSB7XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLl9kYXRhUm93cyh0aGlzLmRhdGEsIDApO1xuXG4gICAgICAgIGlmICh0aGlzLmNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9wcmVwZW5kSGVhZGVyUm93cyhyb3dzKTtcbiAgICAgICAgICAgIGxldCBmb290ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgY2VsbHMgPSB0aGlzLmNvbHVtbnMubWFwKChjb2x1bW4pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmZvb3RlclRlbXBsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvb3RlciA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGZkZmRmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzMzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY29sdW1uLmZvb3RlclRlbXBsYXRlKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuYWdncmVnYXRlcywgdGhpcy5hZ2dyZWdhdGVzW2NvbHVtbi5maWVsZF0pKVxuICAgICAgICAgICAgICAgICAgICB9LCBjb2x1bW4uZm9vdGVyQ2VsbE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGZkZmRmXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMzNcIlxuICAgICAgICAgICAgICAgIH0sIGNvbHVtbi5mb290ZXJDZWxsT3B0aW9ucyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGZvb3Rlcikge1xuICAgICAgICAgICAgICAgIHJvd3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZm9vdGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGNlbGxzOiB0aGlzLl9jcmVhdGVQYWRkaW5nQ2VsbHModGhpcy5ncm91cHMubGVuZ3RoKS5jb25jYXQoY2VsbHMpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcm93cztcbiAgICB9XG5cbiAgICBfaGVhZGVyRGVwdGgoY29sdW1ucykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSAxO1xuICAgICAgICBsZXQgbWF4ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjb2x1bW5zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChjb2x1bW5zW2lkeF0uY29sdW1ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLl9oZWFkZXJEZXB0aChjb2x1bW5zW2lkeF0uY29sdW1ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXAgPiBtYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG1heDtcbiAgICB9XG5cbiAgICBfZnJlZXplUGFuZSgpIHtcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IHRoaXMuX3Zpc2libGVDb2x1bW5zKHRoaXMub3B0aW9ucy5jb2x1bW5zIHx8IFtdKTtcblxuICAgICAgICBjb25zdCBjb2xTcGxpdCA9IHRoaXMuX3Zpc2libGVDb2x1bW5zKHRoaXMuX3RyaW1Db2x1bW5zKHRoaXMuX2xlYWZDb2x1bW5zKGNvbHVtbnMuZmlsdGVyKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi5sb2NrZWQ7XG4gICAgICAgIH0pKSkpLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93U3BsaXQ6IHRoaXMuX2hlYWRlckRlcHRoKGNvbHVtbnMpLFxuICAgICAgICAgICAgY29sU3BsaXQ6IGNvbFNwbGl0ID8gY29sU3BsaXQgKyB0aGlzLmdyb3Vwcy5sZW5ndGggOiAwXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2NlbGwoZGF0YUl0ZW0sIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB2YWx1ZTogY29sdW1uLnZhbHVlKGRhdGFJdGVtKVxuICAgICAgICB9LCBjb2x1bW4uY2VsbE9wdGlvbnMpO1xuICAgIH1cblxuICAgIF9kZXB0aCgpIHtcbiAgICAgICAgbGV0IGRlcHRoID0gMDtcblxuICAgICAgICBpZiAodGhpcy5oaWVyYXJjaHkpIHtcbiAgICAgICAgICAgIGRlcHRoID0gdGhpcy5oaWVyYXJjaHkuZGVwdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXB0aCA9IHRoaXMuZ3JvdXBzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXB0aDtcbiAgICB9XG5cbiAgICBfY29sdW1ucygpIHtcbiAgICAgICAgY29uc3QgZGVwdGggPSB0aGlzLl9kZXB0aCgpO1xuICAgICAgICBjb25zdCBjb2x1bW5zID0gY3JlYXRlQXJyYXkoZGVwdGgsICgpID0+ICh7IHdpZHRoOiAyMCB9KSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbHVtbnMuY29uY2F0KHRoaXMuY29sdW1ucy5tYXAoZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChjb2x1bW4ud2lkdGgsIDEwKSxcbiAgICAgICAgICAgICAgICBhdXRvV2lkdGg6IGNvbHVtbi53aWR0aCA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXhjZWxFeHBvcnRlcjtcbiIsImxldCBjdXJyZW50ID0ge1xuICAgIHRvU3RyaW5nOiAodmFsdWUpID0+IHZhbHVlXG59O1xuXG5jbGFzcyBJbnRsU2VydmljZSB7XG4gICAgc3RhdGljIHJlZ2lzdGVyKHVzZXJJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICBjdXJyZW50ID0gdXNlckltcGxlbWVudGF0aW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyB0b1N0cmluZyh2YWx1ZSwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50LnRvU3RyaW5nKHZhbHVlLCBmb3JtYXQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50bFNlcnZpY2U7IiwiaW1wb3J0IEpTWmlwIGZyb20gJ0Bwcm9ncmVzcy9qc3ppcC1lc20nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVaaXAoKSB7XG4gICAgcmV0dXJuIG5ldyBKU1ppcCgpO1xufVxuIiwiLy8gZGF0ZSBwYWNraW5nIHV0aWxpdGllcyBmcm9tIEtlbmRvIFNwcmVhZHNoZWV0XG5cbi8vIEp1bGlhbiBkYXlzIGFsZ29yaXRobXMgZnJvbSBodHRwOi8vd3d3Lmhlcm1ldGljLmNoL2NhbF9zdHVkL2pkbi5odG0jY29tcFxuZnVuY3Rpb24gZGF0ZVRvSnVsaWFuRGF5cyh5LCBtLCBkKSB7XG4gICAgcmV0dXJuICgoMTQ2MSAqICh5ICsgNDgwMCArICgobSAtIDEzKSAvIDEyIHwgMCkpKSAvIDQgfCAwKSArXG4gICAgICAgICgoMzY3ICogKG0gLSAxIC0gMTIgKiAoKG0gLSAxMykgLyAxMiB8IDApKSkgLyAxMiB8IDApIC1cbiAgICAgICAgKCgzICogKCgoeSArIDQ5MDAgKyAoKG0gLSAxMykgLyAxMiB8IDApKSAvIDEwMCB8IDApKSkgLyA0IHwgMCkgK1xuICAgICAgICBkIC0gMzIwNzU7XG59XG5cbi8vIFRoaXMgdXNlcyB0aGUgR29vZ2xlIFNwcmVhZHNoZWV0IGFwcHJvYWNoOiB0cmVhdCAxODk5LTEyLTMxIGFzIGRheSAxLCBhbGxvd2luZyB0byBhdm9pZFxuLy8gaW1wbGVtZW50aW5nIHRoZSBcIkxlYXAgWWVhciBCdWdcIiB5ZXQgc3RpbGwgYmUgRXhjZWwgY29tcGF0aWJsZSBmb3IgZGF0ZXMgc3RhcnRpbmcgMTkwMC0wMy0wMS5cbmNvbnN0IEJBU0VfREFURSA9IGRhdGVUb0p1bGlhbkRheXMoMTkwMCwgMCwgLTEpO1xuXG5mdW5jdGlvbiBwYWNrRGF0ZSh5ZWFyLCBtb250aCwgZGF0ZSkge1xuICAgIHJldHVybiBkYXRlVG9KdWxpYW5EYXlzKHllYXIsIG1vbnRoLCBkYXRlKSAtIEJBU0VfREFURTtcbn1cblxuZnVuY3Rpb24gcGFja1RpbWUoaGgsIG1tLCBzcywgbXMpIHtcbiAgICByZXR1cm4gKGhoICsgKG1tICsgKHNzICsgbXMgLyAxMDAwKSAvIDYwKSAvIDYwKSAvIDI0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkYXRlVG9TZXJpYWwoZGF0ZSkge1xuICAgIGNvbnN0IHRpbWUgPSBwYWNrVGltZShkYXRlLmdldEhvdXJzKCksXG4gICAgICAgIGRhdGUuZ2V0TWludXRlcygpLFxuICAgICAgICBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSk7XG4gICAgY29uc3Qgc2VyaWFsID0gcGFja0RhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgIGRhdGUuZ2V0RGF0ZSgpKTtcbiAgICByZXR1cm4gc2VyaWFsIDwgMCA/IHNlcmlhbCAtIDEgKyB0aW1lIDogc2VyaWFsICsgdGltZTtcbn1cbiIsImltcG9ydCBtYXAgZnJvbSAnLi91dGlscy9tYXAnO1xuaW1wb3J0IGNyZWF0ZVppcCBmcm9tICcuL3V0aWxzL2NyZWF0ZS16aXAnO1xuaW1wb3J0IEludGxTZXJ2aWNlIGZyb20gJy4vc2VydmljZXMvaW50bC1zZXJ2aWNlJztcbmltcG9ydCBkYXRlVG9TZXJpYWwgZnJvbSAnLi91dGlscy90aW1lJztcblxuY29uc3QgTUlNRV9UWVBFID0gXCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldFwiO1xuY29uc3QgREFUQV9VUkxfUFJFRklYID0gYGRhdGE6JHtNSU1FX1RZUEV9O2Jhc2U2NCxgO1xuY29uc3QgREFUQV9VUkxfT1BUSU9OUyA9IHsgY29tcHJlc3Npb246IFwiREVGTEFURVwiLCB0eXBlOiBcImJhc2U2NFwiIH07XG5jb25zdCBCTE9CX09QVElPTlMgPSB7IGNvbXByZXNzaW9uOiBcIkRFRkxBVEVcIiwgdHlwZTogXCJibG9iXCIgfTtcbmNvbnN0IEFSUkFZQlVGRkVSX09QVElPTlMgPSB7IGNvbXByZXNzaW9uOiBcIkRFRkxBVEVcIiwgdHlwZTogXCJhcnJheWJ1ZmZlclwiIH07XG5cbi8qIGVzbGludC1kaXNhYmxlIGluZGVudCAqL1xuXG5mdW5jdGlvbiB0b0RhdGFVUkkoY29udGVudCkge1xuICAgIHJldHVybiBEQVRBX1VSTF9QUkVGSVggKyBjb250ZW50O1xufVxuXG5mdW5jdGlvbiBpbmRleE9mKHRoaW5nLCBhcnJheSkge1xuICAgIHJldHVybiBhcnJheS5pbmRleE9mKHRoaW5nKTtcbn1cblxuY29uc3QgcGFyc2VKU09OID0gSlNPTi5wYXJzZS5iaW5kKEpTT04pO1xuXG5mdW5jdGlvbiBFU0ModmFsKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWwpXG4gICAgICAgIC5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIilcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKVxuICAgICAgICAucmVwbGFjZSgvXFxcIi9nLCBcIiZxdW90O1wiKVxuICAgICAgICAucmVwbGFjZSgvXFwnL2csIFwiJiMzOTtcIik7XG59XG5cbmZ1bmN0aW9uIHJlcGVhdChjb3VudCwgZnVuYykge1xuICAgIGxldCBzdHIgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuICAgICAgICBzdHIgKz0gZnVuYyhpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cblxuZnVuY3Rpb24gZm9yZWFjaChhcnIsIGZ1bmMpIHtcbiAgICBsZXQgc3RyID0gXCJcIjtcbiAgICBpZiAoYXJyICE9IG51bGwpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gZnVuYyhhcnJbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhcnIgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoYXJyKS5mb3JFYWNoKChrZXksIGkpID0+IHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gZnVuYyhhcnJba2V5XSwga2V5LCBpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5cbmNvbnN0IFhNTEhFQUQgPSAnPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwieWVzXCI/Plxccic7XG5cbmNvbnN0IFJFTFMgPSBgJHtYTUxIRUFEfVxuICAgICAgICAgICAgPFJlbGF0aW9uc2hpcHMgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L3JlbGF0aW9uc2hpcHNcIj5cbiAgICAgICAgICAgICAgIDxSZWxhdGlvbnNoaXAgSWQ9XCJySWQzXCIgVHlwZT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvZXh0ZW5kZWQtcHJvcGVydGllc1wiIFRhcmdldD1cImRvY1Byb3BzL2FwcC54bWxcIi8+XG4gICAgICAgICAgICAgICA8UmVsYXRpb25zaGlwIElkPVwicklkMlwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L3JlbGF0aW9uc2hpcHMvbWV0YWRhdGEvY29yZS1wcm9wZXJ0aWVzXCIgVGFyZ2V0PVwiZG9jUHJvcHMvY29yZS54bWxcIi8+XG4gICAgICAgICAgICAgICA8UmVsYXRpb25zaGlwIElkPVwicklkMVwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL29mZmljZURvY3VtZW50XCIgVGFyZ2V0PVwieGwvd29ya2Jvb2sueG1sXCIvPlxuICAgICAgICAgICAgPC9SZWxhdGlvbnNoaXBzPmA7XG5cbmNvbnN0IENPUkUgPSAoeyBjcmVhdG9yLCBsYXN0TW9kaWZpZWRCeSwgY3JlYXRlZCwgbW9kaWZpZWQgfSkgPT4gYCR7WE1MSEVBRH1cbiA8Y3A6Y29yZVByb3BlcnRpZXMgeG1sbnM6Y3A9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L21ldGFkYXRhL2NvcmUtcHJvcGVydGllc1wiXG4gICB4bWxuczpkYz1cImh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvXCIgeG1sbnM6ZGN0ZXJtcz1cImh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy9cIlxuICAgeG1sbnM6ZGNtaXR5cGU9XCJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvXCIgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIj5cbiAgIDxkYzpjcmVhdG9yPiR7RVNDKGNyZWF0b3IpfTwvZGM6Y3JlYXRvcj5cbiAgIDxjcDpsYXN0TW9kaWZpZWRCeT4ke0VTQyhsYXN0TW9kaWZpZWRCeSl9PC9jcDpsYXN0TW9kaWZpZWRCeT5cbiAgIDxkY3Rlcm1zOmNyZWF0ZWQgeHNpOnR5cGU9XCJkY3Rlcm1zOlczQ0RURlwiPiR7RVNDKGNyZWF0ZWQpfTwvZGN0ZXJtczpjcmVhdGVkPlxuICAgPGRjdGVybXM6bW9kaWZpZWQgeHNpOnR5cGU9XCJkY3Rlcm1zOlczQ0RURlwiPiR7RVNDKG1vZGlmaWVkKX08L2RjdGVybXM6bW9kaWZpZWQ+XG48L2NwOmNvcmVQcm9wZXJ0aWVzPmA7XG5cbmNvbnN0IEFQUCA9ICh7IHNoZWV0cyB9KSA9PiBgJHtYTUxIRUFEfVxuPFByb3BlcnRpZXMgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9leHRlbmRlZC1wcm9wZXJ0aWVzXCIgeG1sbnM6dnQ9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9kb2NQcm9wc1ZUeXBlc1wiPlxuICA8QXBwbGljYXRpb24+TWljcm9zb2Z0IEV4Y2VsPC9BcHBsaWNhdGlvbj5cbiAgPERvY1NlY3VyaXR5PjA8L0RvY1NlY3VyaXR5PlxuICA8U2NhbGVDcm9wPmZhbHNlPC9TY2FsZUNyb3A+XG4gIDxIZWFkaW5nUGFpcnM+XG4gICAgPHZ0OnZlY3RvciBzaXplPVwiMlwiIGJhc2VUeXBlPVwidmFyaWFudFwiPlxuICAgICAgPHZ0OnZhcmlhbnQ+XG4gICAgICAgIDx2dDpscHN0cj5Xb3Jrc2hlZXRzPC92dDpscHN0cj5cbiAgICAgIDwvdnQ6dmFyaWFudD5cbiAgICAgIDx2dDp2YXJpYW50PlxuICAgICAgICA8dnQ6aTQ+JHtzaGVldHMubGVuZ3RofTwvdnQ6aTQ+XG4gICAgICA8L3Z0OnZhcmlhbnQ+XG4gICAgPC92dDp2ZWN0b3I+XG4gIDwvSGVhZGluZ1BhaXJzPlxuICA8VGl0bGVzT2ZQYXJ0cz5cbiAgICA8dnQ6dmVjdG9yIHNpemU9XCIke3NoZWV0cy5sZW5ndGh9XCIgYmFzZVR5cGU9XCJscHN0clwiPiR7XG4gICAgICBmb3JlYWNoKHNoZWV0cywgKHNoZWV0LCBpKSA9PlxuICAgICAgICBzaGVldC5vcHRpb25zLnRpdGxlXG4gICAgICAgICAgPyBgPHZ0Omxwc3RyPiR7RVNDKHNoZWV0Lm9wdGlvbnMudGl0bGUpfTwvdnQ6bHBzdHI+YFxuICAgICAgICAgIDogYDx2dDpscHN0cj5TaGVldCR7aSArIDF9PC92dDpscHN0cj5gXG4gICAgICApXG4gICAgfTwvdnQ6dmVjdG9yPlxuICA8L1RpdGxlc09mUGFydHM+XG4gIDxMaW5rc1VwVG9EYXRlPmZhbHNlPC9MaW5rc1VwVG9EYXRlPlxuICA8U2hhcmVkRG9jPmZhbHNlPC9TaGFyZWREb2M+XG4gIDxIeXBlcmxpbmtzQ2hhbmdlZD5mYWxzZTwvSHlwZXJsaW5rc0NoYW5nZWQ+XG4gIDxBcHBWZXJzaW9uPjE0LjAzMDA8L0FwcFZlcnNpb24+XG48L1Byb3BlcnRpZXM+YDtcblxuY29uc3QgQ09OVEVOVF9UWVBFUyA9ICh7IHNoZWV0Q291bnQsIGNvbW1lbnRGaWxlcywgZHJhd2luZ0ZpbGVzIH0pID0+IGAke1hNTEhFQUR9XG48VHlwZXMgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L2NvbnRlbnQtdHlwZXNcIj5cbiAgPERlZmF1bHQgRXh0ZW5zaW9uPVwicG5nXCIgQ29udGVudFR5cGU9XCJpbWFnZS9wbmdcIi8+XG4gIDxEZWZhdWx0IEV4dGVuc2lvbj1cImdpZlwiIENvbnRlbnRUeXBlPVwiaW1hZ2UvZ2lmXCIvPlxuICA8RGVmYXVsdCBFeHRlbnNpb249XCJqcGdcIiBDb250ZW50VHlwZT1cImltYWdlL2pwZWdcIi8+XG4gIDxEZWZhdWx0IEV4dGVuc2lvbj1cInJlbHNcIiBDb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1wYWNrYWdlLnJlbGF0aW9uc2hpcHMreG1sXCIgLz5cbiAgPERlZmF1bHQgRXh0ZW5zaW9uPVwieG1sXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi94bWxcIiAvPlxuICA8RGVmYXVsdCBFeHRlbnNpb249XCJ2bWxcIiBDb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC52bWxEcmF3aW5nXCIvPlxuICA8T3ZlcnJpZGUgUGFydE5hbWU9XCIveGwvd29ya2Jvb2sueG1sXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldC5tYWluK3htbFwiIC8+XG4gIDxPdmVycmlkZSBQYXJ0TmFtZT1cIi94bC9zdHlsZXMueG1sXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zdHlsZXMreG1sXCIvPlxuICA8T3ZlcnJpZGUgUGFydE5hbWU9XCIveGwvc2hhcmVkU3RyaW5ncy54bWxcIiBDb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoYXJlZFN0cmluZ3MreG1sXCIvPlxuICAke3JlcGVhdChzaGVldENvdW50LCBpZHggPT5cbiAgICBgPE92ZXJyaWRlIFBhcnROYW1lPVwiL3hsL3dvcmtzaGVldHMvc2hlZXQke2lkeCArIDF9LnhtbFwiIENvbnRlbnRUeXBlPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwud29ya3NoZWV0K3htbFwiIC8+YCl9XG4gICR7Zm9yZWFjaChjb21tZW50RmlsZXMsIGZpbGVuYW1lID0+XG4gICAgYDxPdmVycmlkZSBQYXJ0TmFtZT1cIi94bC8ke2ZpbGVuYW1lfVwiIENvbnRlbnRUeXBlPVwiYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuY29tbWVudHMreG1sXCIvPmApfVxuICAke2ZvcmVhY2goZHJhd2luZ0ZpbGVzLCBmaWxlbmFtZSA9PlxuICAgIGA8T3ZlcnJpZGUgUGFydE5hbWU9XCIveGwvZHJhd2luZ3MvJHtmaWxlbmFtZX1cIiBDb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5kcmF3aW5nK3htbFwiLz5gKX1cbiAgPE92ZXJyaWRlIFBhcnROYW1lPVwiL2RvY1Byb3BzL2NvcmUueG1sXCIgQ29udGVudFR5cGU9XCJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtcGFja2FnZS5jb3JlLXByb3BlcnRpZXMreG1sXCIgLz5cbiAgPE92ZXJyaWRlIFBhcnROYW1lPVwiL2RvY1Byb3BzL2FwcC54bWxcIiBDb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5leHRlbmRlZC1wcm9wZXJ0aWVzK3htbFwiIC8+XG48L1R5cGVzPmA7XG5cbmNvbnN0IFdPUktCT09LID0gKHsgc2hlZXRzLCBmaWx0ZXJOYW1lcywgdXNlck5hbWVzIH0pID0+IGAke1hNTEhFQUR9XG48d29ya2Jvb2sgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvc3ByZWFkc2hlZXRtbC8yMDA2L21haW5cIiB4bWxuczpyPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwc1wiPlxuICA8ZmlsZVZlcnNpb24gYXBwTmFtZT1cInhsXCIgbGFzdEVkaXRlZD1cIjVcIiBsb3dlc3RFZGl0ZWQ9XCI1XCIgcnVwQnVpbGQ9XCI5MzAzXCIgLz5cbiAgPHdvcmtib29rUHIgZGVmYXVsdFRoZW1lVmVyc2lvbj1cIjEyNDIyNlwiIC8+XG4gIDxib29rVmlld3M+XG4gICAgPHdvcmtib29rVmlldyB4V2luZG93PVwiMjQwXCIgeVdpbmRvdz1cIjQ1XCIgd2luZG93V2lkdGg9XCIxODE5NVwiIHdpbmRvd0hlaWdodD1cIjc5OTVcIiAvPlxuICA8L2Jvb2tWaWV3cz5cbiAgPHNoZWV0cz5cbiAgJHtmb3JlYWNoKHNoZWV0cywgKHsgb3B0aW9ucyB9LCBpKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IG9wdGlvbnMubmFtZSB8fCBvcHRpb25zLnRpdGxlIHx8IGBTaGVldCR7aSArIDF9YDtcbiAgICBjb25zdCBzdGF0ZSA9IG9wdGlvbnMuc3RhdGUgfHwgJ3Zpc2libGUnO1xuICAgIHJldHVybiBgPHNoZWV0IG5hbWU9XCIke0VTQyhuYW1lKX1cIiBzdGF0ZT1cIiR7c3RhdGV9XCIgc2hlZXRJZD1cIiR7aSArIDF9XCIgcjppZD1cInJJZCR7aSArIDF9XCIgLz5gO1xuICB9KX1cbiAgPC9zaGVldHM+XG4gICR7ZmlsdGVyTmFtZXMubGVuZ3RoIHx8IHVzZXJOYW1lcy5sZW5ndGggPyBgXG4gICAgPGRlZmluZWROYW1lcz5cbiAgICAgICR7Zm9yZWFjaChmaWx0ZXJOYW1lcywgKGYpID0+IGBcbiAgICAgICAgIDxkZWZpbmVkTmFtZSBuYW1lPVwiX3hsbm0uX0ZpbHRlckRhdGFiYXNlXCIgaGlkZGVuPVwiMVwiIGxvY2FsU2hlZXRJZD1cIiR7Zi5sb2NhbFNoZWV0SWR9XCI+JHtFU0MocXVvdGVTaGVldChmLm5hbWUpKX0hJHtFU0MoZi5mcm9tKX06JHtFU0MoZi50byl9PC9kZWZpbmVkTmFtZT5gKX1cbiAgICAgICR7Zm9yZWFjaCh1c2VyTmFtZXMsIChmKSA9PiBgXG4gICAgICAgICA8ZGVmaW5lZE5hbWUgbmFtZT1cIiR7Zi5uYW1lfVwiIGhpZGRlbj1cIiR7Zi5oaWRkZW4gPyAxIDogMH1cIiAke2YubG9jYWxTaGVldElkICE9IG51bGwgPyBgbG9jYWxTaGVldElkPVwiJHtmLmxvY2FsU2hlZXRJZH1cImAgOiAnJ30+JHtFU0MoZi52YWx1ZSl9PC9kZWZpbmVkTmFtZT5gKX1cbiAgICA8L2RlZmluZWROYW1lcz5gIDogJyd9XG4gIDxjYWxjUHIgZnVsbENhbGNPbkxvYWQ9XCIxXCIgY2FsY0lkPVwiMTQ1NjIxXCIgLz5cbjwvd29ya2Jvb2s+YDtcblxuY29uc3QgV09SS1NIRUVUID0gKHtcbiAgICBmcm96ZW5Db2x1bW5zLFxuICAgIGZyb3plblJvd3MsXG4gICAgY29sdW1ucyxcbiAgICBkZWZhdWx0cyxcbiAgICBkYXRhLFxuICAgIGluZGV4LFxuICAgIG1lcmdlQ2VsbHMsXG4gICAgYXV0b0ZpbHRlcixcbiAgICBmaWx0ZXIsXG4gICAgc2hvd0dyaWRMaW5lcyxcbiAgICBoeXBlcmxpbmtzLFxuICAgIHZhbGlkYXRpb25zLFxuICAgIGRlZmF1bHRDZWxsU3R5bGVJZCxcbiAgICBydGwsXG4gICAgbGVnYWN5RHJhd2luZyxcbiAgICBkcmF3aW5nLFxuICAgIGxhc3RSb3csXG4gICAgbGFzdENvbCxcbiAgICBoYXNEaXNhYmxlZENlbGxzLFxufSkgPT4gYCR7WE1MSEVBRH1cbjx3b3Jrc2hlZXQgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvc3ByZWFkc2hlZXRtbC8yMDA2L21haW5cIiB4bWxuczptYz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9tYXJrdXAtY29tcGF0aWJpbGl0eS8yMDA2XCIgeG1sbnM6cj1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHNcIiB4bWxuczp4MTRhYz1cImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vb2ZmaWNlL3NwcmVhZHNoZWV0bWwvMjAwOS85L2FjXCIgbWM6SWdub3JhYmxlPVwieDE0YWNcIj5cbiAgICR7bGFzdFJvdyAmJiBsYXN0Q29sID8gYDxkaW1lbnNpb24gcmVmPVwiQTE6JHtyZWYobGFzdFJvdyAtIDEsIGxhc3RDb2wgLSAxKX1cIiAvPmAgOiBcIlwifVxuXG4gICA8c2hlZXRWaWV3cz5cbiAgICAgPHNoZWV0VmlldyAkeyBydGwgPyAncmlnaHRUb0xlZnQ9XCIxXCInIDogJycgfSAke2luZGV4ID09PSAwID8gJ3RhYlNlbGVjdGVkPVwiMVwiJyA6ICcnfSB3b3JrYm9va1ZpZXdJZD1cIjBcIiAke3Nob3dHcmlkTGluZXMgPT09IGZhbHNlID8gJ3Nob3dHcmlkTGluZXM9XCIwXCInIDogJyd9PlxuICAgICAke2Zyb3plblJvd3MgfHwgZnJvemVuQ29sdW1ucyA/IGBcbiAgICAgICA8cGFuZSBzdGF0ZT1cImZyb3plblwiXG4gICAgICAgICAke2Zyb3plbkNvbHVtbnMgPyBgeFNwbGl0PVwiJHtmcm96ZW5Db2x1bW5zfVwiYCA6ICcnfVxuICAgICAgICAgJHtmcm96ZW5Sb3dzID8gYHlTcGxpdD1cIiR7ZnJvemVuUm93c31cImAgOiAnJ31cbiAgICAgICAgIHRvcExlZnRDZWxsPVwiJHtTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgKGZyb3plbkNvbHVtbnMgfHwgMCkpICsgKChmcm96ZW5Sb3dzIHx8IDApICsgMSl9XCJcbiAgICAgICAvPmAgOiAnJ31cbiAgICAgPC9zaGVldFZpZXc+XG4gICA8L3NoZWV0Vmlld3M+XG5cbiAgIDxzaGVldEZvcm1hdFByIHgxNGFjOmR5RGVzY2VudD1cIjAuMjVcIiAkeyFkZWZhdWx0cy5za2lwQ3VzdG9tSGVpZ2h0ID8gJ2N1c3RvbUhlaWdodD1cIjFcIicgOiAnJ30gZGVmYXVsdFJvd0hlaWdodD1cIiR7ZGVmYXVsdHMucm93SGVpZ2h0ID8gZGVmYXVsdHMucm93SGVpZ2h0ICogMC43NSA6IDE1fVwiXG4gICAgICR7ZGVmYXVsdHMuY29sdW1uV2lkdGggPyBgZGVmYXVsdENvbFdpZHRoPVwiJHt0b1dpZHRoKGRlZmF1bHRzLmNvbHVtbldpZHRoKX1cImAgOiAnJ30gLz5cblxuICAgJHtkZWZhdWx0Q2VsbFN0eWxlSWQgIT0gbnVsbCB8fCAoY29sdW1ucyAmJiBjb2x1bW5zLmxlbmd0aCA+IDApID8gYFxuICAgICA8Y29scz5cbiAgICAgICAkeyFjb2x1bW5zIHx8ICFjb2x1bW5zLmxlbmd0aCA/IGBcbiAgICAgICAgIDxjb2wgbWluPVwiMVwiIG1heD1cIjE2Mzg0XCIgc3R5bGU9XCIke2RlZmF1bHRDZWxsU3R5bGVJZH1cIlxuICAgICAgICAgICAgICAke2RlZmF1bHRzLmNvbHVtbldpZHRoID8gYHdpZHRoPVwiJHt0b1dpZHRoKGRlZmF1bHRzLmNvbHVtbldpZHRoKX1cImAgOiAnJ30gLz4gYCA6ICcnfVxuICAgICAgICR7Zm9yZWFjaChjb2x1bW5zLCAoY29sdW1uLCBjaSkgPT4ge1xuICAgICAgICAgY29uc3QgY29sdW1uSW5kZXggPSB0eXBlb2YgY29sdW1uLmluZGV4ID09PSBcIm51bWJlclwiID8gY29sdW1uLmluZGV4ICsgMSA6IChjaSArIDEpO1xuICAgICAgICAgaWYgKGNvbHVtbi53aWR0aCA9PT0gMCkge1xuICAgICAgICAgICByZXR1cm4gYDxjb2wgJHtkZWZhdWx0Q2VsbFN0eWxlSWQgIT0gbnVsbCA/IGBzdHlsZT1cIiR7ZGVmYXVsdENlbGxTdHlsZUlkfVwiYCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPVwiJHtjb2x1bW5JbmRleH1cIiBtYXg9XCIke2NvbHVtbkluZGV4fVwiIGhpZGRlbj1cIjFcIiBjdXN0b21XaWR0aD1cIjFcIiAvPmA7XG4gICAgICAgICB9XG4gICAgICAgICByZXR1cm4gYDxjb2wgJHtkZWZhdWx0Q2VsbFN0eWxlSWQgIT0gbnVsbCA/IGBzdHlsZT1cIiR7ZGVmYXVsdENlbGxTdHlsZUlkfVwiYCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIiR7Y29sdW1uSW5kZXh9XCIgbWF4PVwiJHtjb2x1bW5JbmRleH1cIiBjdXN0b21XaWR0aD1cIjFcIlxuICAgICAgICAgICAgICAgICAgICAgICR7Y29sdW1uLmF1dG9XaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGB3aWR0aD1cIiR7KChjb2x1bW4ud2lkdGggKiA3ICsgNSkgLyA3ICogMjU2KSAvIDI1Nn1cIiBiZXN0Rml0PVwiMVwiYFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGB3aWR0aD1cIiR7dG9XaWR0aChjb2x1bW4ud2lkdGgpfVwiYH0gLz5gO1xuICAgICAgIH0pfVxuICAgICA8L2NvbHM+YCA6ICcnfVxuXG4gICA8c2hlZXREYXRhPlxuICAgICAke2ZvcmVhY2goZGF0YSwgKHJvdywgcmkpID0+IHtcbiAgICAgICBjb25zdCByb3dJbmRleCA9IHR5cGVvZiByb3cuaW5kZXggPT09IFwibnVtYmVyXCIgPyByb3cuaW5kZXggKyAxIDogKHJpICsgMSk7XG4gICAgICAgcmV0dXJuIGBcbiAgICAgICAgIDxyb3cgcj1cIiR7cm93SW5kZXh9XCIgeDE0YWM6ZHlEZXNjZW50PVwiMC4yNVwiXG4gICAgICAgICAgICAgICR7cm93LmxldmVsID8gYG91dGxpbmVMZXZlbD1cIiR7cm93LmxldmVsfVwiYCA6ICcnfVxuICAgICAgICAgICAgICAke3Jvdy5oZWlnaHQgPT09IDAgPyAnaGlkZGVuPVwiMVwiJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByb3cuaGVpZ2h0ID8gYGh0PVwiJHt0b0hlaWdodChyb3cuaGVpZ2h0KX1cIiBjdXN0b21IZWlnaHQ9XCIxXCJgIDogXCJcIn0+XG4gICAgICAgICAgICR7Zm9yZWFjaChyb3cuZGF0YSwgKGNlbGwpID0+IGBcbiAgICAgICAgICAgICA8YyByPVwiJHtjZWxsLnJlZn1cIiAke2NlbGwuc3R5bGUgPyBgcz1cIiR7Y2VsbC5zdHlsZX1cImAgOiAnJ30gJHtjZWxsLnR5cGUgPyBgdD1cIiR7Y2VsbC50eXBlfVwiYCA6ICcnfT5cbiAgICAgICAgICAgICAgICR7Y2VsbC5mb3JtdWxhICE9IG51bGwgPyB3cml0ZUZvcm11bGEoY2VsbC5mb3JtdWxhKSA6ICcnfVxuICAgICAgICAgICAgICAgJHtjZWxsLnZhbHVlICE9IG51bGwgPyBgPHY+JHtFU0MoY2VsbC52YWx1ZSl9PC92PmAgOiAnJ31cbiAgICAgICAgICAgICA8L2M+YCl9XG4gICAgICAgICA8L3Jvdz5cbiAgICAgICBgO1xufSl9XG4gICA8L3NoZWV0RGF0YT5cblxuICAgJHtoYXNEaXNhYmxlZENlbGxzID8gYDxzaGVldFByb3RlY3Rpb24gc2hlZXQ9XCIxXCIgb2JqZWN0cz1cIjFcIiBzY2VuYXJpb3M9XCIxXCIvPmAgOiAnJ31cblxuICAgJHthdXRvRmlsdGVyID8gYDxhdXRvRmlsdGVyIHJlZj1cIiR7YXV0b0ZpbHRlci5mcm9tfToke2F1dG9GaWx0ZXIudG99XCIvPmBcbiAgICAgICAgICAgICAgICA6IGZpbHRlciA/IHNwcmVhZHNoZWV0RmlsdGVycyhmaWx0ZXIpIDogJyd9XG5cbiAgICR7bWVyZ2VDZWxscy5sZW5ndGggPyBgXG4gICAgIDxtZXJnZUNlbGxzIGNvdW50PVwiJHttZXJnZUNlbGxzLmxlbmd0aH1cIj5cbiAgICAgICAke2ZvcmVhY2gobWVyZ2VDZWxscywgKHJlZikgPT4gYDxtZXJnZUNlbGwgcmVmPVwiJHtyZWZ9XCIvPmApfVxuICAgICA8L21lcmdlQ2VsbHM+YCA6ICcnfVxuXG4gICAke3ZhbGlkYXRpb25zLmxlbmd0aCA/IGBcbiAgICAgPGRhdGFWYWxpZGF0aW9ucz5cbiAgICAgICAke2ZvcmVhY2godmFsaWRhdGlvbnMsICh2YWwpID0+IGBcbiAgICAgICAgIDxkYXRhVmFsaWRhdGlvbiBzcXJlZj1cIiR7dmFsLnNxcmVmLmpvaW4oXCIgXCIpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZT1cIiR7dmFsLnNob3dFcnJvck1lc3NhZ2V9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiJHtFU0ModmFsLnR5cGUpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgJHsgdmFsLnR5cGUgIT09IFwibGlzdFwiID8gYG9wZXJhdG9yPVwiJHtFU0ModmFsLm9wZXJhdG9yKX1cImAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0JsYW5rPVwiJHt2YWwuYWxsb3dCbGFua31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dEcm9wRG93bj1cIiR7dmFsLnNob3dEcm9wRG93bn1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICR7dmFsLmVycm9yID8gYGVycm9yPVwiJHtFU0ModmFsLmVycm9yKX1cImAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAke3ZhbC5lcnJvclRpdGxlID8gYGVycm9yVGl0bGU9XCIke0VTQyh2YWwuZXJyb3JUaXRsZSl9XCJgIDogJyd9PlxuICAgICAgICAgICAke3ZhbC5mb3JtdWxhMSA/IGA8Zm9ybXVsYTE+JHtFU0ModmFsLmZvcm11bGExKX08L2Zvcm11bGExPmAgOiAnJ31cbiAgICAgICAgICAgJHt2YWwuZm9ybXVsYTIgPyBgPGZvcm11bGEyPiR7RVNDKHZhbC5mb3JtdWxhMil9PC9mb3JtdWxhMj5gIDogJyd9XG4gICAgICAgICA8L2RhdGFWYWxpZGF0aW9uPmApfVxuICAgICA8L2RhdGFWYWxpZGF0aW9ucz5gIDogJyd9XG5cbiAgICR7aHlwZXJsaW5rcy5sZW5ndGggPyBgXG4gICAgIDxoeXBlcmxpbmtzPlxuICAgICAgICR7Zm9yZWFjaChoeXBlcmxpbmtzLCAobGluaykgPT4gYFxuICAgICAgICAgPGh5cGVybGluayByZWY9XCIke2xpbmsucmVmfVwiIHI6aWQ9XCIke2xpbmsucklkfVwiLz5gKX1cbiAgICAgPC9oeXBlcmxpbmtzPmAgOiAnJ31cblxuICAgPHBhZ2VNYXJnaW5zIGxlZnQ9XCIwLjdcIiByaWdodD1cIjAuN1wiIHRvcD1cIjAuNzVcIiBib3R0b209XCIwLjc1XCIgaGVhZGVyPVwiMC4zXCIgZm9vdGVyPVwiMC4zXCIgLz5cbiAgICR7ZHJhd2luZyA/IGA8ZHJhd2luZyByOmlkPVwiJHtkcmF3aW5nfVwiLz5gIDogJyd9XG4gICAke2xlZ2FjeURyYXdpbmcgPyBgPGxlZ2FjeURyYXdpbmcgcjppZD1cIiR7bGVnYWN5RHJhd2luZ31cIi8+YCA6ICcnfVxuPC93b3Jrc2hlZXQ+YDtcblxuY29uc3QgV09SS0JPT0tfUkVMUyA9ICh7IGNvdW50IH0pID0+IGAke1hNTEhFQUR9XG48UmVsYXRpb25zaGlwcyB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvcmVsYXRpb25zaGlwc1wiPlxuICAke3JlcGVhdChjb3VudCwgKGlkeCkgPT4gYFxuICAgIDxSZWxhdGlvbnNoaXAgSWQ9XCJySWQke2lkeCArIDF9XCIgVHlwZT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvd29ya3NoZWV0XCIgVGFyZ2V0PVwid29ya3NoZWV0cy9zaGVldCR7aWR4ICsgMX0ueG1sXCIgLz5gKX1cbiAgPFJlbGF0aW9uc2hpcCBJZD1cInJJZCR7Y291bnQgKyAxfVwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3N0eWxlc1wiIFRhcmdldD1cInN0eWxlcy54bWxcIiAvPlxuICA8UmVsYXRpb25zaGlwIElkPVwicklkJHtjb3VudCArIDJ9XCIgVHlwZT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvc2hhcmVkU3RyaW5nc1wiIFRhcmdldD1cInNoYXJlZFN0cmluZ3MueG1sXCIgLz5cbjwvUmVsYXRpb25zaGlwcz5gO1xuXG5jb25zdCBXT1JLU0hFRVRfUkVMUyA9ICh7IGh5cGVybGlua3MsIGNvbW1lbnRzLCBzaGVldEluZGV4LCBkcmF3aW5ncyB9KSA9PiBgJHtYTUxIRUFEfVxuPFJlbGF0aW9uc2hpcHMgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L3JlbGF0aW9uc2hpcHNcIj5cbiAgJHtmb3JlYWNoKGh5cGVybGlua3MsIChsaW5rKSA9PiBgXG4gICAgPFJlbGF0aW9uc2hpcCBJZD1cIiR7bGluay5ySWR9XCIgVHlwZT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvaHlwZXJsaW5rXCIgVGFyZ2V0PVwiJHtFU0MobGluay50YXJnZXQpfVwiIFRhcmdldE1vZGU9XCJFeHRlcm5hbFwiIC8+YCl9XG4gICR7IWNvbW1lbnRzLmxlbmd0aCA/ICcnIDogYFxuICAgIDxSZWxhdGlvbnNoaXAgSWQ9XCJjb21tZW50JHtzaGVldEluZGV4fVwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2NvbW1lbnRzXCIgVGFyZ2V0PVwiLi4vY29tbWVudHMke3NoZWV0SW5kZXh9LnhtbFwiLz5cbiAgICA8UmVsYXRpb25zaGlwIElkPVwidm1sJHtzaGVldEluZGV4fVwiIFR5cGU9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3ZtbERyYXdpbmdcIiBUYXJnZXQ9XCIuLi9kcmF3aW5ncy92bWxEcmF3aW5nJHtzaGVldEluZGV4fS52bWxcIi8+YH1cbiAgJHshZHJhd2luZ3MubGVuZ3RoID8gJycgOiBgXG4gICAgPFJlbGF0aW9uc2hpcCBJZD1cImRydyR7c2hlZXRJbmRleH1cIiBUeXBlPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9kcmF3aW5nXCIgVGFyZ2V0PVwiLi4vZHJhd2luZ3MvZHJhd2luZyR7c2hlZXRJbmRleH0ueG1sXCIvPmB9XG48L1JlbGF0aW9uc2hpcHM+YDtcblxuY29uc3QgQ09NTUVOVFNfWE1MID0gKHsgY29tbWVudHMgfSkgPT4gYCR7WE1MSEVBRH1cbjxjb21tZW50cyB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9zcHJlYWRzaGVldG1sLzIwMDYvbWFpblwiPlxuICA8YXV0aG9ycz5cbiAgICA8YXV0aG9yPjwvYXV0aG9yPlxuICA8L2F1dGhvcnM+XG4gIDxjb21tZW50TGlzdD5cbiAgICAke2ZvcmVhY2goY29tbWVudHMsIGNvbW1lbnQgPT4gYFxuICAgICAgPGNvbW1lbnQgcmVmPVwiJHtjb21tZW50LnJlZn1cIiBhdXRob3JJZD1cIjBcIj5cbiAgICAgICAgPHRleHQ+XG4gICAgICAgICAgPHI+XG4gICAgICAgICAgICA8clByPlxuICAgICAgICAgICAgICA8c3ogdmFsPVwiOFwiLz5cbiAgICAgICAgICAgICAgPGNvbG9yIGluZGV4ZWQ9XCI4MVwiLz5cbiAgICAgICAgICAgICAgPHJGb250IHZhbD1cIlRhaG9tYVwiLz5cbiAgICAgICAgICAgICAgPGNoYXJzZXQgdmFsPVwiMVwiLz5cbiAgICAgICAgICAgIDwvclByPlxuICAgICAgICAgICAgPHQ+JHtFU0MoY29tbWVudC50ZXh0KX08L3Q+XG4gICAgICAgICAgPC9yPlxuICAgICAgICA8L3RleHQ+XG4gICAgICA8L2NvbW1lbnQ+YCl9XG4gIDwvY29tbWVudExpc3Q+XG48L2NvbW1lbnRzPmA7XG5cbmNvbnN0IExFR0FDWV9EUkFXSU5HID0gKHsgY29tbWVudHMgfSkgPT4gYFxcXG48eG1sIHhtbG5zOnY9XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiXG4gICAgIHhtbG5zOm89XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpvZmZpY2VcIlxuICAgICB4bWxuczp4PVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6ZXhjZWxcIj5cbiAgPHY6c2hhcGV0eXBlIGNvb3Jkc2l6ZT1cIjIxNjAwLDIxNjAwXCIgaWQ9XCJfeDAwMDBfdDIwMlwiIHBhdGg9XCJtLGwsMjE2MDByMjE2MDAsbDIxNjAwLHhlXCI+XG4gICAgPHY6c3Ryb2tlIGpvaW5zdHlsZT1cIm1pdGVyXCIvPlxuICAgIDx2OnBhdGggZ3JhZGllbnRzaGFwZW9rPVwidFwiIG86Y29ubmVjdHR5cGU9XCJyZWN0XCIvPlxuICA8L3Y6c2hhcGV0eXBlPlxuICAke2ZvcmVhY2goY29tbWVudHMsIGNvbW1lbnQgPT4gYFxuICAgIDx2OnNoYXBlIHR5cGU9XCIjX3gwMDAwX3QyMDJcIiBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlblwiIGZpbGxjb2xvcj1cIiNmZmZmZTFcIiBvOmluc2V0bW9kZT1cImF1dG9cIj5cbiAgICAgIDx2OnNoYWRvdyBvbj1cInRcIiBjb2xvcj1cImJsYWNrXCIgb2JzY3VyZWQ9XCJ0XCIvPlxuICAgICAgPHg6Q2xpZW50RGF0YSBPYmplY3RUeXBlPVwiTm90ZVwiPlxuICAgICAgICA8eDpNb3ZlV2l0aENlbGxzLz5cbiAgICAgICAgPHg6U2l6ZVdpdGhDZWxscy8+XG4gICAgICAgIDx4OkFuY2hvcj4ke2NvbW1lbnQuYW5jaG9yfTwveDpBbmNob3I+XG4gICAgICAgIDx4OkF1dG9GaWxsPkZhbHNlPC94OkF1dG9GaWxsPlxuICAgICAgICA8eDpSb3c+JHtjb21tZW50LnJvd308L3g6Um93PlxuICAgICAgICA8eDpDb2x1bW4+JHtjb21tZW50LmNvbH08L3g6Q29sdW1uPlxuICAgICAgPC94OkNsaWVudERhdGE+XG4gICAgPC92OnNoYXBlPmApfVxuPC94bWw+YDtcblxuY29uc3QgRFJBV0lOR1NfWE1MID0gKGRyYXdpbmdzKSA9PiBgJHtYTUxIRUFEfVxuPHhkcjp3c0RyIHhtbG5zOnhkcj1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9kcmF3aW5nbWwvMjAwNi9zcHJlYWRzaGVldERyYXdpbmdcIlxuICAgICAgICAgIHhtbG5zOmE9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvZHJhd2luZ21sLzIwMDYvbWFpblwiXG4gICAgICAgICAgeG1sbnM6cj1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHNcIj5cbiAgJHtmb3JlYWNoKGRyYXdpbmdzLCAoZHJhd2luZywgaW5kZXgpID0+IGBcbiAgICA8eGRyOm9uZUNlbGxBbmNob3IgZWRpdEFzPVwib25lQ2VsbFwiPlxuICAgICAgPHhkcjpmcm9tPlxuICAgICAgICA8eGRyOmNvbD4ke2RyYXdpbmcuY29sfTwveGRyOmNvbD5cbiAgICAgICAgPHhkcjpjb2xPZmY+JHtkcmF3aW5nLmNvbE9mZnNldH08L3hkcjpjb2xPZmY+XG4gICAgICAgIDx4ZHI6cm93PiR7ZHJhd2luZy5yb3d9PC94ZHI6cm93PlxuICAgICAgICA8eGRyOnJvd09mZj4ke2RyYXdpbmcucm93T2Zmc2V0fTwveGRyOnJvd09mZj5cbiAgICAgIDwveGRyOmZyb20+XG4gICAgICA8eGRyOmV4dCBjeD1cIiR7ZHJhd2luZy53aWR0aH1cIiBjeT1cIiR7ZHJhd2luZy5oZWlnaHR9XCIgLz5cbiAgICAgIDx4ZHI6cGljPlxuICAgICAgICA8eGRyOm52UGljUHI+XG4gICAgICAgICAgPHhkcjpjTnZQciBpZD1cIiR7aW5kZXggKyAxfVwiIG5hbWU9XCJQaWN0dXJlICR7aW5kZXggKyAxfVwiLz5cbiAgICAgICAgICA8eGRyOmNOdlBpY1ByLz5cbiAgICAgICAgPC94ZHI6bnZQaWNQcj5cbiAgICAgICAgPHhkcjpibGlwRmlsbD5cbiAgICAgICAgICA8YTpibGlwIHI6ZW1iZWQ9XCIke2RyYXdpbmcuaW1hZ2VJZH1cIi8+XG4gICAgICAgICAgPGE6c3RyZXRjaD5cbiAgICAgICAgICAgIDxhOmZpbGxSZWN0Lz5cbiAgICAgICAgICA8L2E6c3RyZXRjaD5cbiAgICAgICAgPC94ZHI6YmxpcEZpbGw+XG4gICAgICAgIDx4ZHI6c3BQcj5cbiAgICAgICAgICA8YTpwcnN0R2VvbSBwcnN0PVwicmVjdFwiPlxuICAgICAgICAgICAgPGE6YXZMc3QvPlxuICAgICAgICAgIDwvYTpwcnN0R2VvbT5cbiAgICAgICAgPC94ZHI6c3BQcj5cbiAgICAgIDwveGRyOnBpYz5cbiAgICAgIDx4ZHI6Y2xpZW50RGF0YS8+XG4gICAgPC94ZHI6b25lQ2VsbEFuY2hvcj5gKX1cbjwveGRyOndzRHI+YDtcblxuY29uc3QgRFJBV0lOR1NfUkVMU19YTUwgPSAocmVscykgPT4gYCR7WE1MSEVBRH1cbjxSZWxhdGlvbnNoaXBzIHhtbG5zPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3BhY2thZ2UvMjAwNi9yZWxhdGlvbnNoaXBzXCI+XG4gICR7Zm9yZWFjaChyZWxzLCByZWwgPT4gYFxuICAgIDxSZWxhdGlvbnNoaXAgSWQ9XCIke3JlbC5ySWR9XCIgVHlwZT1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvaW1hZ2VcIiBUYXJnZXQ9XCIke3JlbC50YXJnZXR9XCIvPmApfVxuPC9SZWxhdGlvbnNoaXBzPmA7XG5cbmNvbnN0IFNIQVJFRF9TVFJJTkdTID0gKHsgY291bnQsIHVuaXF1ZUNvdW50LCBpbmRleGVzIH0pID0+IGAke1hNTEhFQUR9XG48c3N0IHhtbG5zPVwiaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3NwcmVhZHNoZWV0bWwvMjAwNi9tYWluXCIgY291bnQ9XCIke2NvdW50fVwiIHVuaXF1ZUNvdW50PVwiJHt1bmlxdWVDb3VudH1cIj5cbiAgJHtmb3JlYWNoKE9iamVjdC5rZXlzKGluZGV4ZXMpLCAoaW5kZXgpID0+IGBcbiAgICA8c2k+PHQgeG1sOnNwYWNlPVwicHJlc2VydmVcIj4ke0VTQyhpbmRleC5zdWJzdHJpbmcoMSkpfTwvdD48L3NpPmApfVxuPC9zc3Q+YDtcblxuY29uc3QgU1RZTEVTID0gKHtcbiAgICBmb3JtYXRzLFxuICAgIGZvbnRzLFxuICAgIGZpbGxzLFxuICAgIGJvcmRlcnMsXG4gICAgc3R5bGVzXG59KSA9PiBgJHtYTUxIRUFEfVxuPHN0eWxlU2hlZXRcbiAgICB4bWxucz1cImh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9zcHJlYWRzaGVldG1sLzIwMDYvbWFpblwiXG4gICAgeG1sbnM6bWM9XCJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvbWFya3VwLWNvbXBhdGliaWxpdHkvMjAwNlwiXG4gICAgbWM6SWdub3JhYmxlPVwieDE0YWNcIlxuICAgIHhtbG5zOngxNGFjPVwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2Uvc3ByZWFkc2hlZXRtbC8yMDA5LzkvYWNcIj5cbiAgPG51bUZtdHMgY291bnQ9XCIke2Zvcm1hdHMubGVuZ3RofVwiPlxuICAke2ZvcmVhY2goZm9ybWF0cywgKGZvcm1hdCwgZmkpID0+IGBcbiAgICA8bnVtRm10IGZvcm1hdENvZGU9XCIke0VTQyhmb3JtYXQuZm9ybWF0KX1cIiBudW1GbXRJZD1cIiR7MTY1ICsgZml9XCIgLz5gKX1cbiAgPC9udW1GbXRzPlxuICA8Zm9udHMgY291bnQ9XCIke2ZvbnRzLmxlbmd0aCArIDF9XCIgeDE0YWM6a25vd25Gb250cz1cIjFcIj5cbiAgICA8Zm9udD5cbiAgICAgICA8c3ogdmFsPVwiMTFcIiAvPlxuICAgICAgIDxjb2xvciB0aGVtZT1cIjFcIiAvPlxuICAgICAgIDxuYW1lIHZhbD1cIkNhbGlicmlcIiAvPlxuICAgICAgIDxmYW1pbHkgdmFsPVwiMlwiIC8+XG4gICAgICAgPHNjaGVtZSB2YWw9XCJtaW5vclwiIC8+XG4gICAgPC9mb250PlxuICAgICR7Zm9yZWFjaChmb250cywgKGZvbnQpID0+IGBcbiAgICA8Zm9udD5cbiAgICAgICR7Zm9udC5ib2xkID8gJzxiLz4nIDogJyd9XG4gICAgICAke2ZvbnQuaXRhbGljID8gJzxpLz4nIDogJyd9XG4gICAgICAke2ZvbnQudW5kZXJsaW5lID8gJzx1Lz4nIDogJyd9XG4gICAgICA8c3ogdmFsPVwiJHtmb250LmZvbnRTaXplIHx8IDExfVwiIC8+XG4gICAgICAke2ZvbnQuY29sb3IgPyBgPGNvbG9yIHJnYj1cIiR7RVNDKGZvbnQuY29sb3IpfVwiIC8+YCA6ICc8Y29sb3IgdGhlbWU9XCIxXCIgLz4nfVxuICAgICAgJHtmb250LmZvbnRGYW1pbHkgPyBgXG4gICAgICAgIDxuYW1lIHZhbD1cIiR7RVNDKGZvbnQuZm9udEZhbWlseSl9XCIgLz5cbiAgICAgICAgPGZhbWlseSB2YWw9XCIyXCIgLz5cbiAgICAgIGAgOiBgXG4gICAgICAgIDxuYW1lIHZhbD1cIkNhbGlicmlcIiAvPlxuICAgICAgICA8ZmFtaWx5IHZhbD1cIjJcIiAvPlxuICAgICAgICA8c2NoZW1lIHZhbD1cIm1pbm9yXCIgLz5cbiAgICAgIGB9XG4gICAgPC9mb250PmApfVxuICA8L2ZvbnRzPlxuICA8ZmlsbHMgY291bnQ9XCIke2ZpbGxzLmxlbmd0aCArIDJ9XCI+XG4gICAgICA8ZmlsbD48cGF0dGVybkZpbGwgcGF0dGVyblR5cGU9XCJub25lXCIvPjwvZmlsbD5cbiAgICAgIDxmaWxsPjxwYXR0ZXJuRmlsbCBwYXR0ZXJuVHlwZT1cImdyYXkxMjVcIi8+PC9maWxsPlxuICAgICR7Zm9yZWFjaChmaWxscywgKGZpbGwpID0+IGBcbiAgICAgICR7ZmlsbC5iYWNrZ3JvdW5kID8gYFxuICAgICAgICA8ZmlsbD5cbiAgICAgICAgICA8cGF0dGVybkZpbGwgcGF0dGVyblR5cGU9XCJzb2xpZFwiPlxuICAgICAgICAgICAgICA8ZmdDb2xvciByZ2I9XCIke0VTQyhmaWxsLmJhY2tncm91bmQpfVwiLz5cbiAgICAgICAgICA8L3BhdHRlcm5GaWxsPlxuICAgICAgICA8L2ZpbGw+XG4gICAgICBgIDogJyd9YCl9XG4gIDwvZmlsbHM+XG4gIDxib3JkZXJzIGNvdW50PVwiJHtib3JkZXJzLmxlbmd0aCArIDF9XCI+XG4gICAgPGJvcmRlcj48bGVmdC8+PHJpZ2h0Lz48dG9wLz48Ym90dG9tLz48ZGlhZ29uYWwvPjwvYm9yZGVyPlxuICAgICR7Zm9yZWFjaChib3JkZXJzLCBib3JkZXJUZW1wbGF0ZSl9XG4gIDwvYm9yZGVycz5cbiAgPGNlbGxTdHlsZVhmcyBjb3VudD1cIjFcIj5cbiAgICA8eGYgYm9yZGVySWQ9XCIwXCIgZmlsbElkPVwiMFwiIGZvbnRJZD1cIjBcIiAvPlxuICA8L2NlbGxTdHlsZVhmcz5cbiAgPGNlbGxYZnMgY291bnQ9XCIke3N0eWxlcy5sZW5ndGggKyAxfVwiPlxuICAgIDx4ZiBudW1GbXRJZD1cIjBcIiBmb250SWQ9XCIwXCIgZmlsbElkPVwiMFwiIGJvcmRlcklkPVwiMFwiIHhmSWQ9XCIwXCIgLz5cbiAgICAke2ZvcmVhY2goc3R5bGVzLCAoc3R5bGUpID0+IGBcbiAgICAgIDx4ZiB4ZklkPVwiMFwiXG4gICAgICAgICAgJHtzdHlsZS5mb250SWQgPyBgZm9udElkPVwiJHtzdHlsZS5mb250SWR9XCIgYXBwbHlGb250PVwiMVwiYCA6ICcnfVxuICAgICAgICAgICR7c3R5bGUuZmlsbElkID8gYGZpbGxJZD1cIiR7c3R5bGUuZmlsbElkfVwiIGFwcGx5RmlsbD1cIjFcImAgOiAnJ31cbiAgICAgICAgICAke3N0eWxlLm51bUZtdElkID8gYG51bUZtdElkPVwiJHtzdHlsZS5udW1GbXRJZH1cIiBhcHBseU51bWJlckZvcm1hdD1cIjFcImAgOiAnJ31cbiAgICAgICAgICAke3N0eWxlLnRleHRBbGlnbiB8fCBzdHlsZS52ZXJ0aWNhbEFsaWduIHx8IHN0eWxlLndyYXAgPyAnYXBwbHlBbGlnbm1lbnQ9XCIxXCInIDogJyd9XG4gICAgICAgICAgJHtzdHlsZS5ib3JkZXJJZCA/IGBib3JkZXJJZD1cIiR7c3R5bGUuYm9yZGVySWR9XCIgYXBwbHlCb3JkZXI9XCIxXCJgIDogJyd9XG4gICAgICAgICAgJHtzdHlsZS5kaXNhYmxlZCAhPSBudWxsID8gYGFwcGx5UHJvdGVjdGlvbj1cIjFcImAgOiAnJ30+XG4gICAgICAgICR7c3R5bGUudGV4dEFsaWduIHx8IHN0eWxlLnZlcnRpY2FsQWxpZ24gfHwgc3R5bGUud3JhcCA/IGBcbiAgICAgICAgPGFsaWdubWVudFxuICAgICAgICAgICR7c3R5bGUudGV4dEFsaWduID8gYGhvcml6b250YWw9XCIke0VTQyhzdHlsZS50ZXh0QWxpZ24pfVwiYCA6ICcnfVxuICAgICAgICAgICR7c3R5bGUudmVydGljYWxBbGlnbiA/IGB2ZXJ0aWNhbD1cIiR7RVNDKHN0eWxlLnZlcnRpY2FsQWxpZ24pfVwiYCA6ICcnfVxuICAgICAgICAgICR7c3R5bGUuaW5kZW50ID8gYGluZGVudD1cIiR7RVNDKHN0eWxlLmluZGVudCl9XCJgIDogJyd9XG4gICAgICAgICAgJHtzdHlsZS53cmFwID8gJ3dyYXBUZXh0PVwiMVwiJyA6ICcnfSAvPlxuICAgICAgICBgIDogJyd9XG4gICAgICAgICR7c3R5bGUuZGlzYWJsZWQgIT0gbnVsbCA/IGBcbiAgICAgICAgPHByb3RlY3Rpb24gbG9ja2VkPVwiJHtzdHlsZS5kaXNhYmxlZCA/IDEgOiAwfVwiIC8+XG4gICAgICAgIGAgOiAnJ31cbiAgICAgIDwveGY+XG4gICAgYCl9XG4gIDwvY2VsbFhmcz5cbiAgPGNlbGxTdHlsZXMgY291bnQ9XCIxXCI+XG4gICAgPGNlbGxTdHlsZSBuYW1lPVwiTm9ybWFsXCIgeGZJZD1cIjBcIiBidWlsdGluSWQ9XCIwXCIvPlxuICA8L2NlbGxTdHlsZXM+XG4gIDxkeGZzIGNvdW50PVwiMFwiIC8+XG4gIDx0YWJsZVN0eWxlcyBjb3VudD1cIjBcIiBkZWZhdWx0VGFibGVTdHlsZT1cIlRhYmxlU3R5bGVNZWRpdW0yXCIgZGVmYXVsdFBpdm90U3R5bGU9XCJQaXZvdFN0eWxlTWVkaXVtOVwiIC8+XG48L3N0eWxlU2hlZXQ+YDtcblxuZnVuY3Rpb24gd3JpdGVGb3JtdWxhKGZvcm11bGEpIHtcbiAgICBpZiAodHlwZW9mIGZvcm11bGEgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gYDxmPiR7RVNDKGZvcm11bGEpfTwvZj5gO1xuICAgIH1cbiAgICAvLyBhcnJheSBmb3JtdWxhc1xuICAgIHJldHVybiBgPGYgdD1cImFycmF5XCIgcmVmPVwiJHtmb3JtdWxhLnJlZn1cIj4ke0VTQyhmb3JtdWxhLnNyYyl9PC9mPmA7XG59XG5cbmZ1bmN0aW9uIG51bUNoYXIoY29sSW5kZXgpIHtcbiAgIGNvbnN0IGxldHRlciA9IE1hdGguZmxvb3IoY29sSW5kZXggLyAyNikgLSAxO1xuXG4gICByZXR1cm4gKGxldHRlciA+PSAwID8gbnVtQ2hhcihsZXR0ZXIpIDogXCJcIikgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgKGNvbEluZGV4ICUgMjYpKTtcbn1cblxuZnVuY3Rpb24gcmVmKHJvd0luZGV4LCBjb2xJbmRleCkge1xuICAgIHJldHVybiBudW1DaGFyKGNvbEluZGV4KSArIChyb3dJbmRleCArIDEpO1xufVxuXG5mdW5jdGlvbiAkcmVmKHJvd0luZGV4LCBjb2xJbmRleCkge1xuICAgIHJldHVybiBcIiRcIiArIG51bUNoYXIoY29sSW5kZXgpICsgXCIkXCIgKyAocm93SW5kZXggKyAxKTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyUm93SW5kZXgob3B0aW9ucykge1xuICAgIGNvbnN0IGZyb3plblJvd3MgPSBvcHRpb25zLmZyb3plblJvd3MgfHwgKG9wdGlvbnMuZnJlZXplUGFuZSB8fCB7fSkucm93U3BsaXQgfHwgMTtcbiAgICByZXR1cm4gZnJvemVuUm93cyAtIDE7XG59XG5cbmZ1bmN0aW9uIHRvV2lkdGgocHgpIHtcbiAgICBjb25zdCBtYXhpbXVtRGlnaXRXaWR0aCA9IDc7XG4gICAgcmV0dXJuIChweCAvIG1heGltdW1EaWdpdFdpZHRoKSAtIChNYXRoLmZsb29yKDEyOCAvIG1heGltdW1EaWdpdFdpZHRoKSAvIDI1Nik7XG59XG5cbmZ1bmN0aW9uIHRvSGVpZ2h0KHB4KSB7XG4gICAgcmV0dXJuIHB4ICogMC43NTtcbn1cblxuZnVuY3Rpb24gc3RyaXBGdW5ueUNoYXJzKHZhbHVlKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZSlcbiAgICAgICAgLnJlcGxhY2UoL1tcXHgwMC1cXHgwOVxceDBCXFx4MENcXHgwRS1cXHgxRl0vZywgXCJcIikgLy8gbGVhdmUgQ1JMRiBpblxuICAgICAgICAucmVwbGFjZSgvXFxyP1xcbi9nLCBcIlxcclxcblwiKTsgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIExGIGlzIHByZWNlZGVkIGJ5IENSXG59XG5cbmNsYXNzIFdvcmtzaGVldCB7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBzaGFyZWRTdHJpbmdzLCBzdHlsZXMsIGJvcmRlcnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fc3RyaW5ncyA9IHNoYXJlZFN0cmluZ3M7XG4gICAgICAgIHRoaXMuX3N0eWxlcyA9IHN0eWxlcztcbiAgICAgICAgdGhpcy5fYm9yZGVycyA9IGJvcmRlcnM7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25zID0ge307XG4gICAgICAgIHRoaXMuX2NvbW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuX2RyYXdpbmdzID0gb3B0aW9ucy5kcmF3aW5ncyB8fCBbXTtcbiAgICAgICAgdGhpcy5faHlwZXJsaW5rcyA9ICh0aGlzLm9wdGlvbnMuaHlwZXJsaW5rcyB8fCBbXSkubWFwKFxuICAgICAgICAgICAgKGxpbmssIGkpID0+IE9iamVjdC5hc3NpZ24oe30sIGxpbmssIHsgcklkOiBgbGluayR7aX1gIH0pKTtcbiAgICB9XG5cbiAgICByZWxzVG9YTUwoKSB7XG4gICAgICAgIGNvbnN0IGh5cGVybGlua3MgPSB0aGlzLl9oeXBlcmxpbmtzO1xuICAgICAgICBjb25zdCBjb21tZW50cyA9IHRoaXMuX2NvbW1lbnRzO1xuICAgICAgICBjb25zdCBkcmF3aW5ncyA9IHRoaXMuX2RyYXdpbmdzO1xuXG4gICAgICAgIGlmIChoeXBlcmxpbmtzLmxlbmd0aCB8fCBjb21tZW50cy5sZW5ndGggfHwgZHJhd2luZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gV09SS1NIRUVUX1JFTFMoe1xuICAgICAgICAgICAgICAgIGh5cGVybGlua3MgOiBoeXBlcmxpbmtzLFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzICAgOiBjb21tZW50cyxcbiAgICAgICAgICAgICAgICBzaGVldEluZGV4IDogdGhpcy5vcHRpb25zLnNoZWV0SW5kZXgsXG4gICAgICAgICAgICAgICAgZHJhd2luZ3MgICA6IGRyYXdpbmdzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvWE1MKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IG1lcmdlQ2VsbHMgPSB0aGlzLm9wdGlvbnMubWVyZ2VkQ2VsbHMgfHwgW107XG4gICAgICAgIGNvbnN0IHJvd3MgPSB0aGlzLm9wdGlvbnMucm93cyB8fCBbXTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGluZmxhdGUocm93cywgbWVyZ2VDZWxscyk7XG5cbiAgICAgICAgdGhpcy5fcmVhZENlbGxzKGRhdGEpO1xuXG4gICAgICAgIGxldCBhdXRvRmlsdGVyID0gdGhpcy5vcHRpb25zLmZpbHRlcjtcbiAgICAgICAgbGV0IGZpbHRlcjtcbiAgICAgICAgaWYgKGF1dG9GaWx0ZXIgJiYgKHR5cGVvZiBhdXRvRmlsdGVyLmZyb20gPT09IFwibnVtYmVyXCIpICYmICh0eXBlb2YgYXV0b0ZpbHRlci50byA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIC8vIEdyaWQgZW5hYmxlcyBhdXRvIGZpbHRlclxuICAgICAgICAgICAgYXV0b0ZpbHRlciA9IHtcbiAgICAgICAgICAgICAgICBmcm9tOiByZWYoZmlsdGVyUm93SW5kZXgodGhpcy5vcHRpb25zKSwgYXV0b0ZpbHRlci5mcm9tKSxcbiAgICAgICAgICAgICAgICB0bzogcmVmKGZpbHRlclJvd0luZGV4KHRoaXMub3B0aW9ucyksIGF1dG9GaWx0ZXIudG8pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGF1dG9GaWx0ZXIgJiYgYXV0b0ZpbHRlci5yZWYgJiYgYXV0b0ZpbHRlci5jb2x1bW5zKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHByb2JhYmx5IGZyb20gdGhlIFNwcmVhZHNoZWV0XG4gICAgICAgICAgICBmaWx0ZXIgPSBhdXRvRmlsdGVyO1xuICAgICAgICAgICAgYXV0b0ZpbHRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxpZGF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuX3ZhbGlkYXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3ZhbGlkYXRpb25zLCBpKSkge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25zLnB1c2godGhpcy5fdmFsaWRhdGlvbnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRlZmF1bHRDZWxsU3R5bGVJZCA9IG51bGw7XG4gICAgICAgIGxldCBkZWZhdWx0Q2VsbFN0eWxlID0gdGhpcy5vcHRpb25zLmRlZmF1bHRDZWxsU3R5bGU7XG4gICAgICAgIGlmICh0aGlzLl9oYXNEaXNhYmxlZENlbGxzKSB7XG4gICAgICAgICAgICBpZiAoIWRlZmF1bHRDZWxsU3R5bGUpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0Q2VsbFN0eWxlID0geyBkaXNhYmxlZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdENlbGxTdHlsZSA9IE9iamVjdC5hc3NpZ24oeyBkaXNhYmxlZDogZmFsc2UgfSwgZGVmYXVsdENlbGxTdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZmF1bHRDZWxsU3R5bGUpIHtcbiAgICAgICAgICAgIGRlZmF1bHRDZWxsU3R5bGVJZCA9IHRoaXMuX2xvb2t1cFN0eWxlKGRlZmF1bHRDZWxsU3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJlZXplUGFuZSA9IHRoaXMub3B0aW9ucy5mcmVlemVQYW5lIHx8IHt9O1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHRoaXMub3B0aW9ucy5kZWZhdWx0cyB8fCB7fTtcbiAgICAgICAgY29uc3QgbGFzdFJvdyA9IHRoaXMub3B0aW9ucy5yb3dzID8gdGhpcy5fZ2V0TGFzdFJvdygpIDogMTtcbiAgICAgICAgY29uc3QgbGFzdENvbCA9IHRoaXMub3B0aW9ucy5yb3dzID8gdGhpcy5fZ2V0TGFzdENvbCgpIDogMTtcblxuICAgICAgICByZXR1cm4gV09SS1NIRUVUKHtcbiAgICAgICAgICAgIGZyb3plbkNvbHVtbnM6IHRoaXMub3B0aW9ucy5mcm96ZW5Db2x1bW5zIHx8IGZyZWV6ZVBhbmUuY29sU3BsaXQsXG4gICAgICAgICAgICBmcm96ZW5Sb3dzOiB0aGlzLm9wdGlvbnMuZnJvemVuUm93cyB8fCBmcmVlemVQYW5lLnJvd1NwbGl0LFxuICAgICAgICAgICAgY29sdW1uczogdGhpcy5vcHRpb25zLmNvbHVtbnMsXG4gICAgICAgICAgICBkZWZhdWx0czogZGVmYXVsdHMsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgbWVyZ2VDZWxsczogbWVyZ2VDZWxscyxcbiAgICAgICAgICAgIGF1dG9GaWx0ZXI6IGF1dG9GaWx0ZXIsXG4gICAgICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgICAgIHNob3dHcmlkTGluZXM6IHRoaXMub3B0aW9ucy5zaG93R3JpZExpbmVzLFxuICAgICAgICAgICAgaHlwZXJsaW5rczogdGhpcy5faHlwZXJsaW5rcyxcbiAgICAgICAgICAgIHZhbGlkYXRpb25zOiB2YWxpZGF0aW9ucyxcbiAgICAgICAgICAgIGRlZmF1bHRDZWxsU3R5bGVJZDogZGVmYXVsdENlbGxTdHlsZUlkLFxuICAgICAgICAgICAgcnRsOiB0aGlzLm9wdGlvbnMucnRsICE9PSB1bmRlZmluZWQgPyB0aGlzLm9wdGlvbnMucnRsIDogZGVmYXVsdHMucnRsLFxuICAgICAgICAgICAgbGVnYWN5RHJhd2luZzogdGhpcy5fY29tbWVudHMubGVuZ3RoID8gYHZtbCR7dGhpcy5vcHRpb25zLnNoZWV0SW5kZXh9YCA6IG51bGwsXG4gICAgICAgICAgICBkcmF3aW5nOiB0aGlzLl9kcmF3aW5ncy5sZW5ndGggPyBgZHJ3JHt0aGlzLm9wdGlvbnMuc2hlZXRJbmRleH1gIDogbnVsbCxcbiAgICAgICAgICAgIGxhc3RSb3c6IGxhc3RSb3csXG4gICAgICAgICAgICBsYXN0Q29sOiBsYXN0Q29sLFxuICAgICAgICAgICAgaGFzRGlzYWJsZWRDZWxsczogdGhpcy5faGFzRGlzYWJsZWRDZWxscyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tbWVudHNYTUwoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb21tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBDT01NRU5UU19YTUwoeyBjb21tZW50czogdGhpcy5fY29tbWVudHMgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3aW5nc1hNTChpbWFnZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RyYXdpbmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHJlbHMgPSB7fTtcbiAgICAgICAgICAgIGxldCBtYWluID0gdGhpcy5fZHJhd2luZ3MubWFwKGRydyA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJlZiA9IHBhcnNlUmVmKGRydy50b3BMZWZ0Q2VsbCk7XG4gICAgICAgICAgICAgICAgbGV0IGltZyA9IHJlbHNbZHJ3LmltYWdlXTtcbiAgICAgICAgICAgICAgICBpZiAoIWltZykge1xuICAgICAgICAgICAgICAgICAgICBpbWcgPSByZWxzW2Rydy5pbWFnZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBySWQ6IGBpbWcke2Rydy5pbWFnZX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBpbWFnZXNbZHJ3LmltYWdlXS50YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY29sICAgICAgIDogcmVmLmNvbCxcbiAgICAgICAgICAgICAgICAgICAgY29sT2Zmc2V0IDogcGl4ZWxzVG9FeGNlbChkcncub2Zmc2V0WCksXG4gICAgICAgICAgICAgICAgICAgIHJvdyAgICAgICA6IHJlZi5yb3csXG4gICAgICAgICAgICAgICAgICAgIHJvd09mZnNldCA6IHBpeGVsc1RvRXhjZWwoZHJ3Lm9mZnNldFkpLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAgICAgOiBwaXhlbHNUb0V4Y2VsKGRydy53aWR0aCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCAgICA6IHBpeGVsc1RvRXhjZWwoZHJ3LmhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlSWQgICA6IGltZy5ySWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1haW46IERSQVdJTkdTX1hNTChtYWluKSxcbiAgICAgICAgICAgICAgICByZWxzOiBEUkFXSU5HU19SRUxTX1hNTChyZWxzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxlZ2FjeURyYXdpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb21tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBMRUdBQ1lfRFJBV0lORyh7IGNvbW1lbnRzOiB0aGlzLl9jb21tZW50cyB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb29rdXBTdHJpbmcodmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gXCIkXCIgKyB2YWx1ZTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9zdHJpbmdzLmluZGV4ZXNba2V5XTtcbiAgICAgICAgbGV0IHJlc3VsdDtcblxuICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gaW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLl9zdHJpbmdzLmluZGV4ZXNba2V5XSA9IHRoaXMuX3N0cmluZ3MudW5pcXVlQ291bnQ7XG4gICAgICAgICAgICB0aGlzLl9zdHJpbmdzLnVuaXF1ZUNvdW50ICsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RyaW5ncy5jb3VudCArKztcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIF9sb29rdXBTdHlsZShzdHlsZSkge1xuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoc3R5bGUpO1xuXG4gICAgICAgIGlmIChqc29uID09PSBcInt9XCIpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGV4ID0gaW5kZXhPZihqc29uLCB0aGlzLl9zdHlsZXMpO1xuXG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fc3R5bGVzLnB1c2goanNvbikgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgaXMgb25lIGRlZmF1bHQgc3R5bGVcbiAgICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9XG5cbiAgICBfbG9va3VwQm9yZGVyKGJvcmRlcikge1xuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoYm9yZGVyKTtcbiAgICAgICAgaWYgKGpzb24gPT09IFwie31cIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZGV4ID0gaW5kZXhPZihqc29uLCB0aGlzLl9ib3JkZXJzKTtcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9ib3JkZXJzLnB1c2goanNvbikgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlcmUgaXMgb25lIGRlZmF1bHQgYm9yZGVyXG4gICAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgfVxuXG4gICAgX3JlYWRDZWxscyhyb3dEYXRhKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93RGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgcm93ID0gcm93RGF0YVtpXTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxzID0gcm93LmNlbGxzO1xuXG4gICAgICAgICAgICByb3cuZGF0YSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNlbGxzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbERhdGEgPSB0aGlzLl9jZWxsKGNlbGxzW2pdLCByb3cuaW5kZXgsIGopO1xuICAgICAgICAgICAgICAgIGlmIChjZWxsRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByb3cuZGF0YS5wdXNoKGNlbGxEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2VsbChkYXRhLCByb3dJbmRleCwgY2VsbEluZGV4KSB7XG4gICAgICAgIGlmICghZGF0YSB8fCBkYXRhID09PSBFTVBUWV9DRUxMKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2YWx1ZSA9IGRhdGEudmFsdWU7XG5cbiAgICAgICAgbGV0IGJvcmRlciA9IHt9O1xuXG4gICAgICAgIGlmIChkYXRhLmJvcmRlckxlZnQpIHtcbiAgICAgICAgICAgIGJvcmRlci5sZWZ0ID0gZGF0YS5ib3JkZXJMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuYm9yZGVyUmlnaHQpIHtcbiAgICAgICAgICAgIGJvcmRlci5yaWdodCA9IGRhdGEuYm9yZGVyUmlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5ib3JkZXJUb3ApIHtcbiAgICAgICAgICAgIGJvcmRlci50b3AgPSBkYXRhLmJvcmRlclRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmJvcmRlckJvdHRvbSkge1xuICAgICAgICAgICAgYm9yZGVyLmJvdHRvbSA9IGRhdGEuYm9yZGVyQm90dG9tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuZEJvcmRlcnMpIHtcbiAgICAgICAgICAgIGJvcmRlci5kaWFnb25hbCA9IGRhdGEuZEJvcmRlcnM7XG4gICAgICAgIH1cblxuICAgICAgICBib3JkZXIgPSB0aGlzLl9sb29rdXBCb3JkZXIoYm9yZGVyKTtcblxuICAgICAgICBjb25zdCBkZWZTdHlsZSA9IHRoaXMub3B0aW9ucy5kZWZhdWx0Q2VsbFN0eWxlIHx8IHt9O1xuICAgICAgICBsZXQgc3R5bGUgPSB7IGJvcmRlcklkOiBib3JkZXIgfTtcblxuICAgICAgICAoYWRkID0+IHtcbiAgICAgICAgICAgIGFkZChcImNvbG9yXCIpO1xuICAgICAgICAgICAgYWRkKFwiYmFja2dyb3VuZFwiKTtcbiAgICAgICAgICAgIGFkZChcImJvbGRcIik7XG4gICAgICAgICAgICBhZGQoXCJpdGFsaWNcIik7XG4gICAgICAgICAgICBhZGQoXCJ1bmRlcmxpbmVcIik7XG4gICAgICAgICAgICBpZiAoIWFkZChcImZvbnRGYW1pbHlcIikpIHsgYWRkKFwiZm9udE5hbWVcIiwgXCJmb250RmFtaWx5XCIpOyB9XG4gICAgICAgICAgICBhZGQoXCJmb250U2l6ZVwiKTtcbiAgICAgICAgICAgIGFkZChcImZvcm1hdFwiKTtcbiAgICAgICAgICAgIGlmICghYWRkKFwidGV4dEFsaWduXCIpKSB7IGFkZChcImhBbGlnblwiLCBcInRleHRBbGlnblwiKTsgfVxuICAgICAgICAgICAgaWYgKCFhZGQoXCJ2ZXJ0aWNhbEFsaWduXCIpKSB7IGFkZChcInZBbGlnblwiLCBcInZlcnRpY2FsQWxpZ25cIik7IH1cbiAgICAgICAgICAgIGFkZChcIndyYXBcIik7XG4gICAgICAgICAgICBhZGQoXCJpbmRlbnRcIik7XG4gICAgICAgICAgICBpZiAoIWFkZChcImRpc2FibGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkZChcImVuYWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5kaXNhYmxlZCA9ICFzdHlsZS5lbmFibGU7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzdHlsZS5lbmFibGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0eWxlLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFzRGlzYWJsZWRDZWxscyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKChwcm9wLCB0YXJnZXQpID0+IHtcbiAgICAgICAgICAgIGxldCB2YWwgPSBkYXRhW3Byb3BdO1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gZGVmU3R5bGVbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzdHlsZVt0YXJnZXQgfHwgcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSB0aGlzLm9wdGlvbnMuY29sdW1ucyB8fCBbXTtcblxuICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zW2NlbGxJbmRleF07XG4gICAgICAgIGxldCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG4gICAgICAgIGlmIChjb2x1bW4gJiYgY29sdW1uLmF1dG9XaWR0aCAmJiAoIWRhdGEuY29sU3BhbiB8fCBkYXRhLmNvbFNwYW4gPT09IDEpKSB7XG4gICAgICAgICAgICBsZXQgZGlzcGxheVZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIC8vIFhYWDogbGV0J3Mgbm90IGJyaW5nIGtlbmRvLnRvU3RyaW5nIGluIG9ubHkgZm9yIHRoaXMuXG4gICAgICAgICAgICAvLyAgICAgIGJldHRlciB3YWl0IHVudGlsIHRoZSBzcHJlYWRzaGVldCBlbmdpbmUgaXMgYXZhaWxhYmxlIGFzIGEgc2VwYXJhdGVcbiAgICAgICAgICAgIC8vICAgICAgY29tcG9uZW50LCB0aGVuIHdlIGNhbiB1c2UgYSByZWFsIEV4Y2VsLWxpa2UgZm9ybWF0dGVyLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgLy8ga2VuZG8udG9TdHJpbmcgd2lsbCBub3QgYmVoYXZlIGV4YWN0bHkgbGlrZSB0aGUgRXhjZWwgZm9ybWF0XG4gICAgICAgICAgICAgICAgLy8gU3RpbGwsIGl0J3MgdGhlIGJlc3Qgd2UgaGF2ZSBhdmFpbGFibGUgZm9yIGVzdGltYXRpbmcgdGhlIGNoYXJhY3RlciBjb3VudC5cbiAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWUgPSBJbnRsU2VydmljZS50b1N0cmluZyh2YWx1ZSwgZGF0YS5mb3JtYXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb2x1bW4ud2lkdGggPSBNYXRoLm1heChjb2x1bW4ud2lkdGggfHwgMCwgU3RyaW5nKGRpc3BsYXlWYWx1ZSkubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHN0cmlwRnVubnlDaGFycyh2YWx1ZSk7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2xvb2t1cFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICB0eXBlID0gXCJzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgdHlwZSA9IFwiblwiO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICB0eXBlID0gXCJiXCI7XG4gICAgICAgICAgICB2YWx1ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdmFsdWUuZ2V0VGltZSkge1xuICAgICAgICAgICAgdHlwZSA9IG51bGw7XG4gICAgICAgICAgICB2YWx1ZSA9IGRhdGVUb1NlcmlhbCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXN0eWxlLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmZvcm1hdCA9IFwibW0tZGQteXlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHR5cGUgPSBudWxsO1xuICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgc3R5bGUgPSB0aGlzLl9sb29rdXBTdHlsZShzdHlsZSk7XG5cbiAgICAgICAgY29uc3QgY2VsbE5hbWUgPSByZWYocm93SW5kZXgsIGNlbGxJbmRleCk7XG5cbiAgICAgICAgaWYgKGRhdGEudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fYWRkVmFsaWRhdGlvbihkYXRhLnZhbGlkYXRpb24sIGNlbGxOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLmNvbW1lbnQpIHtcbiAgICAgICAgICAgIGxldCBhbmNob3IgPSBbXG4gICAgICAgICAgICAgICAgY2VsbEluZGV4ICsgMSwgIC8vIHN0YXJ0IGNvbHVtblxuICAgICAgICAgICAgICAgIDE1LCAgICAgICAgICAgICAvLyBzdGFydCBjb2x1bW4gb2Zmc2V0XG4gICAgICAgICAgICAgICAgcm93SW5kZXgsICAgICAgIC8vIHN0YXJ0IHJvd1xuICAgICAgICAgICAgICAgIDEwLCAgICAgICAgICAgICAvLyBzdGFydCByb3cgb2Zmc2V0XG4gICAgICAgICAgICAgICAgY2VsbEluZGV4ICsgMywgIC8vIGVuZCBjb2x1bW5cbiAgICAgICAgICAgICAgICAxNSwgICAgICAgICAgICAgLy8gZW5kIGNvbHVtbiBvZmZzZXRcbiAgICAgICAgICAgICAgICByb3dJbmRleCArIDMsICAgLy8gZW5kIHJvd1xuICAgICAgICAgICAgICAgIDQgICAgICAgICAgICAgICAvLyBlbmQgcm93IG9mZnNldFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHJlZiAgICA6IGNlbGxOYW1lLFxuICAgICAgICAgICAgICAgIHRleHQgICA6IGRhdGEuY29tbWVudCxcbiAgICAgICAgICAgICAgICByb3cgICAgOiByb3dJbmRleCxcbiAgICAgICAgICAgICAgICBjb2wgICAgOiBjZWxsSW5kZXgsXG4gICAgICAgICAgICAgICAgYW5jaG9yIDogYW5jaG9yLmpvaW4oXCIsIFwiKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgZm9ybXVsYTogZGF0YS5mb3JtdWxhLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICAgIHJlZjogY2VsbE5hbWVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfYWRkVmFsaWRhdGlvbih2LCByZWYpIHtcbiAgICAgICAgY29uc3QgdG1wID0ge1xuICAgICAgICAgICAgc2hvd0Vycm9yTWVzc2FnZSA6IHYudHlwZSA9PT0gXCJyZWplY3RcIiA/IDEgOiAwLFxuICAgICAgICAgICAgZm9ybXVsYTEgICAgICAgICA6IHYuZnJvbSxcbiAgICAgICAgICAgIGZvcm11bGEyICAgICAgICAgOiB2LnRvLFxuICAgICAgICAgICAgdHlwZSAgICAgICAgICAgICA6IE1BUF9FWENFTF9UWVBFW3YuZGF0YVR5cGVdIHx8IHYuZGF0YVR5cGUsXG4gICAgICAgICAgICBvcGVyYXRvciAgICAgICAgIDogTUFQX0VYQ0VMX09QRVJBVE9SW3YuY29tcGFyZXJUeXBlXSB8fCB2LmNvbXBhcmVyVHlwZSxcbiAgICAgICAgICAgIGFsbG93QmxhbmsgICAgICAgOiB2LmFsbG93TnVsbHMgPyAxIDogMCxcbiAgICAgICAgICAgIHNob3dEcm9wRG93biAgICAgOiB2LnNob3dCdXR0b24gPyAwIDogMSwgLy8gTE9MLCBFeGNlbCFcbiAgICAgICAgICAgIGVycm9yICAgICAgICAgICAgOiB2Lm1lc3NhZ2VUZW1wbGF0ZSxcbiAgICAgICAgICAgIGVycm9yVGl0bGUgICAgICAgOiB2LnRpdGxlVGVtcGxhdGVcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHRtcCk7XG4gICAgICAgIGlmICghdGhpcy5fdmFsaWRhdGlvbnNbanNvbl0pIHtcbiAgICAgICAgICAgIHRoaXMuX3ZhbGlkYXRpb25zW2pzb25dID0gdG1wO1xuICAgICAgICAgICAgdG1wLnNxcmVmID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbnNbanNvbl0uc3FyZWYucHVzaChyZWYpO1xuICAgIH1cblxuICAgIF9nZXRMYXN0Um93KCkge1xuICAgICAgICByZXR1cm4gY291bnREYXRhKHRoaXMub3B0aW9ucy5yb3dzKTtcbiAgICB9XG5cbiAgICBfZ2V0TGFzdENvbCgpIHtcbiAgICAgICAgbGV0IGxhc3QgPSAwO1xuICAgICAgICB0aGlzLm9wdGlvbnMucm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgICAgICAgICAgaWYgKHJvdy5jZWxscykge1xuICAgICAgICAgICAgICAgIGxhc3QgPSBNYXRoLm1heChsYXN0LCBjb3VudERhdGEocm93LmNlbGxzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbGFzdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvdW50RGF0YShkYXRhKSB7XG4gICAgbGV0IGxhc3QgPSBkYXRhLmxlbmd0aDtcbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgaWYgKGVsLmluZGV4ICYmIGVsLmluZGV4ID49IGxhc3QpIHtcbiAgICAgICAgICAgIGxhc3QgPSBlbC5pbmRleCArIDE7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbGFzdDtcbn1cblxuY29uc3QgTUFQX0VYQ0VMX09QRVJBVE9SID0ge1xuICAgIC8vIGluY2x1ZGVzIG9ubHkgd2hhdCBkaWZmZXJzOyBrZXkgaXMgb3VyIG9wZXJhdG9yLCB2YWx1ZSBpcyBFeGNlbFxuICAgIC8vIG9wZXJhdG9yLlxuICAgIGdyZWF0ZXJUaGFuT3JFcXVhbFRvIDogXCJncmVhdGVyVGhhbk9yRXF1YWxcIixcbiAgICBsZXNzVGhhbk9yRXF1YWxUbyAgICA6IFwibGVzc1RoYW5PckVxdWFsXCJcbn07XG5cbmNvbnN0IE1BUF9FWENFTF9UWVBFID0ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpZC1kZW55bGlzdFxuICAgIG51bWJlcjogXCJkZWNpbWFsXCJcbn07XG5cbmNvbnN0IGRlZmF1bHRGb3JtYXRzID0ge1xuICAgIFwiR2VuZXJhbFwiOiAwLFxuICAgIFwiMFwiOiAxLFxuICAgIFwiMC4wMFwiOiAyLFxuICAgIFwiIywjIzBcIjogMyxcbiAgICBcIiMsIyMwLjAwXCI6IDQsXG4gICAgXCIwJVwiOiA5LFxuICAgIFwiMC4wMCVcIjogMTAsXG4gICAgXCIwLjAwRSswMFwiOiAxMSxcbiAgICBcIiMgPy8/XCI6IDEyLFxuICAgIFwiIyA/Py8/P1wiOiAxMyxcbiAgICBcIm1tLWRkLXl5XCI6IDE0LFxuICAgIFwiZC1tbW0teXlcIjogMTUsXG4gICAgXCJkLW1tbVwiOiAxNixcbiAgICBcIm1tbS15eVwiOiAxNyxcbiAgICBcImg6bW0gQU0vUE1cIjogMTgsXG4gICAgXCJoOm1tOnNzIEFNL1BNXCI6IDE5LFxuICAgIFwiaDptbVwiOiAyMCxcbiAgICBcImg6bW06c3NcIjogMjEsXG4gICAgXCJtL2QveXkgaDptbVwiOiAyMixcbiAgICBcIiMsIyMwIDsoIywjIzApXCI6IDM3LFxuICAgIFwiIywjIzAgO1tSZWRdKCMsIyMwKVwiOiAzOCxcbiAgICBcIiMsIyMwLjAwOygjLCMjMC4wMClcIjogMzksXG4gICAgXCIjLCMjMC4wMDtbUmVkXSgjLCMjMC4wMClcIjogNDAsXG4gICAgXCJtbTpzc1wiOiA0NSxcbiAgICBcIltoXTptbTpzc1wiOiA0NixcbiAgICBcIm1tc3MuMFwiOiA0NyxcbiAgICBcIiMjMC4wRSswXCI6IDQ4LFxuICAgIFwiQFwiOiA0OSxcbiAgICBcIlskLTQwNF1lL20vZFwiOiAyNyxcbiAgICBcIm0vZC95eVwiOiAzMCxcbiAgICBcInQwXCI6IDU5LFxuICAgIFwidDAuMDBcIjogNjAsXG4gICAgXCJ0IywjIzBcIjogNjEsXG4gICAgXCJ0IywjIzAuMDBcIjogNjIsXG4gICAgXCJ0MCVcIjogNjcsXG4gICAgXCJ0MC4wMCVcIjogNjgsXG4gICAgXCJ0IyA/Lz9cIjogNjksXG4gICAgXCJ0IyA/Py8/P1wiOiA3MFxufTtcblxuZnVuY3Rpb24gbWF5YmVSR0IodmFsdWUpIHtcbiAgICBmdW5jdGlvbiBoZXgodmFsKSB7XG4gICAgICAgIGxldCB4ID0gcGFyc2VJbnQodmFsLCAxMCkudG9TdHJpbmcoMTYpO1xuICAgICAgICByZXR1cm4geC5sZW5ndGggPCAyID8gXCIwXCIgKyB4IDogeDtcbiAgICB9XG5cbiAgICBsZXQgbSA9IC9ecmdiYT9cXCgoXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqKD86LFxccyooWzAtOS5dKylcXHMqKT9cXCkvaS5leGVjKHZhbHVlLnRyaW0oKSk7XG4gICAgaWYgKG0pIHtcbiAgICAgICAgbGV0IG9wYWNpdHkgPSAobVs0XSA/IHBhcnNlRmxvYXQobVs0XSkgOiAxKSAqIDI1NSB8IDA7XG4gICAgICAgIHJldHVybiBcIiNcIiArIGhleChvcGFjaXR5KSArIGhleChtWzFdKSArIGhleChtWzJdKSArIGhleChtWzNdKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0Q29sb3IodmFsdWUpIHtcbiAgICBsZXQgY29sb3IgPSBtYXliZVJHQih2YWx1ZSk7XG4gICAgaWYgKGNvbG9yLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKC8oXFx3KS9nLCBmdW5jdGlvbigkMCwgJDEpIHtcbiAgICAgICAgICAgIHJldHVybiAkMSArICQxO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb2xvciA9IGNvbG9yLnN1YnN0cmluZygxKS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgaWYgKGNvbG9yLmxlbmd0aCA8IDgpIHtcbiAgICAgICAgY29sb3IgPSBcIkZGXCIgKyBjb2xvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbmNsYXNzIFdvcmtib29rIHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5fc3RyaW5ncyA9IHtcbiAgICAgICAgICAgIGluZGV4ZXM6IHt9LFxuICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICB1bmlxdWVDb3VudDogMFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zdHlsZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fYm9yZGVycyA9IFtdO1xuICAgICAgICB0aGlzLl9pbWFnZXMgPSB0aGlzLm9wdGlvbnMuaW1hZ2VzO1xuICAgICAgICB0aGlzLl9pbWdJZCA9IDA7XG5cbiAgICAgICAgdGhpcy5fc2hlZXRzID0gbWFwKHRoaXMub3B0aW9ucy5zaGVldHMgfHwgW10sIChvcHRpb25zLCBpKSA9PiB7XG4gICAgICAgICAgICBvcHRpb25zLmRlZmF1bHRzID0gdGhpcy5vcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucy5zaGVldEluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdvcmtzaGVldChvcHRpb25zLCB0aGlzLl9zdHJpbmdzLCB0aGlzLl9zdHlsZXMsIHRoaXMuX2JvcmRlcnMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbWFnZUZpbGVuYW1lKG1pbWVUeXBlKSB7XG4gICAgICAgIGNvbnN0IGlkID0gKyt0aGlzLl9pbWdJZDtcbiAgICAgICAgc3dpdGNoIChtaW1lVHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJpbWFnZS9qcGdcIjpcbiAgICAgICAgICBjYXNlIFwiaW1hZ2UvanBlZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIGBpbWFnZSR7aWR9LmpwZ2A7XG4gICAgICAgICAgY2FzZSBcImltYWdlL3BuZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIGBpbWFnZSR7aWR9LnBuZ2A7XG4gICAgICAgICAgY2FzZSBcImltYWdlL2dpZlwiOlxuICAgICAgICAgICAgcmV0dXJuIGBpbWFnZSR7aWR9LmdpZmA7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBgaW1hZ2Uke2lkfS5iaW5gOyAvLyBYWFg6IGFueXRoaW5nIGJldHRlciB0byBkbyBoZXJlP1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9aSVAoKSB7XG4gICAgICAgIGNvbnN0IHppcCA9IGNyZWF0ZVppcCgpO1xuXG4gICAgICAgIGNvbnN0IGRvY1Byb3BzID0gemlwLmZvbGRlcihcImRvY1Byb3BzXCIpO1xuXG4gICAgICAgIGRvY1Byb3BzLmZpbGUoXCJjb3JlLnhtbFwiLCBDT1JFKHtcbiAgICAgICAgICAgIGNyZWF0b3I6IHRoaXMub3B0aW9ucy5jcmVhdG9yIHx8IFwiS2VuZG8gVUlcIixcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZEJ5OiB0aGlzLm9wdGlvbnMuY3JlYXRvciB8fCBcIktlbmRvIFVJXCIsXG4gICAgICAgICAgICBjcmVhdGVkOiB0aGlzLm9wdGlvbnMuZGF0ZSB8fCBuZXcgRGF0ZSgpLnRvSlNPTigpLFxuICAgICAgICAgICAgbW9kaWZpZWQ6IHRoaXMub3B0aW9ucy5kYXRlIHx8IG5ldyBEYXRlKCkudG9KU09OKClcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHNoZWV0Q291bnQgPSB0aGlzLl9zaGVldHMubGVuZ3RoO1xuXG4gICAgICAgIGRvY1Byb3BzLmZpbGUoXCJhcHAueG1sXCIsIEFQUCh7IHNoZWV0czogdGhpcy5fc2hlZXRzIH0pKTtcblxuICAgICAgICBjb25zdCByZWxzID0gemlwLmZvbGRlcihcIl9yZWxzXCIpO1xuICAgICAgICByZWxzLmZpbGUoXCIucmVsc1wiLCBSRUxTKTtcblxuICAgICAgICBjb25zdCB4bCA9IHppcC5mb2xkZXIoXCJ4bFwiKTtcblxuICAgICAgICBjb25zdCB4bFJlbHMgPSB4bC5mb2xkZXIoXCJfcmVsc1wiKTtcbiAgICAgICAgeGxSZWxzLmZpbGUoXCJ3b3JrYm9vay54bWwucmVsc1wiLCBXT1JLQk9PS19SRUxTKHsgY291bnQ6IHNoZWV0Q291bnQgfSkpO1xuXG4gICAgICAgIGlmICh0aGlzLl9pbWFnZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1lZGlhID0geGwuZm9sZGVyKFwibWVkaWFcIik7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9pbWFnZXMpLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IHRoaXMuX2ltYWdlc1tpZF07XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSB0aGlzLmltYWdlRmlsZW5hbWUoaW1nLnR5cGUpO1xuICAgICAgICAgICAgICAgIG1lZGlhLmZpbGUoZmlsZW5hbWUsIGltZy5kYXRhKTtcbiAgICAgICAgICAgICAgICBpbWcudGFyZ2V0ID0gYC4uL21lZGlhLyR7ZmlsZW5hbWV9YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2hlZXRJZHMgPSB7fTtcbiAgICAgICAgeGwuZmlsZShcIndvcmtib29rLnhtbFwiLCBXT1JLQk9PSyh7XG4gICAgICAgICAgICBzaGVldHM6IHRoaXMuX3NoZWV0cyxcbiAgICAgICAgICAgIGZpbHRlck5hbWVzOiBtYXAodGhpcy5fc2hlZXRzLCBmdW5jdGlvbihzaGVldCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gc2hlZXQub3B0aW9ucztcbiAgICAgICAgICAgICAgICBjb25zdCBzaGVldE5hbWUgPSAob3B0aW9ucy5uYW1lIHx8IG9wdGlvbnMudGl0bGUgfHwgXCJTaGVldFwiICsgKGluZGV4ICsgMSkpO1xuICAgICAgICAgICAgICAgIHNoZWV0SWRzW3NoZWV0TmFtZS50b0xvd2VyQ2FzZSgpXSA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5yZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNwcmVhZHNoZWV0IHByb3ZpZGVzIGByZWZgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IGZpbHRlci5yZWYuc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyb20gPSBwYXJzZVJlZihhWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0byA9IHBhcnNlUmVmKGFbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFNoZWV0SWQ6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNoZWV0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAkcmVmKGZyb20ucm93LCBmcm9tLmNvbCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86ICRyZWYodG8ucm93LCB0by5jb2wpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWx0ZXIuZnJvbSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZmlsdGVyLnRvICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGRvZXMgdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFNoZWV0SWQ6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNoZWV0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAkcmVmKGZpbHRlclJvd0luZGV4KG9wdGlvbnMpLCBmaWx0ZXIuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86ICRyZWYoZmlsdGVyUm93SW5kZXgob3B0aW9ucyksIGZpbHRlci50bylcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHVzZXJOYW1lczogbWFwKHRoaXMub3B0aW9ucy5uYW1lcyB8fCBbXSwgZnVuY3Rpb24oZGVmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZGVmLmxvY2FsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTaGVldElkOiBkZWYuc2hlZXQgPyBzaGVldElkc1tkZWYuc2hlZXQudG9Mb3dlckNhc2UoKV0gOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGVmLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IGRlZi5oaWRkZW5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIGNvbnN0IHdvcmtzaGVldHMgPSB4bC5mb2xkZXIoXCJ3b3Jrc2hlZXRzXCIpO1xuICAgICAgICBjb25zdCBkcmF3aW5ncyA9IHhsLmZvbGRlcihcImRyYXdpbmdzXCIpO1xuICAgICAgICBjb25zdCBkcmF3aW5nc1JlbHMgPSBkcmF3aW5ncy5mb2xkZXIoXCJfcmVsc1wiKTtcbiAgICAgICAgY29uc3Qgc2hlZXRSZWxzID0gd29ya3NoZWV0cy5mb2xkZXIoXCJfcmVsc1wiKTtcbiAgICAgICAgY29uc3QgY29tbWVudEZpbGVzID0gW107XG4gICAgICAgIGNvbnN0IGRyYXdpbmdGaWxlcyA9IFtdO1xuICAgICAgICBsZXQgaGFzRGlzYWJsZWRDZWxscyA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHNoZWV0Q291bnQ7IGlkeCsrKSB7XG4gICAgICAgICAgICBjb25zdCBzaGVldCA9IHRoaXMuX3NoZWV0c1tpZHhdO1xuICAgICAgICAgICAgY29uc3Qgc2hlZXROYW1lID0gYHNoZWV0JHtpZHggKyAxfS54bWxgO1xuICAgICAgICAgICAgY29uc3Qgc2hlZXRYTUwgPSBzaGVldC50b1hNTChpZHgpOyAvLyBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgcmVsc1RvWE1MXG4gICAgICAgICAgICBjb25zdCByZWxzWE1MID0gc2hlZXQucmVsc1RvWE1MKCk7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50c1hNTCA9IHNoZWV0LmNvbW1lbnRzWE1MKCk7XG4gICAgICAgICAgICBjb25zdCBsZWdhY3lEcmF3aW5nID0gc2hlZXQubGVnYWN5RHJhd2luZygpO1xuICAgICAgICAgICAgY29uc3QgZHJhd2luZ3NYTUwgPSBzaGVldC5kcmF3aW5nc1hNTCh0aGlzLl9pbWFnZXMpO1xuXG4gICAgICAgICAgICBpZiAoc2hlZXQuX2hhc0Rpc2FibGVkQ2VsbHMpIHtcbiAgICAgICAgICAgICAgICBoYXNEaXNhYmxlZENlbGxzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlbHNYTUwpIHtcbiAgICAgICAgICAgICAgICBzaGVldFJlbHMuZmlsZShzaGVldE5hbWUgKyBcIi5yZWxzXCIsIHJlbHNYTUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbW1lbnRzWE1MKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBgY29tbWVudHMke3NoZWV0Lm9wdGlvbnMuc2hlZXRJbmRleH0ueG1sYDtcbiAgICAgICAgICAgICAgICB4bC5maWxlKG5hbWUsIGNvbW1lbnRzWE1MKTtcbiAgICAgICAgICAgICAgICBjb21tZW50RmlsZXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZWdhY3lEcmF3aW5nKSB7XG4gICAgICAgICAgICAgICAgZHJhd2luZ3MuZmlsZShgdm1sRHJhd2luZyR7c2hlZXQub3B0aW9ucy5zaGVldEluZGV4fS52bWxgLCBsZWdhY3lEcmF3aW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcmF3aW5nc1hNTCkge1xuICAgICAgICAgICAgICAgIGxldCBuYW1lID0gYGRyYXdpbmcke3NoZWV0Lm9wdGlvbnMuc2hlZXRJbmRleH0ueG1sYDtcbiAgICAgICAgICAgICAgICBkcmF3aW5ncy5maWxlKG5hbWUsIGRyYXdpbmdzWE1MLm1haW4pO1xuICAgICAgICAgICAgICAgIGRyYXdpbmdzUmVscy5maWxlKGAke25hbWV9LnJlbHNgLCBkcmF3aW5nc1hNTC5yZWxzKTtcbiAgICAgICAgICAgICAgICBkcmF3aW5nRmlsZXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd29ya3NoZWV0cy5maWxlKHNoZWV0TmFtZSwgc2hlZXRYTUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm9yZGVycyA9IG1hcCh0aGlzLl9ib3JkZXJzLCBwYXJzZUpTT04pO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IG1hcCh0aGlzLl9zdHlsZXMsIHBhcnNlSlNPTik7XG5cbiAgICAgICAgY29uc3QgaGFzRm9udCA9IGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUudW5kZXJsaW5lIHx8IHN0eWxlLmJvbGQgfHwgc3R5bGUuaXRhbGljIHx8IHN0eWxlLmNvbG9yIHx8IHN0eWxlLmZvbnRGYW1pbHkgfHwgc3R5bGUuZm9udFNpemU7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgY29udmVydEZvbnRTaXplID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBmb250SW5QeCA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBsZXQgZm9udEluUHQ7XG5cbiAgICAgICAgICAgIGlmIChmb250SW5QeCkge1xuICAgICAgICAgICAgICAgIGZvbnRJblB0ID0gZm9udEluUHggKiAzIC8gNDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZvbnRJblB0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGZvbnRzID0gbWFwKHN0eWxlcywgZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgICAgIGlmIChzdHlsZS5mb250U2l6ZSkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gY29udmVydEZvbnRTaXplKHN0eWxlLmZvbnRTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuY29sb3IgPSBjb252ZXJ0Q29sb3Ioc3R5bGUuY29sb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaGFzRm9udChzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZvcm1hdHMgPSBtYXAoc3R5bGVzLCBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICAgICAgaWYgKHN0eWxlLmZvcm1hdCAmJiBkZWZhdWx0Rm9ybWF0c1tzdHlsZS5mb3JtYXRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZpbGxzID0gbWFwKHN0eWxlcywgZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgICAgIGlmIChzdHlsZS5iYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZCA9IGNvbnZlcnRDb2xvcihzdHlsZS5iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHhsLmZpbGUoXCJzdHlsZXMueG1sXCIsIFNUWUxFUyh7XG4gICAgICAgICAgICBmb250czogZm9udHMsXG4gICAgICAgICAgICBmaWxsczogZmlsbHMsXG4gICAgICAgICAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgICAgICAgICAgYm9yZGVyczogYm9yZGVycyxcbiAgICAgICAgICAgIHN0eWxlczogbWFwKHN0eWxlcywgZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcblxuICAgICAgICAgICAgICAgIGlmIChoYXNGb250KHN0eWxlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZm9udElkID0gaW5kZXhPZihzdHlsZSwgZm9udHMpICsgMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuZmlsbElkID0gaW5kZXhPZihzdHlsZSwgZmlsbHMpICsgMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHQudGV4dEFsaWduID0gc3R5bGUudGV4dEFsaWduO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5pbmRlbnQgPSBzdHlsZS5pbmRlbnQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnZlcnRpY2FsQWxpZ24gPSBzdHlsZS52ZXJ0aWNhbEFsaWduO1xuICAgICAgICAgICAgICAgIHJlc3VsdC53cmFwID0gc3R5bGUud3JhcDtcbiAgICAgICAgICAgICAgICByZXN1bHQuYm9yZGVySWQgPSBzdHlsZS5ib3JkZXJJZDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRGb3JtYXRzW3N0eWxlLmZvcm1hdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lm51bUZtdElkID0gZGVmYXVsdEZvcm1hdHNbc3R5bGUuZm9ybWF0XTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5udW1GbXRJZCA9IDE2NSArIGluZGV4T2Yoc3R5bGUsIGZvcm1hdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGhhc0Rpc2FibGVkQ2VsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc2FibGVkID0gISFzdHlsZS5kaXNhYmxlZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHhsLmZpbGUoXCJzaGFyZWRTdHJpbmdzLnhtbFwiLCBTSEFSRURfU1RSSU5HUyh0aGlzLl9zdHJpbmdzKSk7XG5cbiAgICAgICAgemlwLmZpbGUoXCJbQ29udGVudF9UeXBlc10ueG1sXCIsIENPTlRFTlRfVFlQRVMoe1xuICAgICAgICAgICAgc2hlZXRDb3VudDogc2hlZXRDb3VudCxcbiAgICAgICAgICAgIGNvbW1lbnRGaWxlczogY29tbWVudEZpbGVzLFxuICAgICAgICAgICAgZHJhd2luZ0ZpbGVzOiBkcmF3aW5nRmlsZXNcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHJldHVybiB6aXA7XG4gICAgfVxuXG4gICAgdG9EYXRhVVJMKCkge1xuICAgICAgICBjb25zdCB6aXAgPSB0aGlzLnRvWklQKCk7XG5cbiAgICAgICAgcmV0dXJuIHppcC5nZW5lcmF0ZUFzeW5jID8gemlwLmdlbmVyYXRlQXN5bmMoREFUQV9VUkxfT1BUSU9OUykudGhlbih0b0RhdGFVUkkpIDogdG9EYXRhVVJJKHppcC5nZW5lcmF0ZShEQVRBX1VSTF9PUFRJT05TKSk7XG4gICAgfVxuXG4gICAgdG9CbG9iKCkge1xuICAgICAgICBjb25zdCB6aXAgPSB0aGlzLnRvWklQKCk7XG4gICAgICAgIGlmICh6aXAuZ2VuZXJhdGVBc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIHppcC5nZW5lcmF0ZUFzeW5jKEJMT0JfT1BUSU9OUyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFsgemlwLmdlbmVyYXRlKEFSUkFZQlVGRkVSX09QVElPTlMpIF0sIHsgdHlwZTogTUlNRV9UWVBFIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYm9yZGVyU3R5bGUod2lkdGgpIHtcbiAgICBsZXQgYWxpYXMgPSBcInRoaW5cIjtcblxuICAgIGlmICh3aWR0aCA9PT0gMikge1xuICAgICAgICBhbGlhcyA9IFwibWVkaXVtXCI7XG4gICAgfSBlbHNlIGlmICh3aWR0aCA9PT0gMykge1xuICAgICAgICBhbGlhcyA9IFwidGhpY2tcIjtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxpYXM7XG59XG5cbmZ1bmN0aW9uIGJvcmRlclNpZGVUZW1wbGF0ZShuYW1lLCBzdHlsZSkge1xuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuXG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIHJlc3VsdCArPSBcIjxcIiArIG5hbWUgKyBcIiBzdHlsZT1cXFwiXCIgKyBib3JkZXJTdHlsZShzdHlsZS5zaXplKSArIFwiXFxcIj5cIjtcbiAgICAgICAgaWYgKHN0eWxlLmNvbG9yKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCI8Y29sb3IgcmdiPVxcXCJcIiArIGNvbnZlcnRDb2xvcihzdHlsZS5jb2xvcikgKyBcIlxcXCIvPlwiO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSBcIjwvXCIgKyBuYW1lICsgXCI+XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gYm9yZGVyVGVtcGxhdGUoYm9yZGVyKSB7XG4gICAgbGV0IGRpYWcgPSBib3JkZXIuZGlhZ29uYWwgPyBib3JkZXIuZGlhZ29uYWwudHlwZSA6IDA7XG4gICAgcmV0dXJuIGA8Ym9yZGVyICR7ZGlhZyAmIDIgPyAnZGlhZ29uYWxVcD1cInRydWVcIicgOiAnJ30gJHtkaWFnICYgMSA/ICdkaWFnb25hbERvd249XCJ0cnVlXCInIDogJyd9PlxuICAgICAgJHtib3JkZXJTaWRlVGVtcGxhdGUoXCJsZWZ0XCIsIGJvcmRlci5sZWZ0KX1cbiAgICAgICR7Ym9yZGVyU2lkZVRlbXBsYXRlKFwicmlnaHRcIiwgYm9yZGVyLnJpZ2h0KX1cbiAgICAgICR7Ym9yZGVyU2lkZVRlbXBsYXRlKFwidG9wXCIsIGJvcmRlci50b3ApfVxuICAgICAgJHtib3JkZXJTaWRlVGVtcGxhdGUoXCJib3R0b21cIiwgYm9yZGVyLmJvdHRvbSl9XG4gICAgICAke2JvcmRlclNpZGVUZW1wbGF0ZShcImRpYWdvbmFsXCIsIGJvcmRlci5kaWFnb25hbCl9XG4gICAgPC9ib3JkZXI+YDtcbn1cblxuY29uc3QgRU1QVFlfQ0VMTCA9IHt9O1xuZnVuY3Rpb24gaW5mbGF0ZShyb3dzLCBtZXJnZWRDZWxscykge1xuICAgIGNvbnN0IHJvd0RhdGEgPSBbXTtcbiAgICBjb25zdCByb3dzQnlJbmRleCA9IFtdO1xuXG4gICAgaW5kZXhSb3dzKHJvd3MsIGZ1bmN0aW9uKHJvdywgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIF9zb3VyY2U6IHJvdyxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGhlaWdodDogcm93LmhlaWdodCxcbiAgICAgICAgICAgIGxldmVsOiByb3cubGV2ZWwsXG4gICAgICAgICAgICBjZWxsczogW11cbiAgICAgICAgfTtcblxuICAgICAgICByb3dEYXRhLnB1c2goZGF0YSk7XG4gICAgICAgIHJvd3NCeUluZGV4W2luZGV4XSA9IGRhdGE7XG4gICAgfSk7XG5cbiAgICBjb25zdCBzb3J0ZWQgPSBzb3J0QnlJbmRleChyb3dEYXRhKS5zbGljZSgwKTtcbiAgICBjb25zdCBjdHggPSB7XG4gICAgICAgIHJvd0RhdGE6IHJvd0RhdGEsXG4gICAgICAgIHJvd3NCeUluZGV4OiByb3dzQnlJbmRleCxcbiAgICAgICAgbWVyZ2VkQ2VsbHM6IG1lcmdlZENlbGxzXG4gICAgfTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZpbGxDZWxscyhzb3J0ZWRbaV0sIGN0eCk7XG4gICAgICAgIGRlbGV0ZSBzb3J0ZWRbaV0uX3NvdXJjZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc29ydEJ5SW5kZXgocm93RGF0YSk7XG59XG5cbmZ1bmN0aW9uIGluZGV4Um93cyhyb3dzLCBjYWxsYmFjaykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCByb3cgPSByb3dzW2ldO1xuICAgICAgICBpZiAoIXJvdykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaW5kZXggPSByb3cuaW5kZXg7XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKHJvdywgaW5kZXgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5SW5kZXgoaXRlbXMpIHtcbiAgICByZXR1cm4gaXRlbXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcHVzaFVuaXF1ZShhcnJheSwgZWwpIHtcbiAgICBpZiAoYXJyYXkuaW5kZXhPZihlbCkgPCAwKSB7XG4gICAgICAgIGFycmF5LnB1c2goZWwpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U3BhbihtZXJnZWRDZWxscywgcmVmKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXJnZWRDZWxscy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCByYW5nZSA9IG1lcmdlZENlbGxzW2ldO1xuICAgICAgICBjb25zdCBhID0gcmFuZ2Uuc3BsaXQoXCI6XCIpO1xuICAgICAgICBsZXQgdG9wTGVmdCA9IGFbMF07XG4gICAgICAgIGlmICh0b3BMZWZ0ID09PSByZWYpIHtcbiAgICAgICAgICAgIGxldCBib3R0b21SaWdodCA9IGFbMV07XG4gICAgICAgICAgICB0b3BMZWZ0ID0gcGFyc2VSZWYodG9wTGVmdCk7XG4gICAgICAgICAgICBib3R0b21SaWdodCA9IHBhcnNlUmVmKGJvdHRvbVJpZ2h0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcm93U3BhbjogYm90dG9tUmlnaHQucm93IC0gdG9wTGVmdC5yb3cgKyAxLFxuICAgICAgICAgICAgICAgIGNvbFNwYW46IGJvdHRvbVJpZ2h0LmNvbCAtIHRvcExlZnQuY29sICsgMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VSZWYocmVmKSB7XG4gICAgZnVuY3Rpb24gZ2V0Y29sKHN0cikge1xuICAgICAgICBsZXQgdXBwZXJTdHIgPSBzdHIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgbGV0IGNvbCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBwZXJTdHIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbCA9IGNvbCAqIDI2ICsgdXBwZXJTdHIuY2hhckNvZGVBdChpKSAtIDY0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2wgLSAxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldHJvdyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApIC0gMTtcbiAgICB9XG5cbiAgICBjb25zdCBtID0gL14oW2Etel0rKShcXGQrKSQvaS5leGVjKHJlZik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm93OiBnZXRyb3cobVsyXSksXG4gICAgICAgIGNvbDogZ2V0Y29sKG1bMV0pXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcGl4ZWxzVG9FeGNlbChweCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHB4ICogOTUyNSk7XG59XG5cbmZ1bmN0aW9uIGZpbGxDZWxscyhkYXRhLCBjdHgpIHtcbiAgICBjb25zdCByb3cgPSBkYXRhLl9zb3VyY2U7XG4gICAgY29uc3Qgcm93SW5kZXggPSBkYXRhLmluZGV4O1xuICAgIGNvbnN0IGNlbGxzID0gcm93LmNlbGxzO1xuICAgIGNvbnN0IGNlbGxEYXRhID0gZGF0YS5jZWxscztcblxuICAgIGlmICghY2VsbHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IGNlbGxzW2ldIHx8IEVNUFRZX0NFTEw7XG5cbiAgICAgICAgbGV0IHJvd1NwYW4gPSBjZWxsLnJvd1NwYW4gfHwgMTtcbiAgICAgICAgbGV0IGNvbFNwYW4gPSBjZWxsLmNvbFNwYW4gfHwgMTtcblxuICAgICAgICBjb25zdCBjZWxsSW5kZXggPSBpbnNlcnRDZWxsKGNlbGxEYXRhLCBjZWxsKTtcbiAgICAgICAgY29uc3QgdG9wTGVmdFJlZiA9IHJlZihyb3dJbmRleCwgY2VsbEluZGV4KTtcblxuICAgICAgICBpZiAocm93U3BhbiA9PT0gMSAmJiBjb2xTcGFuID09PSAxKSB7XG4gICAgICAgICAgICAvLyBjb3VsZCBzdGlsbCBiZSBtZXJnZWQ6IHRoZSBzcHJlYWRzaGVldCBkb2VzIG5vdCBzZW5kXG4gICAgICAgICAgICAvLyByb3dTcGFuL2NvbFNwYW4sIGJ1dCBtZXJnZWRDZWxscyBpcyBhbHJlYWR5IHBvcHVsYXRlZC5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLXVpLWNvcmUvaXNzdWVzLzI0MDFcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGdldFNwYW4oY3R4Lm1lcmdlZENlbGxzLCB0b3BMZWZ0UmVmKTtcbiAgICAgICAgICAgIGlmICh0bXApIHtcbiAgICAgICAgICAgICAgICBjb2xTcGFuID0gdG1wLmNvbFNwYW47XG4gICAgICAgICAgICAgICAgcm93U3BhbiA9IHRtcC5yb3dTcGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3BhbkNlbGwoY2VsbCwgY2VsbERhdGEsIGNlbGxJbmRleCwgY29sU3Bhbik7XG5cbiAgICAgICAgaWYgKHJvd1NwYW4gPiAxIHx8IGNvbFNwYW4gPiAxKSB7XG4gICAgICAgICAgICBwdXNoVW5pcXVlKGN0eC5tZXJnZWRDZWxscyxcbiAgICAgICAgICAgICAgICAgICAgICAgdG9wTGVmdFJlZiArIFwiOlwiICsgcmVmKHJvd0luZGV4ICsgcm93U3BhbiAtIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEluZGV4ICsgY29sU3BhbiAtIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3dTcGFuID4gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgcmkgPSByb3dJbmRleCArIDE7IHJpIDwgcm93SW5kZXggKyByb3dTcGFuOyByaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRSb3cgPSBjdHgucm93c0J5SW5kZXhbcmldO1xuICAgICAgICAgICAgICAgIGlmICghbmV4dFJvdykge1xuICAgICAgICAgICAgICAgICAgICBuZXh0Um93ID0gY3R4LnJvd3NCeUluZGV4W3JpXSA9IHsgaW5kZXg6IHJpLCBjZWxsczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJvd0RhdGEucHVzaChuZXh0Um93KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzcGFuQ2VsbChjZWxsLCBuZXh0Um93LmNlbGxzLCBjZWxsSW5kZXggLSAxLCBjb2xTcGFuICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGluc2VydENlbGwoZGF0YSwgY2VsbCkge1xuICAgIGxldCBpbmRleDtcblxuICAgIGlmICh0eXBlb2YgY2VsbC5pbmRleCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBpbmRleCA9IGNlbGwuaW5kZXg7XG4gICAgICAgIGluc2VydENlbGxBdChkYXRhLCBjZWxsLCBjZWxsLmluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleCA9IGFwcGVuZENlbGwoZGF0YSwgY2VsbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZGV4O1xufVxuXG5mdW5jdGlvbiBpbnNlcnRDZWxsQXQoZGF0YSwgY2VsbCwgaW5kZXgpIHtcbiAgICBkYXRhW2luZGV4XSA9IGNlbGw7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZENlbGwoZGF0YSwgY2VsbCkge1xuICAgIGxldCBpbmRleCA9IGRhdGEubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aCArIDE7IGkrKykge1xuICAgICAgICBpZiAoIWRhdGFbaV0pIHtcbiAgICAgICAgICAgIGRhdGFbaV0gPSBjZWxsO1xuICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG59XG5cbmZ1bmN0aW9uIHNwYW5DZWxsKGNlbGwsIHJvdywgc3RhcnRJbmRleCwgY29sU3Bhbikge1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgY29sU3BhbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRtcCA9IHtcbiAgICAgICAgICAgIGJvcmRlclRvcCAgICA6IGNlbGwuYm9yZGVyVG9wLFxuICAgICAgICAgICAgYm9yZGVyUmlnaHQgIDogY2VsbC5ib3JkZXJSaWdodCxcbiAgICAgICAgICAgIGJvcmRlckJvdHRvbSA6IGNlbGwuYm9yZGVyQm90dG9tLFxuICAgICAgICAgICAgYm9yZGVyTGVmdCAgIDogY2VsbC5ib3JkZXJMZWZ0XG4gICAgICAgIH07XG4gICAgICAgIGluc2VydENlbGxBdChyb3csIHRtcCwgc3RhcnRJbmRleCArIGkpO1xuICAgIH1cbn1cblxuY29uc3QgU1BSRUFEU0hFRVRfRklMVEVSUyA9ICh7IHJlZiwgY29sdW1ucywgZ2VuZXJhdG9ycyB9KSA9PiBgXG48YXV0b0ZpbHRlciByZWY9XCIke3JlZn1cIj5cbiAgJHtmb3JlYWNoKGNvbHVtbnMsIChjb2wpID0+IGBcbiAgICA8ZmlsdGVyQ29sdW1uIGNvbElkPVwiJHtjb2wuaW5kZXh9XCI+XG4gICAgICAke2dlbmVyYXRvcnNbY29sLmZpbHRlcl0oY29sKX1cbiAgICA8L2ZpbHRlckNvbHVtbj5cbiAgYCl9XG48L2F1dG9GaWx0ZXI+YDtcblxuY29uc3QgU1BSRUFEU0hFRVRfQ1VTVE9NX0ZJTFRFUiA9ICh7IGxvZ2ljLCBjcml0ZXJpYSB9KSA9PiBgXG48Y3VzdG9tRmlsdGVycyAke2xvZ2ljID09PSAnYW5kJyA/ICdhbmQ9XCIxXCInIDogJyd9PlxuJHtmb3JlYWNoKGNyaXRlcmlhLCAoZikgPT4ge1xuICAgIGxldCBvcCA9IHNwcmVhZHNoZWV0RmlsdGVycy5jdXN0b21PcGVyYXRvcihmKTtcbiAgICBsZXQgdmFsID0gc3ByZWFkc2hlZXRGaWx0ZXJzLmN1c3RvbVZhbHVlKGYpO1xuICAgIHJldHVybiBgPGN1c3RvbUZpbHRlciAke29wID8gYG9wZXJhdG9yPVwiJHtvcH1cImAgOiAnJ30gdmFsPVwiJHt2YWx9XCIvPmA7XG59KX1cbjwvY3VzdG9tRmlsdGVycz5gO1xuXG5jb25zdCBTUFJFQURTSEVFVF9EWU5BTUlDX0ZJTFRFUiA9ICh7IHR5cGUgfSkgPT5cbmA8ZHluYW1pY0ZpbHRlciB0eXBlPVwiJHtzcHJlYWRzaGVldEZpbHRlcnMuZHluYW1pY0ZpbHRlclR5cGUodHlwZSl9XCIgLz5gO1xuXG5jb25zdCBTUFJFQURTSEVFVF9UT1BfRklMVEVSID0gKHsgdHlwZSwgdmFsdWUgfSkgPT5cbmA8dG9wMTAgcGVyY2VudD1cIiR7L3BlcmNlbnQkL2kudGVzdCh0eXBlKSA/IDEgOiAwfVwiXG4gICAgICAgdG9wPVwiJHsvXnRvcC9pLnRlc3QodHlwZSkgPyAxIDogMH1cIlxuICAgICAgIHZhbD1cIiR7dmFsdWV9XCIgLz5gO1xuXG5jb25zdCBTUFJFQURTSEVFVF9WQUxVRV9GSUxURVIgPSAoeyBibGFua3MsIHZhbHVlcyB9KSA9PlxuICBgPGZpbHRlcnMgJHtibGFua3MgPyAnYmxhbms9XCIxXCInIDogJyd9PlxuICAgICR7Zm9yZWFjaCh2YWx1ZXMsICh2YWx1ZSkgPT4gYFxuICAgICAgPGZpbHRlciB2YWw9XCIke3ZhbHVlfVwiIC8+YCl9XG4gIDwvZmlsdGVycz5gO1xuXG5mdW5jdGlvbiBzcHJlYWRzaGVldEZpbHRlcnMoZmlsdGVyKSB7XG4gICAgcmV0dXJuIFNQUkVBRFNIRUVUX0ZJTFRFUlMoe1xuICAgICAgICByZWY6IGZpbHRlci5yZWYsXG4gICAgICAgIGNvbHVtbnM6IGZpbHRlci5jb2x1bW5zLFxuICAgICAgICBnZW5lcmF0b3JzOiB7XG4gICAgICAgICAgICBjdXN0b20gIDogU1BSRUFEU0hFRVRfQ1VTVE9NX0ZJTFRFUixcbiAgICAgICAgICAgIGR5bmFtaWMgOiBTUFJFQURTSEVFVF9EWU5BTUlDX0ZJTFRFUixcbiAgICAgICAgICAgIHRvcCAgICAgOiBTUFJFQURTSEVFVF9UT1BfRklMVEVSLFxuICAgICAgICAgICAgdmFsdWUgICA6IFNQUkVBRFNIRUVUX1ZBTFVFX0ZJTFRFUlxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbnNwcmVhZHNoZWV0RmlsdGVycy5jdXN0b21PcGVyYXRvciA9IGZ1bmN0aW9uKGYpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBlcSAgOiBcImVxdWFsXCIsXG4gICAgICAgIGd0ICA6IFwiZ3JlYXRlclRoYW5cIixcbiAgICAgICAgZ3RlIDogXCJncmVhdGVyVGhhbk9yRXF1YWxcIixcbiAgICAgICAgbHQgIDogXCJsZXNzVGhhblwiLFxuICAgICAgICBsdGUgOiBcImxlc3NUaGFuT3JFcXVhbFwiLFxuICAgICAgICBuZSAgOiBcIm5vdEVxdWFsXCIsXG5cbiAgICAgICAgLy8gVGhlc2UgYXJlIG5vdCBpbiB0aGUgc3BlYywgYnV0IHNlZW1zIHRvIGJlIGhvdyBFeGNlbCBkb2VzXG4gICAgICAgIC8vIGl0IChzZWUgY3VzdG9tVmFsdWUgYmVsb3cpLiAgRm9yIHRoZSBub24tbmVnYXRlZCB2ZXJzaW9ucyxcbiAgICAgICAgLy8gdGhlIG9wZXJhdG9yIGF0dHJpYnV0ZSBpcyBtaXNzaW5nIGNvbXBsZXRlbHkuXG4gICAgICAgIGRvZXNub3RzdGFydHdpdGg6IFwibm90RXF1YWxcIixcbiAgICAgICAgZG9lc25vdGVuZHdpdGg6IFwibm90RXF1YWxcIixcbiAgICAgICAgZG9lc25vdGNvbnRhaW46IFwibm90RXF1YWxcIixcbiAgICAgICAgZG9lc25vdG1hdGNoOiBcIm5vdEVxdWFsXCJcbiAgICB9W2Yub3BlcmF0b3IudG9Mb3dlckNhc2UoKV07XG59O1xuXG5mdW5jdGlvbiBxdW90ZVNoZWV0KG5hbWUpIHtcbiAgICBpZiAoL15cXCcvLnRlc3QobmFtZSkpIHsgLy8gYXNzdW1lIGFscmVhZHkgcXVvdGVkLCB0aGUgU3ByZWFkc2hlZXQgZG9lcyBpdC5cbiAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIGlmICgvXlthLXpfXVthLXowLTlfXSokL2kudGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gbmFtZTsgICAgICAgIC8vIG5vIG5lZWQgdG8gcXVvdGUgaXRcbiAgICB9XG4gICAgcmV0dXJuIFwiJ1wiICsgbmFtZS5yZXBsYWNlKC9cXHgyNy9nLCBcIlxcXFwnXCIpICsgXCInXCI7XG59XG5cbnNwcmVhZHNoZWV0RmlsdGVycy5jdXN0b21WYWx1ZSA9IGZ1bmN0aW9uKGYpIHtcbiAgICBmdW5jdGlvbiBlc2Moc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvKFsqP10pL2csIFwifiQxXCIpO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZi5vcGVyYXRvci50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgIGNhc2UgXCJzdGFydHN3aXRoXCI6XG4gICAgICAgIGNhc2UgXCJkb2Vzbm90c3RhcnR3aXRoXCI6XG4gICAgICAgICAgICByZXR1cm4gZXNjKGYudmFsdWUpICsgXCIqXCI7XG5cbiAgICAgICAgY2FzZSBcImVuZHN3aXRoXCI6XG4gICAgICAgIGNhc2UgXCJkb2Vzbm90ZW5kd2l0aFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiKlwiICsgZXNjKGYudmFsdWUpO1xuXG4gICAgICAgIGNhc2UgXCJjb250YWluc1wiOlxuICAgICAgICBjYXNlIFwiZG9lc25vdGNvbnRhaW5cIjpcbiAgICAgICAgICAgIHJldHVybiBcIipcIiArIGVzYyhmLnZhbHVlKSArIFwiKlwiO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZi52YWx1ZTtcbiAgICB9XG59O1xuXG5zcHJlYWRzaGVldEZpbHRlcnMuZHluYW1pY0ZpbHRlclR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcXVhcnRlcjEgIDogXCJRMVwiLFxuICAgICAgICBxdWFydGVyMiAgOiBcIlEyXCIsXG4gICAgICAgIHF1YXJ0ZXIzICA6IFwiUTNcIixcbiAgICAgICAgcXVhcnRlcjQgIDogXCJRNFwiLFxuICAgICAgICBqYW51YXJ5ICAgOiBcIk0xXCIsXG4gICAgICAgIGZlYnJ1YXJ5ICA6IFwiTTJcIixcbiAgICAgICAgbWFyY2ggICAgIDogXCJNM1wiLFxuICAgICAgICBhcHJpbCAgICAgOiBcIk00XCIsXG4gICAgICAgIG1heSAgICAgICA6IFwiTTVcIixcbiAgICAgICAganVuZSAgICAgIDogXCJNNlwiLFxuICAgICAgICBqdWx5ICAgICAgOiBcIk03XCIsXG4gICAgICAgIGF1Z3VzdCAgICA6IFwiTThcIixcbiAgICAgICAgc2VwdGVtYmVyIDogXCJNOVwiLFxuICAgICAgICBvY3RvYmVyICAgOiBcIk0xMFwiLFxuICAgICAgICBub3ZlbWJlciAgOiBcIk0xMVwiLFxuICAgICAgICBkZWNlbWJlciAgOiBcIk0xMlwiXG4gICAgfVt0eXBlLnRvTG93ZXJDYXNlKCldIHx8IHR5cGU7XG59O1xuXG5leHBvcnQge1xuICAgIFdvcmtib29rLFxuICAgIFdvcmtzaGVldFxufTtcbiJdLCJuYW1lcyI6WyJsZXQiLCJjdXJyZW50IiwiY29uc3QiLCJ0aGlzIiwibmFtZSJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBQSxJQUFJQyxTQUFPLEdBQUc7QUFDZCxJQUFJLE9BQU8sRUFBRSxTQUFTLFFBQVEsRUFBRTtBQUNoQyxRQUFRLE9BQU8sUUFBUTtBQUN2QjtBQUNBLENBQUM7O0FBRUQsSUFBTSxlQUFlLEdBQUEsU0FBQSxlQUFBLElBQUE7O0FBQ2pCLGVBQU8sQ0FBQSxRQUFBLEdBQUEsU0FBQSxRQUFBLEVBQVMsa0JBQWtCLEVBQUU7QUFDeEMsSUFBUUEsU0FBTyxHQUFHLGtCQUFrQjtBQUNoQyxDQUFDOztBQUVELGVBQU8sQ0FBQSxPQUFBLEdBQUEsU0FBQSxPQUFBLEVBQVEsUUFBUSxFQUFFO0FBQzdCLElBQVEsT0FBT0EsU0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDcEMsQ0FDSDs7QUNkREMsSUFBTSxXQUFXLEdBQUcscURBQXFEO0FBQ3pFQSxJQUFNLFdBQVcsR0FBRyxFQUFFO0FBQ3RCQSxJQUFNLFNBQVMsR0FBRyxX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{"version":3,"file":"main.js","sources":["src/services/template-service.js","src/utils/getter.js","src/utils/map.js","src/excel-exporter.js","src/services/intl-service.js","src/utils/create-zip.js","src/utils/time.js","src/ooxml.js"],"sourcesContent":["let current = {\n    compile: function(template) {\n        return template;\n    }\n};\n\nclass TemplateService {\n    static register(userImplementation) {\n        current = userImplementation;\n    }\n\n    static compile(template) {\n        return current.compile(template);\n    }\n}\n\nexport default TemplateService;","const FIELD_REGEX = /\\[(?:(\\d+)|['\"](.*?)['\"])\\]|((?:(?!\\[.*?\\]|\\.).)+)/g;\nconst getterCache = {};\nconst UNDEFINED = 'undefined';\n\ngetterCache[UNDEFINED] = function(obj) {\n    return obj;\n};\n\nexport default function getter(field) {\n    if (getterCache[field]) {\n        return getterCache[field];\n    }\n\n    const fields = [];\n    field.replace(FIELD_REGEX, function(match, index, indexAccessor, field) {\n        fields.push(typeof index !== UNDEFINED ? index : (indexAccessor || field));\n    });\n\n    getterCache[field] = function(obj) {\n        let result = obj;\n        for (let idx = 0; idx < fields.length && result; idx++) {\n            result = result[fields[idx]];\n        }\n\n        return result;\n    };\n\n    return getterCache[field];\n}","export default function map(array, func) {\n    return array.reduce((result, el, i) => {\n        const val = func(el, i);\n        if (val != null) {\n            result.push(val);\n        }\n        return result;\n    }, []);\n}","import TemplateService from './services/template-service';\nimport getter from './utils/getter';\nimport map from './utils/map';\n\nfunction defaultGroupHeaderTemplate(data) {\n    return `${ data.title }: ${ data.value }`;\n}\n\nfunction createArray(length, callback) {\n    const result = [];\n\n    for (let idx = 0; idx < length; idx++) {\n        result.push(callback(idx));\n    }\n\n    return result;\n}\n\nfunction defaultItemId(item) {\n    return item.id;\n}\n\nclass ExcelExporter {\n    constructor(options) {\n        options.columns = this._trimColumns(options.columns || []);\n\n        this.allColumns = map(this._leafColumns(options.columns || []), this._prepareColumn);\n\n        this.columns = this._visibleColumns(this.allColumns);\n\n        this.options = options;\n        this.data = options.data || [];\n        this.aggregates = options.aggregates || {};\n        this.groups = [].concat(options.groups || []);\n        this.hasGroups = this.groups.length > 0;\n        this.hierarchy = options.hierarchy;\n        this.hasGroupHeaderColumn = this.columns.some(column => column.groupHeaderColumnTemplate);\n        this.collapsible = this.options.collapsible;\n    }\n\n    workbook() {\n        const workbook = {\n            sheets: [ {\n                columns: this._columns(),\n                rows: this.hierarchy ? this._hierarchyRows() : this._rows(),\n                freezePane: this._freezePane(),\n                filter: this._filter()\n            } ]\n        };\n\n        return workbook;\n    }\n\n    _trimColumns(columns) {\n        return columns.filter((column) => {\n            let result = Boolean(column.field);\n\n            if (!result && column.columns) {\n                result = this._trimColumns(column.columns).length > 0;\n            }\n\n            return result;\n        });\n    }\n\n    _leafColumns(columns) {\n        let result = [];\n\n        for (let idx = 0; idx < columns.length; idx++) {\n            if (!columns[idx].columns) {\n                result.push(columns[idx]);\n            } else {\n                result = result.concat(this._leafColumns(columns[idx].columns));\n            }\n        }\n\n        return result;\n    }\n\n    _prepareColumn(column) {\n        if (!column.field) {\n            return null;\n        }\n\n        let value = function(dataItem) {\n            return getter(column.field, true)(dataItem);\n        };\n\n        let values = null;\n\n        if (column.values) {\n            values = {};\n\n            column.values.forEach(function(item) {\n                values[item.value] = item.text;\n            });\n\n            value = function(dataItem) {\n                return values[getter(column.field, true)(dataItem)];\n            };\n        }\n\n        return Object.assign({}, column, {\n            value: value,\n            values: values,\n            groupHeaderTemplate: column.groupHeaderTemplate ? TemplateService.compile(column.groupHeaderTemplate) : defaultGroupHeaderTemplate,\n            groupHeaderColumnTemplate: column.groupHeaderColumnTemplate ? TemplateService.compile(column.groupHeaderColumnTemplate) : null,\n            groupFooterTemplate: column.groupFooterTemplate ? TemplateService.compile(column.groupFooterTemplate) : null,\n            footerTemplate: column.footerTemplate ? TemplateService.compile(column.footerTemplate) : null\n        });\n    }\n\n    _filter() {\n        if (!this.options.filterable) {\n            return null;\n        }\n\n        const depth = this._depth();\n\n        return {\n            from: depth,\n            to: depth + this.columns.length - 1\n        };\n    }\n\n    _createPaddingCells(length) {\n        return createArray(length, () => Object.assign({\n            background: \"#dfdfdf\",\n            color: \"#333\"\n        }, this.options.paddingCellOptions));\n    }\n\n    _dataRow(dataItem, level, depth) {\n        let cells = this._createPaddingCells(level);\n\n        // grouped\n        if (this.hasGroups && depth && dataItem.items) {\n            cells = cells.concat(this._groupHeaderCells(dataItem, level, depth));\n            const rows = this._dataRows(dataItem.items, level + 1);\n\n            rows.unshift({\n                type: \"group-header\",\n                cells: cells,\n                level: this.collapsible ? level : null\n            });\n\n            return rows.concat(this._footer(dataItem, level));\n        }\n\n        const dataCells = [];\n\n        for (let cellIdx = 0; cellIdx < this.columns.length; cellIdx++) {\n            dataCells[cellIdx] = this._cell(dataItem, this.columns[cellIdx]);\n        }\n\n        if (this.hierarchy) {\n            dataCells[0].colSpan = depth - level + 1;\n        }\n\n        return [ {\n            type: \"data\",\n            cells: cells.concat(dataCells),\n            level: this.collapsible ? level : null\n        } ];\n    }\n\n    _groupHeaderCells(dataItem, level, depth) {\n        const cells = [];\n\n        const column = this.allColumns.filter(function(column) {\n            return column.field === dataItem.field;\n        })[0] || {};\n\n        const title = column && column.title ? column.title : dataItem.field;\n        const template = column ? column.groupHeaderTemplate || column.groupHeaderColumnTemplate : null;\n        const group = Object.assign({\n            title: title,\n            field: dataItem.field,\n            value: column && column.values ? column.values[dataItem.value] : dataItem.value,\n            aggregates: dataItem.aggregates,\n            items: dataItem.items\n        }, dataItem.aggregates[dataItem.field]);\n\n        const value = template ? template(group) : `${ title }: ${ dataItem.value }`;\n\n        cells.push(Object.assign({\n            value: value,\n            background: \"#dfdfdf\",\n            color: \"#333\",\n            colSpan: (this.hasGroupHeaderColumn ? 1 : this.columns.length) + depth - level\n        }, column.groupHeaderCellOptions));\n\n        if (this.hasGroupHeaderColumn) {\n            this.columns.forEach(function(column, index) {\n                if (index > 0) {\n                    cells.push(Object.assign({\n                        background: \"#dfdfdf\",\n                        color: \"#333\",\n                        value: column.groupHeaderColumnTemplate ?\n                            column.groupHeaderColumnTemplate(Object.assign({ group: group }, group, dataItem.aggregates[column.field])) :\n                            undefined\n                    }, column.groupHeaderCellOptions));\n                }\n            });\n        }\n\n        return cells;\n    }\n\n    _dataRows(dataItems, level) {\n        const depth = this._depth();\n        const rows = [];\n\n        for (let idx = 0; idx < dataItems.length; idx++) {\n            rows.push.apply(rows, this._dataRow(dataItems[idx], level, depth));\n        }\n\n        return rows;\n    }\n\n    _hierarchyRows() {\n        const depth = this._depth();\n        const data = this.data;\n        const itemLevel = this.hierarchy.itemLevel;\n        const itemId = this.hierarchy.itemId || defaultItemId;\n        const hasFooter = this._hasFooterTemplate();\n        const rows = [];\n        const parents = [];\n        let previousLevel = 0;\n        let previousItemId;\n\n        if (!hasFooter) {\n            this.collapsible = false;\n        }\n\n        for (let idx = 0; idx < data.length; idx++) {\n            const item = data[idx];\n            const level = itemLevel(item, idx);\n\n            if (hasFooter) {\n                if (level > previousLevel) {\n                    parents.push({ id: previousItemId, level: previousLevel });\n                } else if (level < previousLevel) {\n                    rows.push.apply(rows, this._hierarchyFooterRows(parents, level, depth));\n                }\n\n                previousLevel = level;\n                previousItemId = itemId(item, idx);\n            }\n\n            rows.push.apply(rows, this._dataRow(item, level + 1, depth));\n        }\n\n        if (hasFooter) {\n            rows.push.apply(rows, this._hierarchyFooterRows(parents, 0, depth));\n\n            const rootAggregate = data.length ? this.aggregates[data[0].parentId] : {};\n            rows.push(this._hierarchyFooter(rootAggregate, 0, depth));\n        }\n\n        this._prependHeaderRows(rows);\n\n        return rows;\n    }\n\n    _hierarchyFooterRows(parents, currentLevel, depth) {\n        const rows = [];\n        while (parents.length && parents[parents.length - 1].level >= currentLevel) {\n            const parent = parents.pop();\n            rows.push(this._hierarchyFooter(this.aggregates[parent.id], parent.level + 1, depth));\n        }\n\n        return rows;\n    }\n\n    _hasFooterTemplate() {\n        const columns = this.columns;\n        for (let idx = 0; idx < columns.length; idx++) {\n            if (columns[idx].footerTemplate) {\n                return true;\n            }\n        }\n    }\n\n    _hierarchyFooter(aggregates, level, depth) {\n        const cells = this.columns.map(function(column, index) {\n            const colSpan = index ? 1 : depth - level + 1;\n            if (column.footerTemplate) {\n                const fieldAggregates = (aggregates || {})[column.field];\n                return Object.assign({\n                    background: \"#dfdfdf\",\n                    color: \"#333\",\n                    colSpan: colSpan,\n                    value: column.footerTemplate(Object.assign({ aggregates: aggregates }, fieldAggregates))\n                }, column.footerCellOptions);\n            }\n\n            return Object.assign({\n                background: \"#dfdfdf\",\n                color: \"#333\",\n                colSpan: colSpan\n            }, column.footerCellOptions);\n        });\n\n        return {\n            type: \"footer\",\n            cells: this._createPaddingCells(level).concat(cells),\n            level: this.collapsible ? level : null\n        };\n    }\n\n    _footer(dataItem, level) {\n        const rows = [];\n        const footer = this.columns.some(column => column.groupFooterTemplate);\n\n        let templateData, group;\n        if (footer) {\n            group = {\n                group: { items: dataItem.items,\n                    field: dataItem.field,\n                    value: dataItem.value }\n            };\n            templateData = {};\n            Object.keys(dataItem.aggregates).forEach(key => {\n                templateData[key] = Object.assign({}, dataItem.aggregates[key], group);\n            });\n        }\n\n        const cells = this.columns.map((column) => {\n            if (column.groupFooterTemplate) {\n                let data = Object.assign({}, templateData, dataItem.aggregates[column.field], group);\n                return Object.assign({\n                    background: \"#dfdfdf\",\n                    color: \"#333\",\n                    value: column.groupFooterTemplate(data)\n                }, column.groupFooterCellOptions);\n            }\n\n            return Object.assign({\n                background: \"#dfdfdf\",\n                color: \"#333\"\n            }, column.groupFooterCellOptions);\n        });\n\n        if (footer) {\n            rows.push({\n                type: \"group-footer\",\n                cells: this._createPaddingCells(this.groups.length).concat(cells),\n                level: this.collapsible ? level : null\n            });\n        }\n\n        return rows;\n    }\n\n    _isColumnVisible(column) {\n        return this._visibleColumns([ column ]).length > 0 && (column.field || column.columns);\n    }\n\n    _visibleColumns(columns) {\n        return columns.filter((column) => {\n            let exportable = column.exportable;\n            if (typeof exportable === 'object') {\n                exportable = column.exportable.excel;\n            }\n\n            const visibleInExport = !column.hidden && exportable !== false;\n            const visibleInExportOnly = column.hidden && exportable === true;\n            let visible = visibleInExport || visibleInExportOnly;\n            if (visible && column.columns) {\n                visible = this._visibleColumns(column.columns).length > 0;\n            }\n            return visible;\n        });\n    }\n\n    _headerRow(row, groups) {\n        const headers = row.cells.map(function(cell) {\n            return Object.assign(cell, {\n                colSpan: cell.colSpan > 1 ? cell.colSpan : 1,\n                rowSpan: row.rowSpan > 1 && !cell.colSpan ? row.rowSpan : 1\n            });\n        });\n\n        if (this.hierarchy && headers[0].firstCell) {\n            headers[0].colSpan += this._depth();\n        }\n\n        return {\n            type: \"header\",\n            cells: createArray(groups.length, () => Object.assign({\n                background: \"#7a7a7a\",\n                color: \"#fff\"\n            }, this.options.headerPaddingCellOptions)).concat(headers)\n        };\n    }\n\n    _prependHeaderRows(rows) {\n        const groups = this.groups;\n\n        const headerRows = [ { rowSpan: 1, cells: [], index: 0 } ];\n\n        this._prepareHeaderRows(headerRows, this.options.columns);\n\n        for (let idx = headerRows.length - 1; idx >= 0; idx--) {\n            rows.unshift(this._headerRow(headerRows[idx], groups));\n        }\n    }\n\n    _prepareHeaderRows(rows, columns, parentCell, parentRow) {\n        const row = parentRow || rows[rows.length - 1];\n        let childRow = rows[row.index + 1];\n        let totalColSpan = 0;\n\n        for (let idx = 0; idx < columns.length; idx++) {\n            const column = columns[idx];\n            if (this._isColumnVisible(column)) {\n\n                const cell = Object.assign({\n                    background: \"#7a7a7a\",\n                    color: \"#fff\",\n                    value: column.title || column.field,\n                    colSpan: 0,\n                    firstCell: idx === 0 && (!parentCell || parentCell.firstCell)\n                }, column.headerCellOptions);\n                row.cells.push(cell);\n\n                if (column.columns && column.columns.length) {\n                    if (!childRow) {\n                        childRow = { rowSpan: 0, cells: [], index: rows.length };\n                        rows.push(childRow);\n                    }\n                    cell.colSpan = this._trimColumns(this._visibleColumns(column.columns)).length;\n                    this._prepareHeaderRows(rows, column.columns, cell, childRow);\n                    totalColSpan += cell.colSpan - 1;\n                    row.rowSpan = rows.length - row.index;\n                }\n            }\n        }\n\n        if (parentCell) {\n            parentCell.colSpan += totalColSpan;\n        }\n    }\n\n    _rows() {\n        const rows = this._dataRows(this.data, 0);\n\n        if (this.columns.length) {\n            this._prependHeaderRows(rows);\n            let footer = false;\n\n            const cells = this.columns.map((column) => {\n                if (column.footerTemplate) {\n                    footer = true;\n\n                    return Object.assign({\n                        background: \"#dfdfdf\",\n                        color: \"#333\",\n                        value: column.footerTemplate(Object.assign({}, this.aggregates, this.aggregates[column.field]))\n                    }, column.footerCellOptions);\n                }\n\n                return Object.assign({\n                    background: \"#dfdfdf\",\n                    color: \"#333\"\n                }, column.footerCellOptions);\n            });\n\n            if (footer) {\n                rows.push({\n                    type: \"footer\",\n                    cells: this._createPaddingCells(this.groups.length).concat(cells)\n                });\n            }\n        }\n\n        return rows;\n    }\n\n    _headerDepth(columns) {\n        const result = 1;\n        let max = 0;\n\n        for (let idx = 0; idx < columns.length; idx++) {\n            if (columns[idx].columns) {\n                const temp = this._headerDepth(columns[idx].columns);\n                if (temp > max) {\n                    max = temp;\n                }\n            }\n        }\n        return result + max;\n    }\n\n    _freezePane() {\n        const columns = this._visibleColumns(this.options.columns || []);\n\n        const colSplit = this._visibleColumns(this._trimColumns(this._leafColumns(columns.filter(function(column) {\n            return column.locked;\n        })))).length;\n\n        return {\n            rowSplit: this._headerDepth(columns),\n            colSplit: colSplit ? colSplit + this.groups.length : 0\n        };\n    }\n\n    _cell(dataItem, column) {\n        return Object.assign({\n            value: column.value(dataItem)\n        }, column.cellOptions);\n    }\n\n    _depth() {\n        let depth = 0;\n\n        if (this.hierarchy) {\n            depth = this.hierarchy.depth;\n        } else {\n            depth = this.groups.length;\n        }\n\n        return depth;\n    }\n\n    _columns() {\n        const depth = this._depth();\n        const columns = createArray(depth, () => ({ width: 20 }));\n\n        return columns.concat(this.columns.map(function(column) {\n            return {\n                width: parseInt(column.width, 10),\n                autoWidth: column.width ? false : true\n            };\n        }));\n    }\n}\n\nexport default ExcelExporter;\n","let current = {\n    toString: (value) => value\n};\n\nclass IntlService {\n    static register(userImplementation) {\n        current = userImplementation;\n    }\n\n    static toString(value, format) {\n        return current.toString(value, format);\n    }\n}\n\nexport default IntlService;","import JSZip from '@progress/jszip-esm';\n\nexport default function createZip() {\n    return new JSZip();\n}\n","// date packing utilities from Kendo Spreadsheet\n\n// Julian days algorithms from http://www.hermetic.ch/cal_stud/jdn.htm#comp\nfunction dateToJulianDays(y, m, d) {\n    return ((1461 * (y + 4800 + ((m - 13) / 12 | 0))) / 4 | 0) +\n        ((367 * (m - 1 - 12 * ((m - 13) / 12 | 0))) / 12 | 0) -\n        ((3 * (((y + 4900 + ((m - 13) / 12 | 0)) / 100 | 0))) / 4 | 0) +\n        d - 32075;\n}\n\n// This uses the Google Spreadsheet approach: treat 1899-12-31 as day 1, allowing to avoid\n// implementing the \"Leap Year Bug\" yet still be Excel compatible for dates starting 1900-03-01.\nconst BASE_DATE = dateToJulianDays(1900, 0, -1);\n\nfunction packDate(year, month, date) {\n    return dateToJulianDays(year, month, date) - BASE_DATE;\n}\n\nfunction packTime(hh, mm, ss, ms) {\n    return (hh + (mm + (ss + ms / 1000) / 60) / 60) / 24;\n}\n\nexport default function dateToSerial(date) {\n    const time = packTime(date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds());\n    const serial = packDate(date.getFullYear(),\n        date.getMonth(),\n        date.getDate());\n    return serial < 0 ? serial - 1 + time : serial + time;\n}\n","import map from './utils/map';\nimport createZip from './utils/create-zip';\nimport IntlService from './services/intl-service';\nimport dateToSerial from './utils/time';\n\nconst MIME_TYPE = \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\";\nconst DATA_URL_PREFIX = `data:${MIME_TYPE};base64,`;\nconst DATA_URL_OPTIONS = { compression: \"DEFLATE\", type: \"base64\" };\nconst BLOB_OPTIONS = { compression: \"DEFLATE\", type: \"blob\" };\nconst ARRAYBUFFER_OPTIONS = { compression: \"DEFLATE\", type: \"arraybuffer\" };\n\n/* eslint-disable indent */\n\nfunction toDataURI(content) {\n    return DATA_URL_PREFIX + content;\n}\n\nfunction indexOf(thing, array) {\n    return array.indexOf(thing);\n}\n\nconst parseJSON = JSON.parse.bind(JSON);\n\nfunction ESC(val) {\n    return String(val)\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\\\"/g, \"&quot;\")\n        .replace(/\\'/g, \"&#39;\");\n}\n\nfunction repeat(count, func) {\n    let str = \"\";\n    for (let i = 0; i < count; ++i) {\n        str += func(i);\n    }\n    return str;\n}\n\nfunction foreach(arr, func) {\n    let str = \"\";\n    if (arr != null) {\n        if (Array.isArray(arr)) {\n            for (let i = 0; i < arr.length; ++i) {\n                str += func(arr[i], i);\n            }\n        } else if (typeof arr == \"object\") {\n            Object.keys(arr).forEach((key, i) => {\n                str += func(arr[key], key, i);\n            });\n        }\n    }\n    return str;\n}\n\nconst XMLHEAD = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\\r';\n\nconst RELS = `${XMLHEAD}\n            <Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n               <Relationship Id=\"rId3\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\" Target=\"docProps/app.xml\"/>\n               <Relationship Id=\"rId2\" Type=\"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\" Target=\"docProps/core.xml\"/>\n               <Relationship Id=\"rId1\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\" Target=\"xl/workbook.xml\"/>\n            </Relationships>`;\n\nconst CORE = ({ creator, lastModifiedBy, created, modified }) => `${XMLHEAD}\n <cp:coreProperties xmlns:cp=\"http://schemas.openxmlformats.org/package/2006/metadata/core-properties\"\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:dcterms=\"http://purl.org/dc/terms/\"\n   xmlns:dcmitype=\"http://purl.org/dc/dcmitype/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n   <dc:creator>${ESC(creator)}</dc:creator>\n   <cp:lastModifiedBy>${ESC(lastModifiedBy)}</cp:lastModifiedBy>\n   <dcterms:created xsi:type=\"dcterms:W3CDTF\">${ESC(created)}</dcterms:created>\n   <dcterms:modified xsi:type=\"dcterms:W3CDTF\">${ESC(modified)}</dcterms:modified>\n</cp:coreProperties>`;\n\nconst APP = ({ sheets }) => `${XMLHEAD}\n<Properties xmlns=\"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties\" xmlns:vt=\"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes\">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size=\"2\" baseType=\"variant\">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>${sheets.length}</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size=\"${sheets.length}\" baseType=\"lpstr\">${\n      foreach(sheets, (sheet, i) =>\n        sheet.options.title\n          ? `<vt:lpstr>${ESC(sheet.options.title)}</vt:lpstr>`\n          : `<vt:lpstr>Sheet${i + 1}</vt:lpstr>`\n      )\n    }</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>`;\n\nconst CONTENT_TYPES = ({ sheetCount, commentFiles, drawingFiles }) => `${XMLHEAD}\n<Types xmlns=\"http://schemas.openxmlformats.org/package/2006/content-types\">\n  <Default Extension=\"png\" ContentType=\"image/png\"/>\n  <Default Extension=\"gif\" ContentType=\"image/gif\"/>\n  <Default Extension=\"jpg\" ContentType=\"image/jpeg\"/>\n  <Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" />\n  <Default Extension=\"xml\" ContentType=\"application/xml\" />\n  <Default Extension=\"vml\" ContentType=\"application/vnd.openxmlformats-officedocument.vmlDrawing\"/>\n  <Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" />\n  <Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\"/>\n  <Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\"/>\n  ${repeat(sheetCount, idx =>\n    `<Override PartName=\"/xl/worksheets/sheet${idx + 1}.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" />`)}\n  ${foreach(commentFiles, filename =>\n    `<Override PartName=\"/xl/${filename}\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml\"/>`)}\n  ${foreach(drawingFiles, filename =>\n    `<Override PartName=\"/xl/drawings/${filename}\" ContentType=\"application/vnd.openxmlformats-officedocument.drawing+xml\"/>`)}\n  <Override PartName=\"/docProps/core.xml\" ContentType=\"application/vnd.openxmlformats-package.core-properties+xml\" />\n  <Override PartName=\"/docProps/app.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.extended-properties+xml\" />\n</Types>`;\n\nconst WORKBOOK = ({ sheets, filterNames, userNames }) => `${XMLHEAD}\n<workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">\n  <fileVersion appName=\"xl\" lastEdited=\"5\" lowestEdited=\"5\" rupBuild=\"9303\" />\n  <workbookPr defaultThemeVersion=\"124226\" />\n  <bookViews>\n    <workbookView xWindow=\"240\" yWindow=\"45\" windowWidth=\"18195\" windowHeight=\"7995\" />\n  </bookViews>\n  <sheets>\n  ${foreach(sheets, ({ options }, i) => {\n    const name = options.name || options.title || `Sheet${i + 1}`;\n    const state = options.state || 'visible';\n    return `<sheet name=\"${ESC(name)}\" state=\"${state}\" sheetId=\"${i + 1}\" r:id=\"rId${i + 1}\" />`;\n  })}\n  </sheets>\n  ${filterNames.length || userNames.length ? `\n    <definedNames>\n      ${foreach(filterNames, (f) => `\n         <definedName name=\"_xlnm._FilterDatabase\" hidden=\"1\" localSheetId=\"${f.localSheetId}\">${ESC(quoteSheet(f.name))}!${ESC(f.from)}:${ESC(f.to)}</definedName>`)}\n      ${foreach(userNames, (f) => `\n         <definedName name=\"${f.name}\" hidden=\"${f.hidden ? 1 : 0}\" ${f.localSheetId != null ? `localSheetId=\"${f.localSheetId}\"` : ''}>${ESC(f.value)}</definedName>`)}\n    </definedNames>` : ''}\n  <calcPr fullCalcOnLoad=\"1\" calcId=\"145621\" />\n</workbook>`;\n\nconst WORKSHEET = ({\n    frozenColumns,\n    frozenRows,\n    columns,\n    defaults,\n    data,\n    index,\n    mergeCells,\n    autoFilter,\n    filter,\n    showGridLines,\n    hyperlinks,\n    validations,\n    defaultCellStyleId,\n    rtl,\n    legacyDrawing,\n    drawing,\n    lastRow,\n    lastCol,\n    hasDisabledCells,\n}) => `${XMLHEAD}\n<worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\" mc:Ignorable=\"x14ac\">\n   ${lastRow && lastCol ? `<dimension ref=\"A1:${ref(lastRow - 1, lastCol - 1)}\" />` : \"\"}\n\n   <sheetViews>\n     <sheetView ${ rtl ? 'rightToLeft=\"1\"' : '' } ${index === 0 ? 'tabSelected=\"1\"' : ''} workbookViewId=\"0\" ${showGridLines === false ? 'showGridLines=\"0\"' : ''}>\n     ${frozenRows || frozenColumns ? `\n       <pane state=\"frozen\"\n         ${frozenColumns ? `xSplit=\"${frozenColumns}\"` : ''}\n         ${frozenRows ? `ySplit=\"${frozenRows}\"` : ''}\n         topLeftCell=\"${String.fromCharCode(65 + (frozenColumns || 0)) + ((frozenRows || 0) + 1)}\"\n       />` : ''}\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent=\"0.25\" ${!defaults.skipCustomHeight ? 'customHeight=\"1\"' : ''} defaultRowHeight=\"${defaults.rowHeight ? defaults.rowHeight * 0.75 : 15}\"\n     ${defaults.columnWidth ? `defaultColWidth=\"${toWidth(defaults.columnWidth)}\"` : ''} />\n\n   ${defaultCellStyleId != null || (columns && columns.length > 0) ? `\n     <cols>\n       ${!columns || !columns.length ? `\n         <col min=\"1\" max=\"16384\" style=\"${defaultCellStyleId}\"\n              ${defaults.columnWidth ? `width=\"${toWidth(defaults.columnWidth)}\"` : ''} /> ` : ''}\n       ${foreach(columns, (column, ci) => {\n         const columnIndex = typeof column.index === \"number\" ? column.index + 1 : (ci + 1);\n         if (column.width === 0) {\n           return `<col ${defaultCellStyleId != null ? `style=\"${defaultCellStyleId}\"` : ''}\n                        min=\"${columnIndex}\" max=\"${columnIndex}\" hidden=\"1\" customWidth=\"1\" />`;\n         }\n         return `<col ${defaultCellStyleId != null ? `style=\"${defaultCellStyleId}\"` : ''}\n                      min=\"${columnIndex}\" max=\"${columnIndex}\" customWidth=\"1\"\n                      ${column.autoWidth\n                          ? `width=\"${((column.width * 7 + 5) / 7 * 256) / 256}\" bestFit=\"1\"`\n                          : `width=\"${toWidth(column.width)}\"`} />`;\n       })}\n     </cols>` : ''}\n\n   <sheetData>\n     ${foreach(data, (row, ri) => {\n       const rowIndex = typeof row.index === \"number\" ? row.index + 1 : (ri + 1);\n       return `\n         <row r=\"${rowIndex}\" x14ac:dyDescent=\"0.25\"\n              ${row.level ? `outlineLevel=\"${row.level}\"` : ''}\n              ${row.height === 0 ? 'hidden=\"1\"'\n                                 : row.height ? `ht=\"${toHeight(row.height)}\" customHeight=\"1\"` : \"\"}>\n           ${foreach(row.data, (cell) => `\n             <c r=\"${cell.ref}\" ${cell.style ? `s=\"${cell.style}\"` : ''} ${cell.type ? `t=\"${cell.type}\"` : ''}>\n               ${cell.formula != null ? writeFormula(cell.formula) : ''}\n               ${cell.value != null ? `<v>${ESC(cell.value)}</v>` : ''}\n             </c>`)}\n         </row>\n       `;\n})}\n   </sheetData>\n\n   ${hasDisabledCells ? `<sheetProtection sheet=\"1\" objects=\"1\" scenarios=\"1\"/>` : ''}\n\n   ${autoFilter ? `<autoFilter ref=\"${autoFilter.from}:${autoFilter.to}\"/>`\n                : filter ? spreadsheetFilters(filter) : ''}\n\n   ${mergeCells.length ? `\n     <mergeCells count=\"${mergeCells.length}\">\n       ${foreach(mergeCells, (ref) => `<mergeCell ref=\"${ref}\"/>`)}\n     </mergeCells>` : ''}\n\n   ${validations.length ? `\n     <dataValidations>\n       ${foreach(validations, (val) => `\n         <dataValidation sqref=\"${val.sqref.join(\" \")}\"\n                         showErrorMessage=\"${val.showErrorMessage}\"\n                         type=\"${ESC(val.type)}\"\n                         ${ val.type !== \"list\" ? `operator=\"${ESC(val.operator)}\"` : ''}\n                         allowBlank=\"${val.allowBlank}\"\n                         showDropDown=\"${val.showDropDown}\"\n                         ${val.error ? `error=\"${ESC(val.error)}\"` : ''}\n                         ${val.errorTitle ? `errorTitle=\"${ESC(val.errorTitle)}\"` : ''}>\n           ${val.formula1 ? `<formula1>${ESC(val.formula1)}</formula1>` : ''}\n           ${val.formula2 ? `<formula2>${ESC(val.formula2)}</formula2>` : ''}\n         </dataValidation>`)}\n     </dataValidations>` : ''}\n\n   ${hyperlinks.length ? `\n     <hyperlinks>\n       ${foreach(hyperlinks, (link) => `\n         <hyperlink ref=\"${link.ref}\" r:id=\"${link.rId}\"/>`)}\n     </hyperlinks>` : ''}\n\n   <pageMargins left=\"0.7\" right=\"0.7\" top=\"0.75\" bottom=\"0.75\" header=\"0.3\" footer=\"0.3\" />\n   ${drawing ? `<drawing r:id=\"${drawing}\"/>` : ''}\n   ${legacyDrawing ? `<legacyDrawing r:id=\"${legacyDrawing}\"/>` : ''}\n</worksheet>`;\n\nconst WORKBOOK_RELS = ({ count }) => `${XMLHEAD}\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  ${repeat(count, (idx) => `\n    <Relationship Id=\"rId${idx + 1}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet\" Target=\"worksheets/sheet${idx + 1}.xml\" />`)}\n  <Relationship Id=\"rId${count + 1}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\" Target=\"styles.xml\" />\n  <Relationship Id=\"rId${count + 2}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings\" Target=\"sharedStrings.xml\" />\n</Relationships>`;\n\nconst WORKSHEET_RELS = ({ hyperlinks, comments, sheetIndex, drawings }) => `${XMLHEAD}\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  ${foreach(hyperlinks, (link) => `\n    <Relationship Id=\"${link.rId}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\" Target=\"${ESC(link.target)}\" TargetMode=\"External\" />`)}\n  ${!comments.length ? '' : `\n    <Relationship Id=\"comment${sheetIndex}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments\" Target=\"../comments${sheetIndex}.xml\"/>\n    <Relationship Id=\"vml${sheetIndex}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing\" Target=\"../drawings/vmlDrawing${sheetIndex}.vml\"/>`}\n  ${!drawings.length ? '' : `\n    <Relationship Id=\"drw${sheetIndex}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing\" Target=\"../drawings/drawing${sheetIndex}.xml\"/>`}\n</Relationships>`;\n\nconst COMMENTS_XML = ({ comments }) => `${XMLHEAD}\n<comments xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    ${foreach(comments, comment => `\n      <comment ref=\"${comment.ref}\" authorId=\"0\">\n        <text>\n          <r>\n            <rPr>\n              <sz val=\"8\"/>\n              <color indexed=\"81\"/>\n              <rFont val=\"Tahoma\"/>\n              <charset val=\"1\"/>\n            </rPr>\n            <t>${ESC(comment.text)}</t>\n          </r>\n        </text>\n      </comment>`)}\n  </commentList>\n</comments>`;\n\nconst LEGACY_DRAWING = ({ comments }) => `\\\n<xml xmlns:v=\"urn:schemas-microsoft-com:vml\"\n     xmlns:o=\"urn:schemas-microsoft-com:office:office\"\n     xmlns:x=\"urn:schemas-microsoft-com:office:excel\">\n  <v:shapetype coordsize=\"21600,21600\" id=\"_x0000_t202\" path=\"m,l,21600r21600,l21600,xe\">\n    <v:stroke joinstyle=\"miter\"/>\n    <v:path gradientshapeok=\"t\" o:connecttype=\"rect\"/>\n  </v:shapetype>\n  ${foreach(comments, comment => `\n    <v:shape type=\"#_x0000_t202\" style=\"visibility: hidden\" fillcolor=\"#ffffe1\" o:insetmode=\"auto\">\n      <v:shadow on=\"t\" color=\"black\" obscured=\"t\"/>\n      <x:ClientData ObjectType=\"Note\">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>${comment.anchor}</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>${comment.row}</x:Row>\n        <x:Column>${comment.col}</x:Column>\n      </x:ClientData>\n    </v:shape>`)}\n</xml>`;\n\nconst DRAWINGS_XML = (drawings) => `${XMLHEAD}\n<xdr:wsDr xmlns:xdr=\"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing\"\n          xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\"\n          xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\">\n  ${foreach(drawings, (drawing, index) => `\n    <xdr:oneCellAnchor editAs=\"oneCell\">\n      <xdr:from>\n        <xdr:col>${drawing.col}</xdr:col>\n        <xdr:colOff>${drawing.colOffset}</xdr:colOff>\n        <xdr:row>${drawing.row}</xdr:row>\n        <xdr:rowOff>${drawing.rowOffset}</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx=\"${drawing.width}\" cy=\"${drawing.height}\" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id=\"${index + 1}\" name=\"Picture ${index + 1}\"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed=\"${drawing.imageId}\"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst=\"rect\">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>`)}\n</xdr:wsDr>`;\n\nconst DRAWINGS_RELS_XML = (rels) => `${XMLHEAD}\n<Relationships xmlns=\"http://schemas.openxmlformats.org/package/2006/relationships\">\n  ${foreach(rels, rel => `\n    <Relationship Id=\"${rel.rId}\" Type=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\" Target=\"${rel.target}\"/>`)}\n</Relationships>`;\n\nconst SHARED_STRINGS = ({ count, uniqueCount, indexes }) => `${XMLHEAD}\n<sst xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" count=\"${count}\" uniqueCount=\"${uniqueCount}\">\n  ${foreach(Object.keys(indexes), (index) => `\n    <si><t xml:space=\"preserve\">${ESC(index.substring(1))}</t></si>`)}\n</sst>`;\n\nconst STYLES = ({\n    formats,\n    fonts,\n    fills,\n    borders,\n    styles\n}) => `${XMLHEAD}\n<styleSheet\n    xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"x14ac\"\n    xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">\n  <numFmts count=\"${formats.length}\">\n  ${foreach(formats, (format, fi) => `\n    <numFmt formatCode=\"${ESC(format.format)}\" numFmtId=\"${165 + fi}\" />`)}\n  </numFmts>\n  <fonts count=\"${fonts.length + 1}\" x14ac:knownFonts=\"1\">\n    <font>\n       <sz val=\"11\" />\n       <color theme=\"1\" />\n       <name val=\"Calibri\" />\n       <family val=\"2\" />\n       <scheme val=\"minor\" />\n    </font>\n    ${foreach(fonts, (font) => `\n    <font>\n      ${font.bold ? '<b/>' : ''}\n      ${font.italic ? '<i/>' : ''}\n      ${font.underline ? '<u/>' : ''}\n      <sz val=\"${font.fontSize || 11}\" />\n      ${font.color ? `<color rgb=\"${ESC(font.color)}\" />` : '<color theme=\"1\" />'}\n      ${font.fontFamily ? `\n        <name val=\"${ESC(font.fontFamily)}\" />\n        <family val=\"2\" />\n      ` : `\n        <name val=\"Calibri\" />\n        <family val=\"2\" />\n        <scheme val=\"minor\" />\n      `}\n    </font>`)}\n  </fonts>\n  <fills count=\"${fills.length + 2}\">\n      <fill><patternFill patternType=\"none\"/></fill>\n      <fill><patternFill patternType=\"gray125\"/></fill>\n    ${foreach(fills, (fill) => `\n      ${fill.background ? `\n        <fill>\n          <patternFill patternType=\"solid\">\n              <fgColor rgb=\"${ESC(fill.background)}\"/>\n          </patternFill>\n        </fill>\n      ` : ''}`)}\n  </fills>\n  <borders count=\"${borders.length + 1}\">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    ${foreach(borders, borderTemplate)}\n  </borders>\n  <cellStyleXfs count=\"1\">\n    <xf borderId=\"0\" fillId=\"0\" fontId=\"0\" />\n  </cellStyleXfs>\n  <cellXfs count=\"${styles.length + 1}\">\n    <xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\" xfId=\"0\" />\n    ${foreach(styles, (style) => `\n      <xf xfId=\"0\"\n          ${style.fontId ? `fontId=\"${style.fontId}\" applyFont=\"1\"` : ''}\n          ${style.fillId ? `fillId=\"${style.fillId}\" applyFill=\"1\"` : ''}\n          ${style.numFmtId ? `numFmtId=\"${style.numFmtId}\" applyNumberFormat=\"1\"` : ''}\n          ${style.textAlign || style.verticalAlign || style.wrap ? 'applyAlignment=\"1\"' : ''}\n          ${style.borderId ? `borderId=\"${style.borderId}\" applyBorder=\"1\"` : ''}\n          ${style.disabled != null ? `applyProtection=\"1\"` : ''}>\n        ${style.textAlign || style.verticalAlign || style.wrap ? `\n        <alignment\n          ${style.textAlign ? `horizontal=\"${ESC(style.textAlign)}\"` : ''}\n          ${style.verticalAlign ? `vertical=\"${ESC(style.verticalAlign)}\"` : ''}\n          ${style.indent ? `indent=\"${ESC(style.indent)}\"` : ''}\n          ${style.wrap ? 'wrapText=\"1\"' : ''} />\n        ` : ''}\n        ${style.disabled != null ? `\n        <protection locked=\"${style.disabled ? 1 : 0}\" />\n        ` : ''}\n      </xf>\n    `)}\n  </cellXfs>\n  <cellStyles count=\"1\">\n    <cellStyle name=\"Normal\" xfId=\"0\" builtinId=\"0\"/>\n  </cellStyles>\n  <dxfs count=\"0\" />\n  <tableStyles count=\"0\" defaultTableStyle=\"TableStyleMedium2\" defaultPivotStyle=\"PivotStyleMedium9\" />\n</styleSheet>`;\n\nfunction writeFormula(formula) {\n    if (typeof formula == \"string\") {\n        return `<f>${ESC(formula)}</f>`;\n    }\n    // array formulas\n    return `<f t=\"array\" ref=\"${formula.ref}\">${ESC(formula.src)}</f>`;\n}\n\nfunction numChar(colIndex) {\n   const letter = Math.floor(colIndex / 26) - 1;\n\n   return (letter >= 0 ? numChar(letter) : \"\") + String.fromCharCode(65 + (colIndex % 26));\n}\n\nfunction ref(rowIndex, colIndex) {\n    return numChar(colIndex) + (rowIndex + 1);\n}\n\nfunction $ref(rowIndex, colIndex) {\n    return \"$\" + numChar(colIndex) + \"$\" + (rowIndex + 1);\n}\n\nfunction filterRowIndex(options) {\n    const frozenRows = options.frozenRows || (options.freezePane || {}).rowSplit || 1;\n    return frozenRows - 1;\n}\n\nfunction toWidth(px) {\n    const maximumDigitWidth = 7;\n    return (px / maximumDigitWidth) - (Math.floor(128 / maximumDigitWidth) / 256);\n}\n\nfunction toHeight(px) {\n    return px * 0.75;\n}\n\nfunction stripFunnyChars(value) {\n    return String(value)\n        .replace(/[\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F]/g, \"\") // leave CRLF in\n        .replace(/\\r?\\n/g, \"\\r\\n\");                   // make sure LF is preceded by CR\n}\n\nclass Worksheet {\n\n    constructor(options, sharedStrings, styles, borders) {\n        this.options = options;\n        this._strings = sharedStrings;\n        this._styles = styles;\n        this._borders = borders;\n        this._validations = {};\n        this._comments = [];\n        this._drawings = options.drawings || [];\n        this._hyperlinks = (this.options.hyperlinks || []).map(\n            (link, i) => Object.assign({}, link, { rId: `link${i}` }));\n    }\n\n    relsToXML() {\n        const hyperlinks = this._hyperlinks;\n        const comments = this._comments;\n        const drawings = this._drawings;\n\n        if (hyperlinks.length || comments.length || drawings.length) {\n            return WORKSHEET_RELS({\n                hyperlinks : hyperlinks,\n                comments   : comments,\n                sheetIndex : this.options.sheetIndex,\n                drawings   : drawings\n            });\n        }\n    }\n\n    toXML(index) {\n        const mergeCells = this.options.mergedCells || [];\n        const rows = this.options.rows || [];\n        const data = inflate(rows, mergeCells);\n\n        this._readCells(data);\n\n        let autoFilter = this.options.filter;\n        let filter;\n        if (autoFilter && (typeof autoFilter.from === \"number\") && (typeof autoFilter.to === \"number\")) {\n            // Grid enables auto filter\n            autoFilter = {\n                from: ref(filterRowIndex(this.options), autoFilter.from),\n                to: ref(filterRowIndex(this.options), autoFilter.to)\n            };\n        } else if (autoFilter && autoFilter.ref && autoFilter.columns) {\n            // this is probably from the Spreadsheet\n            filter = autoFilter;\n            autoFilter = null;\n        }\n\n        const validations = [];\n        for (let i in this._validations) {\n            if (Object.prototype.hasOwnProperty.call(this._validations, i)) {\n                validations.push(this._validations[i]);\n            }\n        }\n\n        let defaultCellStyleId = null;\n        let defaultCellStyle = this.options.defaultCellStyle;\n        if (this._hasDisabledCells) {\n            if (!defaultCellStyle) {\n                defaultCellStyle = { disabled: false };\n            } else {\n                defaultCellStyle = Object.assign({ disabled: false }, defaultCellStyle);\n            }\n        }\n        if (defaultCellStyle) {\n            defaultCellStyleId = this._lookupStyle(defaultCellStyle);\n        }\n\n        const freezePane = this.options.freezePane || {};\n        const defaults = this.options.defaults || {};\n        const lastRow = this.options.rows ? this._getLastRow() : 1;\n        const lastCol = this.options.rows ? this._getLastCol() : 1;\n\n        return WORKSHEET({\n            frozenColumns: this.options.frozenColumns || freezePane.colSplit,\n            frozenRows: this.options.frozenRows || freezePane.rowSplit,\n            columns: this.options.columns,\n            defaults: defaults,\n            data: data,\n            index: index,\n            mergeCells: mergeCells,\n            autoFilter: autoFilter,\n            filter: filter,\n            showGridLines: this.options.showGridLines,\n            hyperlinks: this._hyperlinks,\n            validations: validations,\n            defaultCellStyleId: defaultCellStyleId,\n            rtl: this.options.rtl !== undefined ? this.options.rtl : defaults.rtl,\n            legacyDrawing: this._comments.length ? `vml${this.options.sheetIndex}` : null,\n            drawing: this._drawings.length ? `drw${this.options.sheetIndex}` : null,\n            lastRow: lastRow,\n            lastCol: lastCol,\n            hasDisabledCells: this._hasDisabledCells,\n        });\n    }\n\n    commentsXML() {\n        if (this._comments.length) {\n            return COMMENTS_XML({ comments: this._comments });\n        }\n    }\n\n    drawingsXML(images) {\n        if (this._drawings.length) {\n            let rels = {};\n            let main = this._drawings.map(drw => {\n                let ref = parseRef(drw.topLeftCell);\n                let img = rels[drw.image];\n                if (!img) {\n                    img = rels[drw.image] = {\n                        rId: `img${drw.image}`,\n                        target: images[drw.image].target\n                    };\n                }\n                return {\n                    col       : ref.col,\n                    colOffset : pixelsToExcel(drw.offsetX),\n                    row       : ref.row,\n                    rowOffset : pixelsToExcel(drw.offsetY),\n                    width     : pixelsToExcel(drw.width),\n                    height    : pixelsToExcel(drw.height),\n                    imageId   : img.rId\n                };\n            });\n            return {\n                main: DRAWINGS_XML(main),\n                rels: DRAWINGS_RELS_XML(rels)\n            };\n        }\n    }\n\n    legacyDrawing() {\n        if (this._comments.length) {\n            return LEGACY_DRAWING({ comments: this._comments });\n        }\n    }\n\n    _lookupString(value) {\n        const key = \"$\" + value;\n        const index = this._strings.indexes[key];\n        let result;\n\n        if (index !== undefined) {\n            result = index;\n        } else {\n            result = this._strings.indexes[key] = this._strings.uniqueCount;\n            this._strings.uniqueCount ++;\n        }\n\n        this._strings.count ++;\n\n        return result;\n    }\n\n    _lookupStyle(style) {\n        const json = JSON.stringify(style);\n\n        if (json === \"{}\") {\n            return 0;\n        }\n\n        let index = indexOf(json, this._styles);\n\n        if (index < 0) {\n            index = this._styles.push(json) - 1;\n        }\n\n        // There is one default style\n        return index + 1;\n    }\n\n    _lookupBorder(border) {\n        const json = JSON.stringify(border);\n        if (json === \"{}\") {\n            return;\n        }\n\n        let index = indexOf(json, this._borders);\n        if (index < 0) {\n            index = this._borders.push(json) - 1;\n        }\n\n        // There is one default border\n        return index + 1;\n    }\n\n    _readCells(rowData) {\n        for (let i = 0; i < rowData.length; i++) {\n            const row = rowData[i];\n            const cells = row.cells;\n\n            row.data = [];\n\n            for (let j = 0; j < cells.length; j++) {\n                const cellData = this._cell(cells[j], row.index, j);\n                if (cellData) {\n                    row.data.push(cellData);\n                }\n            }\n        }\n    }\n\n    _cell(data, rowIndex, cellIndex) {\n        if (!data || data === EMPTY_CELL) {\n            return null;\n        }\n\n        let value = data.value;\n\n        let border = {};\n\n        if (data.borderLeft) {\n            border.left = data.borderLeft;\n        }\n\n        if (data.borderRight) {\n            border.right = data.borderRight;\n        }\n\n        if (data.borderTop) {\n            border.top = data.borderTop;\n        }\n\n        if (data.borderBottom) {\n            border.bottom = data.borderBottom;\n        }\n\n        if (data.dBorders) {\n            border.diagonal = data.dBorders;\n        }\n\n        border = this._lookupBorder(border);\n\n        const defStyle = this.options.defaultCellStyle || {};\n        let style = { borderId: border };\n\n        (add => {\n            add(\"color\");\n            add(\"background\");\n            add(\"bold\");\n            add(\"italic\");\n            add(\"underline\");\n            if (!add(\"fontFamily\")) { add(\"fontName\", \"fontFamily\"); }\n            add(\"fontSize\");\n            add(\"format\");\n            if (!add(\"textAlign\")) { add(\"hAlign\", \"textAlign\"); }\n            if (!add(\"verticalAlign\")) { add(\"vAlign\", \"verticalAlign\"); }\n            add(\"wrap\");\n            add(\"indent\");\n            if (!add(\"disabled\")) {\n                if (add(\"enable\")) {\n                    style.disabled = !style.enable;\n                    delete style.enable;\n                }\n            }\n            if (style.disabled) {\n                this._hasDisabledCells = true;\n            }\n        })((prop, target) => {\n            let val = data[prop];\n            if (val === undefined) {\n                val = defStyle[prop];\n            }\n            if (val !== undefined) {\n                style[target || prop] = val;\n                return true;\n            }\n        });\n\n        const columns = this.options.columns || [];\n\n        const column = columns[cellIndex];\n        let type = typeof value;\n\n        if (column && column.autoWidth && (!data.colSpan || data.colSpan === 1)) {\n            let displayValue = value;\n\n            // XXX: let's not bring kendo.toString in only for this.\n            //      better wait until the spreadsheet engine is available as a separate\n            //      component, then we can use a real Excel-like formatter.\n            //\n            if (type === \"number\") {\n                // kendo.toString will not behave exactly like the Excel format\n                // Still, it's the best we have available for estimating the character count.\n                displayValue = IntlService.toString(value, data.format);\n            }\n\n            column.width = Math.max(column.width || 0, String(displayValue).length);\n        }\n\n        if (type === \"string\") {\n            value = stripFunnyChars(value);\n            value = this._lookupString(value);\n            type = \"s\";\n        } else if (type === \"number\") {\n            type = \"n\";\n        } else if (type === \"boolean\") {\n            type = \"b\";\n            value = Number(value);\n        } else if (value && value.getTime) {\n            type = null;\n            value = dateToSerial(value);\n            if (!style.format) {\n                style.format = \"mm-dd-yy\";\n            }\n        } else {\n            type = null;\n            value = null;\n        }\n\n        style = this._lookupStyle(style);\n\n        const cellName = ref(rowIndex, cellIndex);\n\n        if (data.validation) {\n            this._addValidation(data.validation, cellName);\n        }\n\n        if (data.comment) {\n            let anchor = [\n                cellIndex + 1,  // start column\n                15,             // start column offset\n                rowIndex,       // start row\n                10,             // start row offset\n                cellIndex + 3,  // end column\n                15,             // end column offset\n                rowIndex + 3,   // end row\n                4               // end row offset\n            ];\n            this._comments.push({\n                ref    : cellName,\n                text   : data.comment,\n                row    : rowIndex,\n                col    : cellIndex,\n                anchor : anchor.join(\", \")\n            });\n        }\n\n        return {\n            value: value,\n            formula: data.formula,\n            type: type,\n            style: style,\n            ref: cellName\n        };\n    }\n\n    _addValidation(v, ref) {\n        const tmp = {\n            showErrorMessage : v.type === \"reject\" ? 1 : 0,\n            formula1         : v.from,\n            formula2         : v.to,\n            type             : MAP_EXCEL_TYPE[v.dataType] || v.dataType,\n            operator         : MAP_EXCEL_OPERATOR[v.comparerType] || v.comparerType,\n            allowBlank       : v.allowNulls ? 1 : 0,\n            showDropDown     : v.showButton ? 0 : 1, // LOL, Excel!\n            error            : v.messageTemplate,\n            errorTitle       : v.titleTemplate\n        };\n        const json = JSON.stringify(tmp);\n        if (!this._validations[json]) {\n            this._validations[json] = tmp;\n            tmp.sqref = [];\n        }\n        this._validations[json].sqref.push(ref);\n    }\n\n    _getLastRow() {\n        return countData(this.options.rows);\n    }\n\n    _getLastCol() {\n        let last = 0;\n        this.options.rows.forEach(function(row) {\n            if (row.cells) {\n                last = Math.max(last, countData(row.cells));\n            }\n        });\n        return last;\n    }\n}\n\nfunction countData(data) {\n    let last = data.length;\n    data.forEach(function(el) {\n        if (el.index && el.index >= last) {\n            last = el.index + 1;\n        }\n    });\n    return last;\n}\n\nconst MAP_EXCEL_OPERATOR = {\n    // includes only what differs; key is our operator, value is Excel\n    // operator.\n    greaterThanOrEqualTo : \"greaterThanOrEqual\",\n    lessThanOrEqualTo    : \"lessThanOrEqual\"\n};\n\nconst MAP_EXCEL_TYPE = {\n    // eslint-disable-next-line id-denylist\n    number: \"decimal\"\n};\n\nconst defaultFormats = {\n    \"General\": 0,\n    \"0\": 1,\n    \"0.00\": 2,\n    \"#,##0\": 3,\n    \"#,##0.00\": 4,\n    \"0%\": 9,\n    \"0.00%\": 10,\n    \"0.00E+00\": 11,\n    \"# ?/?\": 12,\n    \"# ??/??\": 13,\n    \"mm-dd-yy\": 14,\n    \"d-mmm-yy\": 15,\n    \"d-mmm\": 16,\n    \"mmm-yy\": 17,\n    \"h:mm AM/PM\": 18,\n    \"h:mm:ss AM/PM\": 19,\n    \"h:mm\": 20,\n    \"h:mm:ss\": 21,\n    \"m/d/yy h:mm\": 22,\n    \"#,##0 ;(#,##0)\": 37,\n    \"#,##0 ;[Red](#,##0)\": 38,\n    \"#,##0.00;(#,##0.00)\": 39,\n    \"#,##0.00;[Red](#,##0.00)\": 40,\n    \"mm:ss\": 45,\n    \"[h]:mm:ss\": 46,\n    \"mmss.0\": 47,\n    \"##0.0E+0\": 48,\n    \"@\": 49,\n    \"[$-404]e/m/d\": 27,\n    \"m/d/yy\": 30,\n    \"t0\": 59,\n    \"t0.00\": 60,\n    \"t#,##0\": 61,\n    \"t#,##0.00\": 62,\n    \"t0%\": 67,\n    \"t0.00%\": 68,\n    \"t# ?/?\": 69,\n    \"t# ??/??\": 70\n};\n\nfunction maybeRGB(value) {\n    function hex(val) {\n        let x = parseInt(val, 10).toString(16);\n        return x.length < 2 ? \"0\" + x : x;\n    }\n\n    let m = /^rgba?\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*([0-9.]+)\\s*)?\\)/i.exec(value.trim());\n    if (m) {\n        let opacity = (m[4] ? parseFloat(m[4]) : 1) * 255 | 0;\n        return \"#\" + hex(opacity) + hex(m[1]) + hex(m[2]) + hex(m[3]);\n    }\n    return value;\n}\n\nfunction convertColor(value) {\n    let color = maybeRGB(value);\n    if (color.length < 6) {\n        color = color.replace(/(\\w)/g, function($0, $1) {\n            return $1 + $1;\n        });\n    }\n\n    color = color.substring(1).toUpperCase();\n\n    if (color.length < 8) {\n        color = \"FF\" + color;\n    }\n\n    return color;\n}\n\nclass Workbook {\n\n    constructor(options) {\n        this.options = options || {};\n        this._strings = {\n            indexes: {},\n            count: 0,\n            uniqueCount: 0\n        };\n        this._styles = [];\n        this._borders = [];\n        this._images = this.options.images;\n        this._imgId = 0;\n\n        this._sheets = map(this.options.sheets || [], (options, i) => {\n            options.defaults = this.options;\n            options.sheetIndex = i + 1;\n            return new Worksheet(options, this._strings, this._styles, this._borders);\n        });\n    }\n\n    imageFilename(mimeType) {\n        const id = ++this._imgId;\n        switch (mimeType) {\n          case \"image/jpg\":\n          case \"image/jpeg\":\n            return `image${id}.jpg`;\n          case \"image/png\":\n            return `image${id}.png`;\n          case \"image/gif\":\n            return `image${id}.gif`;\n          default:\n            return `image${id}.bin`; // XXX: anything better to do here?\n        }\n    }\n\n    toZIP() {\n        const zip = createZip();\n\n        const docProps = zip.folder(\"docProps\");\n\n        docProps.file(\"core.xml\", CORE({\n            creator: this.options.creator || \"Kendo UI\",\n            lastModifiedBy: this.options.creator || \"Kendo UI\",\n            created: this.options.date || new Date().toJSON(),\n            modified: this.options.date || new Date().toJSON()\n        }));\n\n        const sheetCount = this._sheets.length;\n\n        docProps.file(\"app.xml\", APP({ sheets: this._sheets }));\n\n        const rels = zip.folder(\"_rels\");\n        rels.file(\".rels\", RELS);\n\n        const xl = zip.folder(\"xl\");\n\n        const xlRels = xl.folder(\"_rels\");\n        xlRels.file(\"workbook.xml.rels\", WORKBOOK_RELS({ count: sheetCount }));\n\n        if (this._images) {\n            const media = xl.folder(\"media\");\n            Object.keys(this._images).forEach(id => {\n                const img = this._images[id];\n                const filename = this.imageFilename(img.type);\n                media.file(filename, img.data);\n                img.target = `../media/${filename}`;\n            });\n        }\n\n        const sheetIds = {};\n        xl.file(\"workbook.xml\", WORKBOOK({\n            sheets: this._sheets,\n            filterNames: map(this._sheets, function(sheet, index) {\n                const options = sheet.options;\n                const sheetName = (options.name || options.title || \"Sheet\" + (index + 1));\n                sheetIds[sheetName.toLowerCase()] = index;\n                const filter = options.filter;\n                if (filter) {\n                    if (filter.ref) {\n                        // spreadsheet provides `ref`\n                        let a = filter.ref.split(\":\");\n                        let from = parseRef(a[0]);\n                        let to = parseRef(a[1]);\n                        return {\n                            localSheetId: index,\n                            name: sheetName,\n                            from: $ref(from.row, from.col),\n                            to: $ref(to.row, to.col)\n                        };\n                    } else if (typeof filter.from !== \"undefined\" && typeof filter.to !== \"undefined\") {\n                        // grid does this\n                        return {\n                            localSheetId: index,\n                            name: sheetName,\n                            from: $ref(filterRowIndex(options), filter.from),\n                            to: $ref(filterRowIndex(options), filter.to)\n                        };\n                    }\n                }\n            }),\n            userNames: map(this.options.names || [], function(def) {\n                return {\n                    name: def.localName,\n                    localSheetId: def.sheet ? sheetIds[def.sheet.toLowerCase()] : null,\n                    value: def.value,\n                    hidden: def.hidden\n                };\n            })\n        }));\n\n        const worksheets = xl.folder(\"worksheets\");\n        const drawings = xl.folder(\"drawings\");\n        const drawingsRels = drawings.folder(\"_rels\");\n        const sheetRels = worksheets.folder(\"_rels\");\n        const commentFiles = [];\n        const drawingFiles = [];\n        let hasDisabledCells = false;\n\n        for (let idx = 0; idx < sheetCount; idx++) {\n            const sheet = this._sheets[idx];\n            const sheetName = `sheet${idx + 1}.xml`;\n            const sheetXML = sheet.toXML(idx); // must be called before relsToXML\n            const relsXML = sheet.relsToXML();\n            const commentsXML = sheet.commentsXML();\n            const legacyDrawing = sheet.legacyDrawing();\n            const drawingsXML = sheet.drawingsXML(this._images);\n\n            if (sheet._hasDisabledCells) {\n                hasDisabledCells = true;\n            }\n\n            if (relsXML) {\n                sheetRels.file(sheetName + \".rels\", relsXML);\n            }\n            if (commentsXML) {\n                let name = `comments${sheet.options.sheetIndex}.xml`;\n                xl.file(name, commentsXML);\n                commentFiles.push(name);\n            }\n            if (legacyDrawing) {\n                drawings.file(`vmlDrawing${sheet.options.sheetIndex}.vml`, legacyDrawing);\n            }\n            if (drawingsXML) {\n                let name = `drawing${sheet.options.sheetIndex}.xml`;\n                drawings.file(name, drawingsXML.main);\n                drawingsRels.file(`${name}.rels`, drawingsXML.rels);\n                drawingFiles.push(name);\n            }\n\n            worksheets.file(sheetName, sheetXML);\n        }\n\n        const borders = map(this._borders, parseJSON);\n\n        const styles = map(this._styles, parseJSON);\n\n        const hasFont = function(style) {\n            return style.underline || style.bold || style.italic || style.color || style.fontFamily || style.fontSize;\n        };\n\n        const convertFontSize = function(value) {\n            let fontInPx = Number(value);\n            let fontInPt;\n\n            if (fontInPx) {\n                fontInPt = fontInPx * 3 / 4;\n            }\n\n            return fontInPt;\n        };\n\n        const fonts = map(styles, function(style) {\n            if (style.fontSize) {\n                style.fontSize = convertFontSize(style.fontSize);\n            }\n\n            if (style.color) {\n                style.color = convertColor(style.color);\n            }\n\n            if (hasFont(style)) {\n                return style;\n            }\n        });\n\n        const formats = map(styles, function(style) {\n            if (style.format && defaultFormats[style.format] === undefined) {\n                return style;\n            }\n        });\n\n        const fills = map(styles, function(style) {\n            if (style.background) {\n                style.background = convertColor(style.background);\n                return style;\n            }\n        });\n\n        xl.file(\"styles.xml\", STYLES({\n            fonts: fonts,\n            fills: fills,\n            formats: formats,\n            borders: borders,\n            styles: map(styles, function(style) {\n                const result = {};\n\n                if (hasFont(style)) {\n                    result.fontId = indexOf(style, fonts) + 1;\n                }\n\n                if (style.background) {\n                    result.fillId = indexOf(style, fills) + 2;\n                }\n\n                result.textAlign = style.textAlign;\n                result.indent = style.indent;\n                result.verticalAlign = style.verticalAlign;\n                result.wrap = style.wrap;\n                result.borderId = style.borderId;\n\n                if (style.format) {\n                    if (defaultFormats[style.format] !== undefined) {\n                        result.numFmtId = defaultFormats[style.format];\n                    } else {\n                        result.numFmtId = 165 + indexOf(style, formats);\n                    }\n                }\n\n                if (hasDisabledCells) {\n                    result.disabled = !!style.disabled;\n                }\n\n                return result;\n            })\n        }));\n\n        xl.file(\"sharedStrings.xml\", SHARED_STRINGS(this._strings));\n\n        zip.file(\"[Content_Types].xml\", CONTENT_TYPES({\n            sheetCount: sheetCount,\n            commentFiles: commentFiles,\n            drawingFiles: drawingFiles\n        }));\n\n        return zip;\n    }\n\n    toDataURL() {\n        const zip = this.toZIP();\n\n        return zip.generateAsync ? zip.generateAsync(DATA_URL_OPTIONS).then(toDataURI) : toDataURI(zip.generate(DATA_URL_OPTIONS));\n    }\n\n    toBlob() {\n        const zip = this.toZIP();\n        if (zip.generateAsync) {\n            return zip.generateAsync(BLOB_OPTIONS);\n        }\n        return new Blob([ zip.generate(ARRAYBUFFER_OPTIONS) ], { type: MIME_TYPE });\n    }\n}\n\nfunction borderStyle(width) {\n    let alias = \"thin\";\n\n    if (width === 2) {\n        alias = \"medium\";\n    } else if (width === 3) {\n        alias = \"thick\";\n    }\n\n    return alias;\n}\n\nfunction borderSideTemplate(name, style) {\n    let result = \"\";\n\n    if (style) {\n        result += \"<\" + name + \" style=\\\"\" + borderStyle(style.size) + \"\\\">\";\n        if (style.color) {\n            result += \"<color rgb=\\\"\" + convertColor(style.color) + \"\\\"/>\";\n        }\n        result += \"</\" + name + \">\";\n    }\n\n    return result;\n}\n\nfunction borderTemplate(border) {\n    let diag = border.diagonal ? border.diagonal.type : 0;\n    return `<border ${diag & 2 ? 'diagonalUp=\"true\"' : ''} ${diag & 1 ? 'diagonalDown=\"true\"' : ''}>\n      ${borderSideTemplate(\"left\", border.left)}\n      ${borderSideTemplate(\"right\", border.right)}\n      ${borderSideTemplate(\"top\", border.top)}\n      ${borderSideTemplate(\"bottom\", border.bottom)}\n      ${borderSideTemplate(\"diagonal\", border.diagonal)}\n    </border>`;\n}\n\nconst EMPTY_CELL = {};\nfunction inflate(rows, mergedCells) {\n    const rowData = [];\n    const rowsByIndex = [];\n\n    indexRows(rows, function(row, index) {\n        const data = {\n            _source: row,\n            index: index,\n            height: row.height,\n            level: row.level,\n            cells: []\n        };\n\n        rowData.push(data);\n        rowsByIndex[index] = data;\n    });\n\n    const sorted = sortByIndex(rowData).slice(0);\n    const ctx = {\n        rowData: rowData,\n        rowsByIndex: rowsByIndex,\n        mergedCells: mergedCells\n    };\n\n    for (let i = 0; i < sorted.length; i++) {\n        fillCells(sorted[i], ctx);\n        delete sorted[i]._source;\n    }\n\n    return sortByIndex(rowData);\n}\n\nfunction indexRows(rows, callback) {\n    for (let i = 0; i < rows.length; i++) {\n        const row = rows[i];\n        if (!row) {\n            continue;\n        }\n\n        let index = row.index;\n        if (typeof index !== \"number\") {\n            index = i;\n        }\n\n        callback(row, index);\n    }\n}\n\nfunction sortByIndex(items) {\n    return items.sort(function(a, b) {\n        return a.index - b.index;\n    });\n}\n\nfunction pushUnique(array, el) {\n    if (array.indexOf(el) < 0) {\n        array.push(el);\n    }\n}\n\nfunction getSpan(mergedCells, ref) {\n    for (let i = 0; i < mergedCells.length; ++i) {\n        const range = mergedCells[i];\n        const a = range.split(\":\");\n        let topLeft = a[0];\n        if (topLeft === ref) {\n            let bottomRight = a[1];\n            topLeft = parseRef(topLeft);\n            bottomRight = parseRef(bottomRight);\n            return {\n                rowSpan: bottomRight.row - topLeft.row + 1,\n                colSpan: bottomRight.col - topLeft.col + 1\n            };\n        }\n    }\n}\n\nfunction parseRef(ref) {\n    function getcol(str) {\n        let upperStr = str.toUpperCase();\n        let col = 0;\n        for (let i = 0; i < upperStr.length; ++i) {\n            col = col * 26 + upperStr.charCodeAt(i) - 64;\n        }\n        return col - 1;\n    }\n\n    function getrow(str) {\n        return parseInt(str, 10) - 1;\n    }\n\n    const m = /^([a-z]+)(\\d+)$/i.exec(ref);\n    return {\n        row: getrow(m[2]),\n        col: getcol(m[1])\n    };\n}\n\nfunction pixelsToExcel(px) {\n    return Math.round(px * 9525);\n}\n\nfunction fillCells(data, ctx) {\n    const row = data._source;\n    const rowIndex = data.index;\n    const cells = row.cells;\n    const cellData = data.cells;\n\n    if (!cells) {\n        return;\n    }\n\n    for (let i = 0; i < cells.length; i++) {\n        const cell = cells[i] || EMPTY_CELL;\n\n        let rowSpan = cell.rowSpan || 1;\n        let colSpan = cell.colSpan || 1;\n\n        const cellIndex = insertCell(cellData, cell);\n        const topLeftRef = ref(rowIndex, cellIndex);\n\n        if (rowSpan === 1 && colSpan === 1) {\n            // could still be merged: the spreadsheet does not send\n            // rowSpan/colSpan, but mergedCells is already populated.\n            // https://github.com/telerik/kendo-ui-core/issues/2401\n            const tmp = getSpan(ctx.mergedCells, topLeftRef);\n            if (tmp) {\n                colSpan = tmp.colSpan;\n                rowSpan = tmp.rowSpan;\n            }\n        }\n\n        spanCell(cell, cellData, cellIndex, colSpan);\n\n        if (rowSpan > 1 || colSpan > 1) {\n            pushUnique(ctx.mergedCells,\n                       topLeftRef + \":\" + ref(rowIndex + rowSpan - 1,\n                                              cellIndex + colSpan - 1));\n        }\n\n        if (rowSpan > 1) {\n            for (let ri = rowIndex + 1; ri < rowIndex + rowSpan; ri++) {\n                let nextRow = ctx.rowsByIndex[ri];\n                if (!nextRow) {\n                    nextRow = ctx.rowsByIndex[ri] = { index: ri, cells: [] };\n                    ctx.rowData.push(nextRow);\n                }\n\n                spanCell(cell, nextRow.cells, cellIndex - 1, colSpan + 1);\n            }\n        }\n    }\n}\n\nfunction insertCell(data, cell) {\n    let index;\n\n    if (typeof cell.index === \"number\") {\n        index = cell.index;\n        insertCellAt(data, cell, cell.index);\n    } else {\n        index = appendCell(data, cell);\n    }\n\n    return index;\n}\n\nfunction insertCellAt(data, cell, index) {\n    data[index] = cell;\n}\n\nfunction appendCell(data, cell) {\n    let index = data.length;\n\n    for (let i = 0; i < data.length + 1; i++) {\n        if (!data[i]) {\n            data[i] = cell;\n            index = i;\n            break;\n        }\n    }\n\n    return index;\n}\n\nfunction spanCell(cell, row, startIndex, colSpan) {\n    for (let i = 1; i < colSpan; i++) {\n        const tmp = {\n            borderTop    : cell.borderTop,\n            borderRight  : cell.borderRight,\n            borderBottom : cell.borderBottom,\n            borderLeft   : cell.borderLeft\n        };\n        insertCellAt(row, tmp, startIndex + i);\n    }\n}\n\nconst SPREADSHEET_FILTERS = ({ ref, columns, generators }) => `\n<autoFilter ref=\"${ref}\">\n  ${foreach(columns, (col) => `\n    <filterColumn colId=\"${col.index}\">\n      ${generators[col.filter](col)}\n    </filterColumn>\n  `)}\n</autoFilter>`;\n\nconst SPREADSHEET_CUSTOM_FILTER = ({ logic, criteria }) => `\n<customFilters ${logic === 'and' ? 'and=\"1\"' : ''}>\n${foreach(criteria, (f) => {\n    let op = spreadsheetFilters.customOperator(f);\n    let val = spreadsheetFilters.customValue(f);\n    return `<customFilter ${op ? `operator=\"${op}\"` : ''} val=\"${val}\"/>`;\n})}\n</customFilters>`;\n\nconst SPREADSHEET_DYNAMIC_FILTER = ({ type }) =>\n`<dynamicFilter type=\"${spreadsheetFilters.dynamicFilterType(type)}\" />`;\n\nconst SPREADSHEET_TOP_FILTER = ({ type, value }) =>\n`<top10 percent=\"${/percent$/i.test(type) ? 1 : 0}\"\n       top=\"${/^top/i.test(type) ? 1 : 0}\"\n       val=\"${value}\" />`;\n\nconst SPREADSHEET_VALUE_FILTER = ({ blanks, values }) =>\n  `<filters ${blanks ? 'blank=\"1\"' : ''}>\n    ${foreach(values, (value) => `\n      <filter val=\"${value}\" />`)}\n  </filters>`;\n\nfunction spreadsheetFilters(filter) {\n    return SPREADSHEET_FILTERS({\n        ref: filter.ref,\n        columns: filter.columns,\n        generators: {\n            custom  : SPREADSHEET_CUSTOM_FILTER,\n            dynamic : SPREADSHEET_DYNAMIC_FILTER,\n            top     : SPREADSHEET_TOP_FILTER,\n            value   : SPREADSHEET_VALUE_FILTER\n        }\n    });\n}\n\nspreadsheetFilters.customOperator = function(f) {\n    return {\n        eq  : \"equal\",\n        gt  : \"greaterThan\",\n        gte : \"greaterThanOrEqual\",\n        lt  : \"lessThan\",\n        lte : \"lessThanOrEqual\",\n        ne  : \"notEqual\",\n\n        // These are not in the spec, but seems to be how Excel does\n        // it (see customValue below).  For the non-negated versions,\n        // the operator attribute is missing completely.\n        doesnotstartwith: \"notEqual\",\n        doesnotendwith: \"notEqual\",\n        doesnotcontain: \"notEqual\",\n        doesnotmatch: \"notEqual\"\n    }[f.operator.toLowerCase()];\n};\n\nfunction quoteSheet(name) {\n    if (/^\\'/.test(name)) { // assume already quoted, the Spreadsheet does it.\n        return name;\n    }\n    if (/^[a-z_][a-z0-9_]*$/i.test(name)) {\n        return name;        // no need to quote it\n    }\n    return \"'\" + name.replace(/\\x27/g, \"\\\\'\") + \"'\";\n}\n\nspreadsheetFilters.customValue = function(f) {\n    function esc(str) {\n        return str.replace(/([*?])/g, \"~$1\");\n    }\n\n    switch (f.operator.toLowerCase()) {\n        case \"startswith\":\n        case \"doesnotstartwith\":\n            return esc(f.value) + \"*\";\n\n        case \"endswith\":\n        case \"doesnotendwith\":\n            return \"*\" + esc(f.value);\n\n        case \"contains\":\n        case \"doesnotcontain\":\n            return \"*\" + esc(f.value) + \"*\";\n\n        default:\n            return f.value;\n    }\n};\n\nspreadsheetFilters.dynamicFilterType = function(type) {\n    return {\n        quarter1  : \"Q1\",\n        quarter2  : \"Q2\",\n        quarter3  : \"Q3\",\n        quarter4  : \"Q4\",\n        january   : \"M1\",\n        february  : \"M2\",\n        march     : \"M3\",\n        april     : \"M4\",\n        may       : \"M5\",\n        june      : \"M6\",\n        july      : \"M7\",\n        august    : \"M8\",\n        september : \"M9\",\n        october   : \"M10\",\n        november  : \"M11\",\n        december  : \"M12\"\n    }[type.toLowerCase()] || type;\n};\n\nexport {\n    Workbook,\n    Worksheet\n};\n"],"names":["let","current","const","this","name"],"mappings":";;;;AAAAA,IAAIC,SAAO,GAAG;AACd,IAAI,OAAO,EAAE,SAAS,QAAQ,EAAE;AAChC,QAAQ,OAAO,QAAQ;AACvB;AACA,CAAC;;AAED,IAAM,eAAe,GAAA,SAAA,eAAA,IAAA;;AACjB,eAAO,CAAA,QAAA,GAAA,SAAA,QAAA,EAAS,kBAAkB,EAAE;AACxC,IAAQA,SAAO,GAAG,kBAAkB;AAChC,CAAC;;AAED,eAAO,CAAA,OAAA,GAAA,SAAA,OAAA,EAAQ,QAAQ,EAAE;AAC7B,IAAQ,OAAOA,SAAO,CAAC,OAAO,CAAC,QAAQ,CAAC;AACpC,CACH;;ACdDC,IAAM,WAAW,GAAG,qDAAqD;AACzEA,IAAM,WAAW,GAAG,EAAE;AACtBA,IAAM,SAAS,GAAG,WAAW;;AAE7B,WAAW,CAAC,SAAS,CAAC,GAAG,SAAS,GAAG,EAAE;AACvC,IAAI,OAAO,GAAG;AACd,CAAC;;AAEc,SAAS,MAAM,CAAC,KAAK,EAAE;AACtC,IAAI,IAAI,WAAW,CAAC,KAAK,CAAC,EAAE;AAC5B,QAAQ,OAAO,WAAW,CAAC,KAAK,CAAC;AACjC;;AAEA,IAAIA,IAAM,MAAM,GAAG,EAAE;AACrB,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,SAAS,KAAK,EAAE,KAAK,EAAE,aAAa,EAAE,KAAK,EAAE;AAC5E,QAAQ,MAAM,CAAC,IAAI,CAAC,OAAO,KAAK,KAAK,SAAS,GAAG,KAAK,IAAI,aAAa,IAAI,KAAK,CAAC,CAAC;AAClF,KAAK,CAAC;;AAEN,IAAI,WAAW,CAAC,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE;AACvC,QAAQF,IAAI,MAAM,GAAG,GAAG;AACxB,QAAQ,KAAKA,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,MAAM,IAAI,MAAM,EAAE,GAAG,EAAE,EAAE;AAChE,YAAY,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACxC;;AAEA,QAAQ,OAAO,MAAM;AACrB,KAAK;;AAEL,IAAI,OAAO,WAAW,CAAC,KAAK,CAAC;AAC7B;;AC5Be,SAAS,GAAG,CAAC,KAAK,EAAE,IAAI,EAAE;AACzC,IAAI,OAAO,KAAK,CAAC,MAAM,CAAA,UAAE,MAAM,EAAE,EAAE,EAAE,CAAC,EAAK;AAC3C,QAAQE,IAAM,GAAG,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;AAC/B,QAAQ,IAAI,GAAG,IAAI,IAAI,EAAE;AACzB,YAAY,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;AAC5B;AACA,QAAQ,OAAO,MAAM;AACrB,KAAK,EAAE,EAAE,CAAC;AACV;;ACJA,SAAS,0BAA0B,CAAC,IAAI,EAAE;AAC1C,IAAI,QAAA,CAAW,IAAI,CAAC,KAAA,YAAY,IAAI,CAAC;AACrC;;AAEA,SAAS,WAAW,CAAC,MAAM,EAAE,QAAQ,EAAE;AACvC,IAAIA,IAAM,MAAM,GAAG,EAAE;;AAErB,IAAI,KAAKF,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,MAAM,EAAE,GAAG,EAAE,EAAE;AAC3C,QAAQ,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AAClC;;AAEA,IAAI,OAAO,MAAM;AACjB;;AAEA,SAAS,aAAa,CAAC,IAAI,EAAE;AAC7B,IAAI,OAAO,IAAI,CAAC,EAAE;AAClB;;AAEA,IAAM,aAAa,GACf,SAAW,aAAA,CAAC,OAAO,EAAE;AACzB,IAAQ,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;;AAElE,IAAQ,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC;;AAE5F,IAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC;;AAE5D,IAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,IAAQ,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,EAAE;AACtC,IAAQ,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,IAAI,EAAE;AAClD,IAAQ,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;AACrD,IAAQ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC;AAC/C,IAAQ,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS;AAC1C,IAAQ,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAA,UAAC,QAAU,EAAA,OAAA,MAAM,CAAC,yBAAA,CAAA,EAAyB,CAAC;AACjG,IAAQ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW;AAC/C;;AAEA,aAAA,CAAA,SAAA,CAAA,QAAA,GAAA,SAAA,QAAA,IAAW;AACf,IAAQE,IAAM,QAAQ,GAAG;AACzB,QAAY,MAAM,EAAE,EAAE;AACtB,YAAgB,OAAO,EAAE,IAAI,CAAC,QAAQ,EAAE;AACxC,YAAgB,IAAI,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE;AAC3E,YAAgB,UAAU,EAAE,IAAI,CAAC,WAAW,EAAE;AAC9C,YAAgB,MAAM,EAAE,IAAI,CAAC,OAAO;AACpC,SAAa;AACb,KAAS;;AAET,IAAQ,OAAO,QAAQ;AACnB,CAAC;;wBAED,YAAY,GAAA,SAAA,YAAA,EAAC,OAAO,EAAE;;;AAC1B,IAAQ,OAAO,OAAO,CAAC,MAAM,CAAC,UAAC,MAAM,EAAK;AAC1C,QAAYF,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC;;AAE9C,QAAY,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,OAAO,EAAE;AAC3C,YAAgB,MAAM,GAAGG,QAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC;AACrE;;AAEA,QAAY,OAAO,MAAM;AACzB,KAAS,CAAC;AACN,CAAC;;wBAED,YAAY,GAAA,SAAA,YAAA,EAAC,OAAO,EAAE;AAC1B,IAAQH,IAAI,MAAM,GAAG,EAAE;;AAEvB,IAAQ,KAAKA,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;AACvD,QAAY,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE;AACvC,YAAgB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACzC,SAAa,MAAM;AACnB,YAAgB,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;AAC/E;AACA;;AAEA,IAAQ,OAAO,MAAM;AACjB,CAAC;;wBAED,cAAc,GAAA,SAAA,cAAA,EAAC,MAAM,EAAE;AAC3B,IAAQ,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AAC3B,QAAY,OAAO,IAAI;AACvB;;AAEA,IAAQA,IAAI,KAAK,GAAG,SAAS,QAAQ,EAAE;AACvC,QAAY,OAAO,MAAM,CAAC,MAAM,CAAC,KAAW,CAAC,CAAC,QAAQ,CAAC;AACvD,KAAS;;AAET,IAAQA,IAAI,MAAM,GAAG,IAAI;;AAEzB,IAAQ,IAAI,MAAM,CAAC,MAAM,EAAE;AAC3B,QAAY,MAAM,GAAG,EAAE;;AAEvB,QAAY,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,IAAI,EAAE;AACjD,YAAgB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI;AAC9C,SAAa,CAAC;;AAEd,QAAY,KAAK,GAAG,SAAS,QAAQ,EAAE;AACvC,YAAgB,OAAO,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAW,CAAC,CAAC,QAAQ,CAAC,CAAC;AACnE,SAAa;AACb;;AAEA,IAAQ,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE;AACzC,QAAY,KAAK,EAAE,KAAK;AACxB,QAAY,MAAM,EAAE,MAAM;AAC1B,QAAY,mBAAmB,EAAE,MAAM,CAAC,mBAAmB,GAAG,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,GAAG,0BAA0B;AAC9I,QAAY,yBAAyB,EAAE,MAAM,CAAC,yBAAyB,GAAG,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,yBAAyB,CAAC,GAAG,IAAI;AAC1I,QAAY,mBAAmB,EAAE,MAAM,CAAC,mBAAmB,GAAG,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,mBAAmB,CAAC,GAAG,IAAI;AACxH,QAAY,cAAc,EAAE,MAAM,CAAC,cAAc,GAAG,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG;AACrG,KAAS,CAAC;AACN,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,OAAA,GAAA,SAAA,OAAA,IAAU;AACd,IAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;AACtC,QAAY,OAAO,IAAI;AACvB;;AAEA,IAAQE,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;;AAEnC,IAAQ,OAAO;AACf,QAAY,IAAI,EAAE,KAAK;AACvB,QAAY,EAAE,EAAE,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG;AAC9C,KAAS;AACL,CAAC;;wBAED,mBAAmB,GAAA,SAAA,mBAAA,EAAC,MAAM,EAAE;;;AAChC,IAAQ,OAAO,WAAW,CAAC,MAAM,cAAQ,EAAA,OAAA,MAAM,CAAC,MAAM,CAAC;AACvD,QAAY,UAAU,EAAE,SAAS;AACjC,QAAY,KAAK,EAAE;AACnB,KAAS,EAAEC,QAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAA,EAAA,CAAC;AACxC,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,QAAA,GAAA,SAAA,QAAA,EAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;AACrC,IAAQH,IAAI,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;;AAEnD;AACA,IAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,KAAK,IAAI,QAAQ,CAAC,KAAK,EAAE;AACvD,QAAY,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AAChF,QAAYE,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC;;AAElE,QAAY,IAAI,CAAC,OAAO,CAAC;AACzB,YAAgB,IAAI,EAAE,cAAc;AACpC,YAAgB,KAAK,EAAE,KAAK;AAC5B,YAAgB,KAAK,EAAE,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG;AAClD,SAAa,CAAC;;AAEd,QAAY,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;AAC7D;;AAEA,IAAQA,IAAM,SAAS,GAAG,EAAE;;AAE5B,IAAQ,KAAKF,IAAI,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE;AACxE,QAAY,SAAS,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC5E;;AAEA,IAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;AAC5B,QAAY,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAK,GAAG,KAAK,GAAG,CAAC;AACpD;;AAEA,IAAQ,OAAO,EAAE;AACjB,QAAY,IAAI,EAAE,MAAM;AACxB,QAAY,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC;AAC1C,QAAY,KAAK,EAAE,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG;AAC9C,KAAS,EAAE;AACP,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,iBAAA,GAAA,SAAA,iBAAA,EAAkB,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE;AAC9C,IAAQE,IAAM,KAAK,GAAG,EAAE;;AAExB,IAAQA,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,MAAM,EAAE;AAC/D,QAAY,OAAO,MAAM,CAAC,KAAK,KAAK,QAAQ,CAAC,KAAK;AAClD,KAAS,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;;AAEnB,IAAQA,IAAM,KAAK,GAAG,MAAM,IAAI,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK;AAC5E,IAAQA,IAAM,QAAQ,GAAG,MAAM,GAAG,MAAM,CAAC,mBAAmB,IAAI,MAAM,CAAC,yBAAyB,GAAG,IAAI;AACvG,IAAQA,IAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;AACpC,QAAY,KAAK,EAAE,KAAK;AACxB,QAAY,KAAK,EAAE,QAAQ,CAAC,KAAK;AACjC,QAAY,KAAK,EAAE,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,KAAK;AAC3F,QAAY,UAAU,EAAE,QAAQ,CAAC,UAAU;AAC3C,QAAY,KAAK,EAAE,QAAQ,CAAC;AAC5B,KAAS,EAAE,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;AAE/C,IAAQA,IAAM,KAAK,GAAG,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,IAAO,KAAK,GAAA,IAAA,IAAO,QAAQ,CAAC,OAAQ;;AAEpF,IAAQ,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AACjC,QAAY,KAAK,EAAE,KAAK;AACxB,QAAY,UAAU,EAAE,SAAS;AACjC,QAAY,KAAK,EAAE,MAAM;AACzB,QAAY,OAAO,EAAE,CAAC,IAAI,CAAC,oBAAoB,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,KAAK,GAAG;AACrF,KAAS,EAAE,MAAM,CAAC,sBAAsB,CAAC,CAAC;;AAE1C,IAAQ,IAAI,IAAI,CAAC,oBAAoB,EAAE;AACvC,QAAY,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,MAAM,EAAE,KAAK,EAAE;AACzD,YAAgB,IAAI,KAAK,GAAG,CAAC,EAAE;AAC/B,gBAAoB,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AAC7C,oBAAwB,UAAU,EAAE,SAAS;AAC7C,oBAAwB,KAAK,EAAE,MAAM;AACrC,oBAAwB,KAAK,EAAE,MAAM,CAAC,yBAAyB;AAC/D,wBAA4B,MAAM,CAAC,yBAAyB,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACvI,wBAA4B;AAC5B,iBAAqB,EAAE,MAAM,CAAC,sBAAsB,CAAC,CAAC;AACtD;AACA,SAAa,CAAC;AACd;;AAEA,IAAQ,OAAO,KAAK;AAChB,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,SAAA,GAAA,SAAA,SAAA,EAAU,SAAS,EAAE,KAAK,EAAE;AAChC,IAAQA,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;AACnC,IAAQA,IAAM,IAAI,GAAG,EAAE;;AAEvB,IAAQ,KAAKF,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,SAAS,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;AACzD,QAAY,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AAC9E;;AAEA,IAAQ,OAAO,IAAI;AACf,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,cAAA,GAAA,SAAA,cAAA,IAAiB;AACrB,IAAQE,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;AACnC,IAAQA,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI;AAC9B,IAAQA,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS;AAClD,IAAQA,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,IAAI,aAAa;AAC7D,IAAQA,IAAM,SAAS,GAAG,IAAI,CAAC,kBAAkB,EAAE;AACnD,IAAQA,IAAM,IAAI,GAAG,EAAE;AACvB,IAAQA,IAAM,OAAO,GAAG,EAAE;AAC1B,IAAQF,IAAI,aAAa,GAAG,CAAC;AAC7B,IAAQA,IAAI,cAAc;;AAE1B,IAAQ,IAAI,CAAC,SAAS,EAAE;AACxB,QAAY,IAAI,CAAC,WAAW,GAAG,KAAK;AACpC;;AAEA,IAAQ,KAAKA,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;AACpD,QAAYE,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;AAClC,QAAYA,IAAM,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,GAAG,CAAC;;AAE9C,QAAY,IAAI,SAAS,EAAE;AAC3B,YAAgB,IAAI,KAAK,GAAG,aAAa,EAAE;AAC3C,gBAAoB,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,cAAc,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC;AAC9E,aAAiB,MAAM,IAAI,KAAK,GAAG,aAAa,EAAE;AAClD,gBAAoB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AAC3F;;AAEA,YAAgB,aAAa,GAAG,KAAK;AACrC,YAAgB,cAAc,GAAG,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC;AAClD;;AAEA,QAAY,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;AACxE;;AAEA,IAAQ,IAAI,SAAS,EAAE;AACvB,QAAY,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;;AAE/E,QAAYA,IAAM,aAAa,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE;AACtF,QAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;AACrE;;AAEA,IAAQ,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;;AAErC,IAAQ,OAAO,IAAI;AACf,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,SAAA,oBAAA,EAAqB,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE;AACvD,IAAQA,IAAM,IAAI,GAAG,EAAE;AACvB,IAAQ,OAAO,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,YAAY,EAAE;AACpF,QAAYA,IAAM,MAAM,GAAG,OAAO,CAAC,GAAG,EAAE;AACxC,QAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE,KAAK,CAAC,CAAC;AACjG;;AAEA,IAAQ,OAAO,IAAI;AACf,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,SAAA,kBAAA,IAAqB;AACzB,IAAQA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO;AACpC,IAAQ,KAAKF,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;AACvD,QAAY,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,cAAc,EAAE;AAC7C,YAAgB,OAAO,IAAI;AAC3B;AACA;AACI,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,gBAAA,GAAA,SAAA,gBAAA,EAAiB,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE;AAC/C,IAAQE,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,MAAM,EAAE,KAAK,EAAE;AAC/D,QAAYA,IAAM,OAAO,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,KAAK,GAAG,CAAC;AACzD,QAAY,IAAI,MAAM,CAAC,cAAc,EAAE;AACvC,YAAgBA,IAAM,eAAe,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,MAAM,CAAC,KAAK,CAAC;AACxE,YAAgB,OAAO,MAAM,CAAC,MAAM,CAAC;AACrC,gBAAoB,UAAU,EAAE,SAAS;AACzC,gBAAoB,KAAK,EAAE,MAAM;AACjC,gBAAoB,OAAO,EAAE,OAAO;AACpC,gBAAoB,KAAK,EAAE,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,eAAe,CAAC;AAC3G,aAAiB,EAAE,MAAM,CAAC,iBAAiB,CAAC;AAC5C;;AAEA,QAAY,OAAO,MAAM,CAAC,MAAM,CAAC;AACjC,YAAgB,UAAU,EAAE,SAAS;AACrC,YAAgB,KAAK,EAAE,MAAM;AAC7B,YAAgB,OAAO,EAAE;AACzB,SAAa,EAAE,MAAM,CAAC,iBAAiB,CAAC;AACxC,KAAS,CAAC;;AAEV,IAAQ,OAAO;AACf,QAAY,IAAI,EAAE,QAAQ;AAC1B,QAAY,KAAK,EAAE,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AAChE,QAAY,KAAK,EAAE,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG;AAC9C,KAAS;AACL,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,OAAA,GAAA,SAAA,OAAA,EAAQ,QAAQ,EAAE,KAAK,EAAE;AAC7B,IAAQA,IAAM,IAAI,GAAG,EAAE;AACvB,IAAQA,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAA,UAAC,QAAU,EAAA,OAAA,MAAM,CAAC,mBAAA,CAAA,EAAmB,CAAC;;AAE9E,IAAQF,IAAI,YAAY,EAAE,KAAK;AAC/B,IAAQ,IAAI,MAAM,EAAE;AACpB,QAAY,KAAK,GAAG;AACpB,YAAgB,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK;AAC9C,gBAAoB,KAAK,EAAE,QAAQ,CAAC,KAAK;AACzC,gBAAoB,KAAK,EAAE,QAAQ,CAAC,KAAK;AACzC,SAAa;AACb,QAAY,YAAY,GAAG,EAAE;AAC7B,QAAY,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAA,GAAA,EAAO;AAC5D,YAAgB,YAAY,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC;AACtF,SAAa,CAAC;AACd;;AAEA,IAAQE,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAA,UAAE,MAAM,EAAK;AACnD,QAAY,IAAI,MAAM,CAAC,mBAAmB,EAAE;AAC5C,YAAgBF,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,EAAE,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC;AACpG,YAAgB,OAAO,MAAM,CAAC,MAAM,CAAC;AACrC,gBAAoB,UAAU,EAAE,SAAS;AACzC,gBAAoB,KAAK,EAAE,MAAM;AACjC,gBAAoB,KAAK,EAAE,MAAM,CAAC,mBAAmB,CAAC,IAAI;AAC1D,aAAiB,EAAE,MAAM,CAAC,sBAAsB,CAAC;AACjD;;AAEA,QAAY,OAAO,MAAM,CAAC,MAAM,CAAC;AACjC,YAAgB,UAAU,EAAE,SAAS;AACrC,YAAgB,KAAK,EAAE;AACvB,SAAa,EAAE,MAAM,CAAC,sBAAsB,CAAC;AAC7C,KAAS,CAAC;;AAEV,IAAQ,IAAI,MAAM,EAAE;AACpB,QAAY,IAAI,CAAC,IAAI,CAAC;AACtB,YAAgB,IAAI,EAAE,cAAc;AACpC,YAAgB,KAAK,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AACjF,YAAgB,KAAK,EAAE,IAAI,CAAC,WAAW,GAAG,KAAK,GAAG;AAClD,SAAa,CAAC;AACd;;AAEA,IAAQ,OAAO,IAAI;AACf,CAAC;;wBAED,gBAAgB,GAAA,SAAA,gBAAA,EAAC,MAAM,EAAE;AAC7B,IAAQ,OAAO,IAAI,CAAC,eAAe,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,KAAK,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,OAAO,CAAC;AAC1F,CAAC;;wBAED,eAAe,GAAA,SAAA,eAAA,EAAC,OAAO,EAAE;;;AAC7B,IAAQ,OAAO,OAAO,CAAC,MAAM,CAAC,UAAC,MAAM,EAAK;AAC1C,QAAYA,IAAI,UAAU,GAAG,MAAM,CAAC,UAAU;AAC9C,QAAY,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE;AAChD,YAAgB,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,KAAK;AACpD;;AAEA,QAAYE,IAAM,eAAe,GAAG,CAAC,MAAM,CAAC,MAAM,IAAI,UAAU,KAAK,KAAK;AAC1E,QAAYA,IAAM,mBAAmB,GAAG,MAAM,CAAC,MAAM,IAAI,UAAU,KAAK,IAAI;AAC5E,QAAYF,IAAI,OAAO,GAAG,eAAe,IAAI,mBAAmB;AAChE,QAAY,IAAI,OAAO,IAAI,MAAM,CAAC,OAAO,EAAE;AAC3C,YAAgB,OAAO,GAAGG,QAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC;AACzE;AACA,QAAY,OAAO,OAAO;AAC1B,KAAS,CAAC;AACN,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,UAAA,GAAA,SAAA,UAAA,EAAW,GAAG,EAAE,MAAM,EAAE;;;AAC5B,IAAQD,IAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE;AACrD,QAAY,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE;AACvC,YAAgB,OAAO,EAAE,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC;AAC5D,YAAgB,OAAO,EAAE,GAAG,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,GAAG;AAC1E,SAAa,CAAC;AACd,KAAS,CAAC;;AAEV,IAAQ,IAAI,IAAI,CAAC,SAAS,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;AACpD,QAAY,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,EAAE;AAC/C;;AAEA,IAAQ,OAAO;AACf,QAAY,IAAI,EAAE,QAAQ;AAC1B,QAAY,KAAK,EAAE,WAAW,CAAC,MAAM,CAAC,MAAM,EAAA,YAAQ,EAAA,OAAA,MAAM,CAAC,MAAM,CAAC;AAClE,YAAgB,UAAU,EAAE,SAAS;AACrC,YAAgB,KAAK,EAAE;AACvB,SAAa,EAAEC,QAAI,CAAC,OAAO,CAAC,wBAAwB,CAAA,CAAA,EAAC,CAAC,CAAC,MAAM,CAAC,OAAO;AACrE,KAAS;AACL,CAAC;;wBAED,kBAAkB,GAAA,SAAA,kBAAA,EAAC,IAAI,EAAE;AAC7B,IAAQD,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM;;AAElC,IAAQA,IAAM,UAAU,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;;AAElE,IAAQ,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;;AAEjE,IAAQ,KAAKF,IAAI,GAAG,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE;AAC/D,QAAY,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;AAClE;AACI,CAAC;;wBAED,kBAAkB,GAAA,SAAA,kBAAA,EAAC,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE;AAC7D,IAAQE,IAAM,GAAG,GAAG,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AACtD,IAAQF,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC;AAC1C,IAAQA,IAAI,YAAY,GAAG,CAAC;;AAE5B,IAAQ,KAAKA,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;AACvD,QAAYE,IAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC;AACvC,QAAY,IAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE;;AAE/C,YAAgBA,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;AAC3C,gBAAoB,UAAU,EAAE,SAAS;AACzC,gBAAoB,KAAK,EAAE,MAAM;AACjC,gBAAoB,KAAK,EAAE,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,KAAK;AACvD,gBAAoB,OAAO,EAAE,CAAC;AAC9B,gBAAoB,SAAS,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,IAAI,UAAU,CAAC,SAAS;AAChF,aAAiB,EAAE,MAAM,CAAC,iBAAiB,CAAC;AAC5C,YAAgB,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;;AAEpC,YAAgB,IAAI,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;AAC7D,gBAAoB,IAAI,CAAC,QAAQ,EAAE;AACnC,oBAAwB,QAAQ,GAAG,EAAE,OAAO,EAAE,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE;AAChF,oBAAwB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC3C;AACA,gBAAoB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM;AACjG,gBAAoB,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,CAAC;AACjF,gBAAoB,YAAY,IAAI,IAAI,CAAC,OAAO,GAAG,CAAC;AACpD,gBAAoB,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK;AACzD;AACA;AACA;;AAEA,IAAQ,IAAI,UAAU,EAAE;AACxB,QAAY,UAAU,CAAC,OAAO,IAAI,YAAY;AAC9C;AACI,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,KAAA,GAAA,SAAA,KAAA,IAAQ;;;AACZ,IAAQA,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;;AAEjD,IAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACjC,QAAY,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;AACzC,QAAYF,IAAI,MAAM,GAAG,KAAK;;AAE9B,QAAYE,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAA,UAAE,MAAM,EAAK;AACvD,YAAgB,IAAI,MAAM,CAAC,cAAc,EAAE;AAC3C,gBAAoB,MAAM,GAAG,IAAI;;AAEjC,gBAAoB,OAAO,MAAM,CAAC,MAAM,CAAC;AACzC,oBAAwB,UAAU,EAAE,SAAS;AAC7C,oBAAwB,KAAK,EAAE,MAAM;AACrC,oBAAwB,KAAK,EAAE,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAEC,QAAI,CAAC,UAAU,EAAEA,QAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACtH,iBAAqB,EAAE,MAAM,CAAC,iBAAiB,CAAC;AAChD;;AAEA,YAAgB,OAAO,MAAM,CAAC,MAAM,CAAC;AACrC,gBAAoB,UAAU,EAAE,SAAS;AACzC,gBAAoB,KAAK,EAAE;AAC3B,aAAiB,EAAE,MAAM,CAAC,iBAAiB,CAAC;AAC5C,SAAa,CAAC;;AAEd,QAAY,IAAI,MAAM,EAAE;AACxB,YAAgB,IAAI,CAAC,IAAI,CAAC;AAC1B,gBAAoB,IAAI,EAAE,QAAQ;AAClC,gBAAoB,KAAK,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK;AACpF,aAAiB,CAAC;AAClB;AACA;;AAEA,IAAQ,OAAO,IAAI;AACf,CAAC;;wBAED,YAAY,GAAA,SAAA,YAAA,EAAC,OAAO,EAAE;AAC1B,IAAQD,IAAM,MAAM,GAAG,CAAC;AACxB,IAAQF,IAAI,GAAG,GAAG,CAAC;;AAEnB,IAAQ,KAAKA,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,EAAE;AACvD,QAAY,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE;AACtC,YAAgBE,IAAM,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;AACpE,YAAgB,IAAI,IAAI,GAAG,GAAG,EAAE;AAChC,gBAAoB,GAAG,GAAG,IAAI;AAC9B;AACA;AACA;AACA,IAAQ,OAAO,MAAM,GAAG,GAAG;AACvB,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,WAAA,GAAA,SAAA,WAAA,IAAc;AAClB,IAAQA,IAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;;AAExE,IAAQA,IAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,MAAM,EAAE;AAClH,QAAY,OAAO,MAAM,CAAC,MAAM;AAChC,KAAS,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM;;AAEpB,IAAQ,OAAO;AACf,QAAY,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;AAChD,QAAY,QAAQ,EAAE,QAAQ,GAAG,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG;AACjE,KAAS;AACL,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,KAAA,GAAA,SAAA,KAAA,EAAM,QAAQ,EAAE,MAAM,EAAE;AAC5B,IAAQ,OAAO,MAAM,CAAC,MAAM,CAAC;AAC7B,QAAY,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,QAAQ;AACxC,KAAS,EAAE,MAAM,CAAC,WAAW,CAAC;AAC1B,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,MAAA,GAAA,SAAA,MAAA,IAAS;AACb,IAAQF,IAAI,KAAK,GAAG,CAAC;;AAErB,IAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;AAC5B,QAAY,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK;AACxC,KAAS,MAAM;AACf,QAAY,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM;AACtC;;AAEA,IAAQ,OAAO,KAAK;AAChB,CAAC;;AAED,aAAA,CAAA,SAAA,CAAA,QAAA,GAAA,SAAA,QAAA,IAAW;AACf,IAAQE,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;AACnC,IAAQA,IAAM,OAAO,GAAG,WAAW,CAAC,KAAK,EAAA,YAAQ,EAAA,QAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAA,EAAC,CAAC;;AAEjE,IAAQ,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,MAAM,EAAE;AAChE,QAAY,OAAO;AACnB,YAAgB,KAAK,EAAE,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,CAAC;AACjD,YAAgB,SAAS,EAAE,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG;AAClD,SAAa;AACb,KAAS,CAAC,CAAC;AACP,CACH;;ACzhBDF,IAAI,OAAO,GAAG;AACd,IAAI,QAAQ,EAAA,UAAG,KAAK,WAAK,KAAK,CAAA;AAC9B,CAAC;;AAED,IAAM,WAAW,GAAA,SAAA,WAAA,IAAA;;AACb,WAAO,CAAA,QAAA,GAAA,SAAA,QAAA,EAAS,kBAAkB,EAAE;AACxC,IAAQ,OAAO,GAAG,kBAAkB;AAChC,CAAC;;AAED,WAAA,CAAO,QAAQ,GAAA,SAAA,QAAA,EAAC,KAAK,EAAE,MAAM,EAAE;AACnC,IAAQ,OAAO,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC;AAC1C,CACH;;ACVc,SAAS,SAAS,GAAG;AACpC,IAAI,OAAO,IAAI,KAAK,EAAE;AACtB;;ACJA;;AAEA;AACA,SAAS,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;AACnC,IAAI,OAAO,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;AAC7D,SAAS,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AAC7D,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;AACtE,QAAQ,CAAC,GAAG,KAAK;AACjB;;AAEA;AACA;AACAE,IAAM,SAAS,GAAG,gBAAgB,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;;AAE/C,SAAS,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE;AACrC,IAAI,OAAO,gBAAgB,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,GAAG,SAAS;AAC1D;;AAEA,SAAS,QAAQ,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;AAClC,IAAI,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE;AACxD;;AAEe,SAAS,YAAY,CAAC,IAAI,EAAE;AAC3C,IAAIA,IAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE;AACzC,QAAQ,IAAI,CAAC,UAAU,EAAE;AACzB,QAAQ,IAAI,CAAC,UAAU,EAAE;AACzB,QAAQ,IAAI,CAAC,eAAe,EAAE,CAAC;AAC/B,IAAIA,IAAM,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE;AAC9C,QAAQ,IAAI,CAAC,QAAQ,EAAE;AACvB,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;AACvB,IAAI,OAAO,MAAM,GAAG,CAAC,GAAG,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,MAAM,GAAG,IAAI;AACzD;;AC1BAA,IAAM,SAAS,GAAG,mEAAmE;AACrFA,IAAM,eAAe,GAAG,OAAQ,GAAA,SAAS,aAAU;AACnDA,IAAM,gBAAgB,GAAG,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE;AACnEA,IAAM,YAAY,GAAG,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,EAAE,MAAM,EAAE;AAC7DA,IAAM,mBAAmB,GAAG,EAAE,WAAW,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE;;AAE3E;;AAEA,SAAS,SAAS,CAAC,OAAO,EAAE;AAC5B,IAAI,OAAO,eAAe,GAAG,OAAO;AACpC;;AAEA,SAAS,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE;AAC/B,IAAI,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC;AAC/B;;AAEAA,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;;AAEvC,SAAS,GAAG,CAAC,GAAG,EAAE;AAClB,IAAI,OAAO,MAAM,CAAC,GAAG;AACrB,SAAS,OAAO,CAAC,IAAI,EAAE,OAAO;AAC9B,SAAS,OAAO,CAAC,IAAI,EAAE,MAAM;AAC7B,SAAS,OAAO,CAAC,IAAI,EAAE,MAAM;AAC7B,SAAS,OAAO,CAAC,KAAK,EAAE,QAAQ;AAChC,SAAS,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC;AAChC;;AAEA,SAAS,MAAM,CAAC,KAAK,EAAE,IAAI,EAAE;AAC7B,IAAIF,IAAI,GAAG,GAAG,EAAE;AAChB,IAAI,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,CAAC,EAAE;AACpC,QAAQ,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC;AACtB;AACA,IAAI,OAAO,GAAG;AACd;;AAEA,SAAS,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE;AAC5B,IAAIA,IAAI,GAAG,GAAG,EAAE;AAChB,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE;AACrB,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;AAChC,YAAY,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AACjD,gBAAgB,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AACtC;AACA,SAAS,MAAM,IAAI,OAAO,GAAG,IAAI,QAAQ,EAAE;AAC3C,YAAY,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAC,GAAG,EAAE,CAAC,EAAK;AACjD,gBAAgB,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;AAC7C,aAAa,CAAC;AACd;AACA;AACA,IAAI,OAAO,GAAG;AACd;;AAEAE,IAAM,OAAO,GAAG,2DAA2D;;AAE3EA,IAAM,IAAI,GAAM,OAAO,2nBAKM;;AAE7BA,IAAM,IAAI,GAAG,UAAA,GAA+C,EAA5C;AAAS,EAAA,IAAA,OAAA,GAAA,GAAA,CAAA,OAAA;AAAgB,EAAA,IAAA,cAAA,GAAA,GAAA,CAAA,cAAA;AAAS,EAAA,IAAA,OAAA,GAAA,GAAA,CAAA,OAAA;;;AAAkB,EAAA,QAAA,OAAO,+UAI1D,GAAG,CAAC,OAAO,CAAC,CAAA,GAAA,uCAAA,IACL,GAAG,CAAC,cAAc,EAAC,GACK,wEAAA,IAAA,GAAG,CAAC,OAAO,CAAA,CAAC,8EACX,GAAG,CAAC,QAAQ,CAAC,CAAA,GAAA,2CAAA;CACzC;;AAErBA,IAAM,GAAG,GAAG,UAAA,GAAW,EAAR;;;UAAgB,OAAO,GAAA,8dAAA,IAWrB,MAAM,CAAC,MAAA,CAAM,sHAKP,MAAM,CAAC,MAAM,CAAA,GAAA,wBAAA,IAC9B,OAAO,CAAC,MAAM,EAAE,UAAC,KAAK,EAAE,CAAC,WACvB,KAAK,CAAC,OAAO,CAAC;AACtB,aAAY,YAAA,IAAa,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAA,CAAC,GAAa,aAAA;AAC9D,aAA8B,iBAAA,IAAA,CAAC,GAAG,CAAA,CAAC,GAAa,aAAA,CAAA,CAAA;AAChD,OAAO,CAAA,GAAA,6MAAA;CAOO;;AAEdA,IAAM,aAAa,GAAG,UAAA,GAA2C,EAAxC;AAAY,EAAA,IAAA,UAAA,GAAA,GAAA,CAAA,UAAA;AAAc,EAAA,IAAA,YAAA,GAAA,GAAA,CAAA,YAAA;;;AAAsB,EAAA,QAAA,OAAO,GAW5E,q7BAAA,IAAA,MAAM,CAAC,UAAU,YAAE,GAAG,EAAA,EAAA,QACqB,2CAAA,IAAA,GAAG,GAAG,CAAC,CAAA,GAAA,qGAAA,EAAA,EAAkG,CAAC,CAAA,GAAA,MAAA,IACrJ,OAAO,CAAC,YAAY,EAAE,UAAA,QAAA,EACtB,EAAA,QAAA,2BAAA,GAA2B,QAAQ,GAAA,+FAAA,EAAA,EAA4F,EAAC,GAChI,MAAA,IAAA,OAAO,CAAC,YAAY,YAAE,QAAQ,EAAA,EAAA,QACM,oCAAA,GAAA,QAAQ,uFAA6E,CAAC,CAAA,GAAA,4QAAA;CAGrH;;AAETA,IAAM,QAAQ,GAAG,UAAA,GAAmC,EAAhC;AAAQ,EAAA,IAAA,MAAA,GAAA,GAAA,CAAA,MAAA;AAAa,EAAA,IAAA,WAAA,GAAA,GAAA,CAAA,WAAA;;;UAAmB,OAAO,GAAA,2bAAA,IAQ/D,OAAO,CAAC,MAAM,YAAc,GAAA,EAAE,CAAC,EAAK;;;AACxC,IAAIA,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,KAAK,KAAI,OAAA,IAAQ,CAAC,GAAG,GAAG;AACjE,IAAIA,IAAM,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,SAAS;AAC5C,IAAI,QAAuB,gBAAA,IAAA,GAAG,CAAC,IAAI,EAAC,GAAY,aAAA,GAAA,KAAK,GAAc,eAAA,IAAA,CAAC,GAAG,CAAC,CAAA,GAAA,eAAA,IAAc,CAAC,GAAG,CAAA,CAAC;AAC3F,GAAG,CAAA,CAAC,0BAEA,WAAW,CAAC,MAAM,IAAI,SAAS,CAAC,MAAM,sCAElC,OAAO,CAAC,WAAW,EAAE,UAAC,CAAC,EAAK,EAAA,QAAA,qFAAA,IAC0C,CAAC,CAAC,YAAA,CAAY,YAAK,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,GAAI,GAAA,IAAA,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAA,GAAA,GAAA,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,CAAA,CAAC,uBAAgB,CAAC,CAAA,GAAA,UAAA,IAC7J,OAAO,CAAC,SAAS,YAAG,CAAC,YACC,iCAAA,IAAA,CAAC,CAAC,IAAI,CAAA,GAAA,cAAA,IAAa,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,EAAC,GAAK,KAAA,IAAA,CAAC,CAAC,YAAY,IAAI,IAAI,IAAG,iBAAA,IAAiB,CAAC,CAAC,YAAA,CAAY,WAAM,EAAA,CAAE,UAAI,GAAG,CAAC,CAAC,CAAC,KAAK,EAAC,GAAgB,gBAAA,EAAA,EAAA,CAAA,CAAC,GACnJ,uBAAA,IAAG,EAAE,CAAA,GAAA,oEAAA;CAEb;;AAEZA,IAAM,SAAS,GAAG,UAAA,KAoBjB,EAnBG;AACA,EAAA,IAAA,aAAA,GAAA,KAAA,CAAA,aAAA;AACA,EAAA,IAAA,UAAA,GAAA,KAAA,CAAA,UAAA;AACA,EAAA,IAAA,OAAA,GAAA,KAAA,CAAA,OAAA;AACA,EAAA,IAAA,QAAA,GAAA,KAAA,CAAA,QAAA;AACA,EAAA,IAAA,IAAA,GAAA,KAAA,CAAA,IAAA;AACA,EAAA,IAAA,KAAA,GAAA,KAAA,CAAA,KAAA;AACA,EAAA,IAAA,UAAA,GAAA,KAAA,CAAA,UAAA;AACA,EAAA,IAAA,UAAA,GAAA,KAAA,CAAA,UAAA;AACA,EAAA,IAAA,MAAA,GAAA,KAAA,CAAA,MAAA;AACA,EAAA,IAAA,aAAA,GAAA,KAAA,CAAA,aAAA;AACA,EAAA,IAAA,UAAA,GAAA,KAAA,CAAA,UAAA;AACA,EAAA,IAAA,WAAA,GAAA,KAAA,CAAA,WAAA;AACA,EAAA,IAAA,kBAAA,GAAA,KAAA,CAAA,kBAAA;AACA,EAAA,IAAA,GAAA,GAAA,KAAA,CAAA,GAAA;AACA,EAAA,IAAA,aAAA,GAAA,KAAA,CAAA,aAAA;AACA,EAAA,IAAA,OAAA,GAAA,KAAA,CAAA,OAAA;AACA,EAAA,IAAA,OAAA,GAAA,KAAA,CAAA,OAAA;AACA,EAAA,IAAA,OAAA,GAAA,KAAA,CAAA,OAAA;;;AACK,EAAA,QAAA,OAAO,2VAEX,OAAO,IAAI,OAAO,IAAG,sBAAA,IAAsB,GAAG,CAAC,OAAO,GAAG,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAA,GAAA,OAAA,IAAS,EAAE,CAAA,GAAA,uCAAA,IAGrE,GAAG,GAAG,iBAAiB,GAAG,EAAA,CAAE,UAAK,KAAK,KAAK,CAAC,GAAG,iBAAiB,GAAG,EAAE,CAAA,GAAA,wBAAA,IAAuB,aAAa,KAAK,KAAK,GAAG,mBAAmB,GAAG,GAAE,GAC1J,UAAA,IAAA,UAAU,IAAI,aAAa,IAEvB,4CAAA,IAAA,aAAa,IAAc,WAAA,GAAA,aAAa,WAAM,EAAA,CAAE,GAChD,aAAA,IAAA,UAAU,IAAc,WAAA,GAAA,UAAU,WAAM,EAAA,CAAE,kCAC7B,MAAM,CAAC,YAAY,CAAC,EAAE,IAAI,aAAa,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,CAAA,CAAC,sBACnF,EAAA,CAAE,GAI4B,sFAAA,IAAA,CAAC,QAAQ,CAAC,gBAAgB,GAAG,kBAAkB,GAAG,GAAE,GAAsB,sBAAA,IAAA,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,GAAG,IAAI,GAAG,EAAE,CAAA,GAAA,WAAA,IACjK,QAAQ,CAAC,WAAW,IAAG,oBAAA,IAAoB,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAA,CAAC,WAAM,EAAA,CAAE,mBAElF,kBAAkB,IAAI,IAAI,KAAK,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,IAEzD,wBAAA,IAAA,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,IACO,kDAAA,GAAA,kBAAkB,2BAC7C,QAAQ,CAAC,WAAW,IAAG,UAAA,IAAU,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAC,GAAG,IAAA,IAAG,GAAE,GAAM,MAAA,IAAG,GAAE,GACxF,WAAA,IAAA,OAAO,CAAC,OAAO,EAAA,UAAG,MAAM,EAAE,EAAE,EAAK;AAC1C,SAASA,IAAM,WAAW,GAAG,OAAO,MAAM,CAAC,KAAK,KAAK,QAAQ,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AAC3F,SAAS,IAAI,MAAM,CAAC,KAAK,KAAK,CAAC,EAAE;AACjC,WAAW,QAAe,OAAA,IAAA,kBAAkB,IAAI,IAAI,IAAa,UAAA,GAAA,kBAAkB,GAAG,IAAA,IAAG,GAAE,GAC5D,kCAAA,GAAA,WAAW,GAAU,WAAA,GAAA,WAAW;AAC/D;AACA,SAAS,QAAe,OAAA,IAAA,kBAAkB,IAAI,IAAI,iBAAa,kBAAkB,GAAA,IAAA,IAAM,EAAA,CAAE,sCAC5D,WAAW,GAAA,WAAA,GAAU,WAAW,GACrC,8CAAA,IAAA,MAAM,CAAC;AAC/B,2CAAsC,CAAC,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,IAAI,IAAG,GAAe,kBAAA;AAC7F,6BAA4B,UAAA,IAAU,OAAO,CAAC,MAAM,CAAC,KAAK,CAAA,CAAC,GAAG,IAAA,CAAA,CAAA,GAAA,KAAA;AAC9D,QAAQ,CAAC,CAAA,GAAA,gBAAA,IACO,EAAA,CAAE,GAGX,2BAAA,IAAA,OAAO,CAAC,IAAI,EAAE,UAAC,GAAG,EAAE,EAAE,EAAK;AAClC,OAAOA,IAAM,QAAQ,GAAG,OAAO,GAAG,CAAC,KAAK,KAAK,QAAQ,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AAChF,OAAO,iCACY,QAAQ,GAAA,6CAAA,IACX,GAAG,CAAC,KAAK,IAAG,iBAAA,IAAiB,GAAG,CAAC,MAAK,GAAG,IAAA,IAAG,GAAE,GAC9C,kBAAA,IAAA,GAAG,CAAC,MAAM,KAAK,CAAC,GAAG;AACnC,mCAAmC,GAAG,CAAC,MAAM,IAAU,OAAA,IAAA,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAA,CAAC,8BAAuB,EAAA,CAAE,uBACvF,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,UAAC,IAAI,EAAK,EAAA,QAAA,wBAAA,IACpB,IAAI,CAAC,GAAA,CAAG,YAAK,IAAI,CAAC,KAAK,IAAG,MAAA,IAAM,IAAI,CAAC,KAAA,CAAK,WAAM,EAAA,CAAE,UAAI,IAAI,CAAC,IAAI,cAAS,IAAI,CAAC,KAAI,GAAG,IAAA,IAAG,GAAE,GAC7F,oBAAA,IAAA,IAAI,CAAC,OAAO,IAAI,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAA,GAAA,mBAAA,IACtD,IAAI,CAAC,KAAK,IAAI,IAAI,aAAS,GAAG,CAAC,IAAI,CAAC,KAAK,EAAC,GAAM,MAAA,IAAG,GAAE,GACpD,qBAAA,EAAA,EAAA,CAAA,CAAC;AAGnB,CAAC,EAAC,GAGG,0BAAA,IAAA,gBAAgB,GAAG,8DAAwD,GAAG,GAAE,GAEhF,SAAA,IAAA,UAAU,IAAG,oBAAA,IAAoB,UAAU,CAAC,IAAA,CAAI,UAAI,UAAU,CAAC,GAAE,GAAK,MAAA;AAC3E,kBAAkB,MAAM,GAAG,kBAAkB,CAAC,MAAM,CAAC,GAAG,GAAE,GAErD,SAAA,IAAA,UAAU,CAAC,MAAM,qCACI,UAAU,CAAC,OAAM,GAClC,cAAA,IAAA,OAAO,CAAC,UAAU,EAAE,UAAC,GAAG,EAAK,EAAA,QAAA,mBAAA,GAAmB,GAAG,GAAK,MAAA,EAAA,EAAA,CAAA,CAAC,6BAC5C,EAAA,CAAE,gBAEnB,WAAW,CAAC,MAAM,IAAG,mCAAA,IAEjB,OAAO,CAAC,WAAW,YAAG,GAAG,EAAK,EAAA,QAAA,qCAAA,IACL,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAA,CAAC,yDACR,GAAG,CAAC,iBAAgB,GAChC,sCAAA,IAAA,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA,GAAA,+BAAA,IAClB,GAAG,CAAC,IAAI,KAAK,MAAM,IAAG,aAAA,IAAa,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAA,CAAC,WAAM,EAAA,CAAE,iDACjD,GAAG,CAAC,WAAU,GACZ,8CAAA,IAAA,GAAG,CAAC,YAAY,CAAA,GAAA,+BAAA,IAC9B,GAAG,CAAC,KAAK,IAAG,UAAA,IAAU,GAAG,CAAC,GAAG,CAAC,KAAK,EAAC,GAAG,IAAA,IAAG,GAAE,GAC5C,6BAAA,IAAA,GAAG,CAAC,UAAU,uBAAkB,GAAG,CAAC,GAAG,CAAC,UAAU,EAAC,GAAG,IAAA,IAAG,EAAE,CAAA,GAAA,gBAAA,IACzE,GAAG,CAAC,QAAQ,IAAG,YAAA,IAAa,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAA,CAAC,oBAAgB,EAAA,CAAE,sBAC/D,GAAG,CAAC,QAAQ,IAAG,YAAA,IAAa,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA,GAAA,aAAA,IAAgB,EAAE,CAAA,GAAA,8BAAA,EAAA,EACjD,EAAC,GACJ,2BAAA,IAAG,GAAE,GAExB,SAAA,IAAA,UAAU,CAAC,MAAM,sCAEb,OAAO,CAAC,UAAU,EAAE,UAAC,IAAI,EAAK,EAAA,QAAA,8BAAA,IACZ,IAAI,CAAC,GAAG,CAAA,GAAA,YAAA,IAAW,IAAI,CAAC,GAAA,CAAG,aAAK,CAAC,CAAA,GAAA,sBAAA,IACtC,EAAE,CAAA,GAAA,mHAAA,IAGnB,OAAO,IAAG,kBAAA,GAAkB,OAAO,GAAK,MAAA,IAAG,GAAE,GAC7C,OAAA,IAAA,aAAa,IAA2B,wBAAA,GAAA,aAAa,GAAK,MAAA,IAAG,EAAE,CAAA,GAAA,gBAAA;CACvD;;AAEbA,IAAM,aAAa,GAAG,UAAA,GAAU,EAAP;;;UAAe,OAAO,GAAA,8FAAA,IAE3C,MAAM,CAAC,KAAK,EAAA,UAAG,GAAG,EAAA,EAAA,QACK,8BAAA,IAAA,GAAG,GAAG,CAAA,CAAC,4HAAkH,GAAG,GAAG,CAAC,CAAA,GAAA,WAAA,EAAA,EAAU,CAAC,CAAA,GAAA,4BAAA,IAC7I,KAAK,GAAG,CAAC,CAAA,GAAA,2IAAA,IACT,KAAK,GAAG,CAAC,CAAA,GAAA,iJAAA;CACjB;;AAEjBA,IAAM,cAAc,GAAG,UAAA,GAA+C,EAA5C;AAAY,EAAA,IAAA,UAAA,GAAA,GAAA,CAAA,UAAA;AAAU,EAAA,IAAA,QAAA,GAAA,GAAA,CAAA,QAAA;AAAY,EAAA,IAAA,UAAA,GAAA,GAAA,CAAA,UAAA;;;UAAkB,OAAO,GAAA,8FAAA,IAEjF,OAAO,CAAC,UAAU,YAAG,IAAI,EAAK,EAAA,QAAA,2BAAA,IACV,IAAI,CAAC,IAAG,GAAkG,qGAAA,IAAA,GAAG,CAAC,IAAI,CAAC,MAAM,EAAC,GAA4B,+BAAA,EAAA,EAAA,CAAA,CAAC,GAC3K,MAAA,IAAA,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,IACM,kCAAA,GAAA,UAAU,qHAA4G,UAAU,GAAA,sCAAA,GACpI,UAAU,GAAA,4HAAA,GAAyH,UAAU,GAAA,UAAA,CAAA,CAAS,aAC7K,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,IACE,8BAAA,GAAA,UAAU,GAAmH,sHAAA,GAAA,UAAU,GAAS,UAAA,CAAA,CAAA,GAAA,oBAAA;CAC1J;;AAEjBA,IAAM,YAAY,GAAG,UAAA,GAAa,EAAV;;;AAAkB,EAAA,QAAA,OAAO,kKAM3C,OAAO,CAAC,QAAQ,EAAE,UAAA,OAAA,YACF,yBAAA,IAAA,OAAO,CAAC,GAAG,CAAA,GAAA,4PAAA,IAShB,GAAG,CAAC,OAAO,CAAC,IAAI,CAAA,CAAC,gEAGjB,CAAC,CAAA,GAAA,iCAAA;CAEN;;AAEZA,IAAM,cAAc,GAAG,UAAA,GAAa,EAAV;;;AAAe,EAAA,QAAA,4XAAA,IAQrC,OAAO,CAAC,QAAQ,YAAE,OAAO,EAAA,EAAA,4SAMT,OAAO,CAAC,OAAM,GAEjB,sEAAA,IAAA,OAAO,CAAC,GAAG,CAAA,GAAA,8BAAA,IACR,OAAO,CAAC,GAAA,CAAG,2DAEhB,CAAC,CAAA,GAAA,UAAA;CACT;;AAEPA,IAAM,YAAY,GAAA,UAAI,QAAQ,EAAQ,EAAA,QAAA,OAAO,GAIzC,4QAAA,IAAA,OAAO,CAAC,QAAQ,EAAE,UAAC,OAAO,EAAE,KAAK,EAAK,EAAA,QAAA,mFAAA,IAGvB,OAAO,CAAC,GAAG,CAAA,GAAA,kCAAA,IACR,OAAO,CAAC,SAAS,CAAA,GAAA,kCAAA,IACpB,OAAO,CAAC,IAAG,GACR,kCAAA,IAAA,OAAO,CAAC,SAAA,CAAS,GAElB,wDAAA,IAAA,OAAO,CAAC,KAAA,CAAK,GAAS,UAAA,IAAA,OAAO,CAAC,MAAA,CAAM,GAG9B,2EAAA,IAAA,KAAK,GAAG,CAAC,CAAA,GAAA,oBAAA,IAAmB,KAAK,GAAG,CAAC,CAAA,GAAA,+GAAA,IAInC,OAAO,CAAC,OAAO,CAAA,GAAA,8SAAA,EAAA,EAYnB,CAAC,CAAA,GAAA,eAAA,EAAA,EACd;;AAEZA,IAAM,iBAAiB,GAAA,UAAI,IAAI,YAAQ,OAAO,GAAA,8FAAA,IAE1C,OAAO,CAAC,IAAI,EAAA,UAAE,KAAO,EAAA,QAAA,2BAAA,IACD,GAAG,CAAC,GAAG,CAAA,GAAA,iGAAA,IAA8F,GAAG,CAAC,MAAM,CAAA,GAAA,MAAA,EAAA,EAAK,CAAC,CAAA,GAAA,oBAAA,EAAA,EAC5H;;AAEjBA,IAAM,cAAc,GAAG,UAAA,GAAgC,EAA7B;AAAO,EAAA,IAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AAAa,EAAA,IAAA,WAAA,GAAA,GAAA,CAAA,WAAA;;;AAAiB,EAAA,QAAA,OAAO,GACU,qFAAA,GAAA,KAAK,GAAkB,mBAAA,GAAA,WAAW,GAC9G,SAAA,IAAA,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAA,UAAG,KAAK,EAAK,EAAA,QAAA,sCAAA,IACX,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA,GAAA,WAAA,EAAA,EAAW,CAAC,CAAA,GAAA,UAAA;CAC9D;;AAEPA,IAAM,MAAM,GAAG,UAAA,GAMd,EALG;AACA,EAAA,IAAA,OAAA,GAAA,GAAA,CAAA,OAAA;AACA,EAAA,IAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,EAAA,IAAA,KAAA,GAAA,GAAA,CAAA,KAAA;AACA,EAAA,IAAA,OAAA,GAAA,GAAA,CAAA,OAAA;;;AACK,EAAA,QAAA,OAAO,gTAMI,OAAO,CAAC,MAAM,CAAA,GAAA,SAAA,IAC9B,OAAO,CAAC,OAAO,EAAE,UAAC,MAAM,EAAE,EAAE,EAAK,EAAA,QAAA,6BAAA,IACX,GAAG,CAAC,MAAM,CAAC,MAAM,EAAC,GAAe,gBAAA,IAAA,GAAG,GAAG,EAAA,CAAE,cAAM,CAAC,CAAA,GAAA,mCAAA,IAExD,KAAK,CAAC,MAAM,GAAG,CAAA,CAAC,GAQ5B,kNAAA,IAAA,OAAO,CAAC,KAAK,EAAA,UAAG,IAAI,YAElB,sBAAA,IAAA,IAAI,CAAC,IAAI,GAAG,MAAM,GAAG,EAAE,CAAA,GAAA,UAAA,IACvB,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,EAAE,CAAA,GAAA,UAAA,IACzB,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,EAAA,CAAE,2BACnB,IAAI,CAAC,QAAQ,IAAI,GAAE,GAC5B,eAAA,IAAA,IAAI,CAAC,KAAK,uBAAkB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,GAAA,OAAA,IAAS,qBAAA,CAAqB,iBACzE,IAAI,CAAC,UAAU,gCACF,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA,GAAA,6CAAA,IAE/B,4GAAA,CAIH,sBACK,CAAC,CAAA,GAAA,iCAAA,IAEK,KAAK,CAAC,MAAM,GAAG,CAAA,CAAC,GAG5B,8HAAA,IAAA,OAAO,CAAC,KAAK,EAAA,UAAG,IAAI,EAAA,EAAA,sBAClB,IAAI,CAAC,UAAU,wGAGO,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA,GAAA,yDAAA,IAGxC,EAAA,CAAA,EAAA,EAAI,EAAC,GAEK,mCAAA,IAAA,OAAO,CAAC,MAAM,GAAG,CAAC,CAAA,GAAA,2EAAA,IAEhC,OAAO,CAAC,OAAO,EAAE,cAAc,CAAC,CAAA,GAAA,2IAAA,IAKlB,MAAM,CAAC,MAAM,GAAG,CAAA,CAAC,iGAE/B,OAAO,CAAC,MAAM,EAAE,UAAC,KAAK,EAAK,EAAA,QAAA,oCAAA,IAErB,KAAK,CAAC,MAAM,IAAG,WAAA,IAAW,KAAK,CAAC,OAAM,GAAiB,oBAAA,IAAG,EAAE,CAAA,GAAA,cAAA,IAC5D,KAAK,CAAC,MAAM,IAAG,WAAA,IAAW,KAAK,CAAC,MAAA,CAAM,GAAiB,oBAAA,IAAG,GAAE,GAC5D,cAAA,IAAA,KAAK,CAAC,QAAQ,IAAgB,aAAA,IAAA,KAAK,CAAC,QAAA,CAAQ,mCAA4B,EAAA,CAAE,GAC1E,cAAA,IAAA,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,IAAI,GAAG,oBAAoB,GAAG,EAAE,CAAA,GAAA,cAAA,IAChF,KAAK,CAAC,QAAQ,IAAG,aAAA,IAAa,KAAK,CAAC,QAAA,CAAQ,GAAmB,sBAAA,IAAG,GAAE,GACpE,cAAA,IAAA,KAAK,CAAC,QAAQ,IAAI,IAAI,GAAG,uBAAqB,GAAG,GAAE,GACrD,aAAA,IAAA,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,IAAI,IAElD,kCAAA,IAAA,KAAK,CAAC,SAAS,IAAkB,eAAA,IAAA,GAAG,CAAC,KAAK,CAAC,SAAS,CAAA,CAAC,WAAM,EAAA,CAAE,GAC7D,cAAA,IAAA,KAAK,CAAC,aAAa,IAAgB,aAAA,IAAA,GAAG,CAAC,KAAK,CAAC,aAAa,CAAA,CAAC,WAAM,EAAA,CAAE,qBACnE,KAAK,CAAC,MAAM,IAAG,WAAA,IAAW,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA,GAAA,IAAA,IAAM,EAAE,CAAA,GAAA,cAAA,IACnD,KAAK,CAAC,IAAI,GAAG,cAAc,GAAG,EAAA,CAAE,sBAChC,EAAA,CAAE,GACJ,YAAA,IAAA,KAAK,CAAC,QAAQ,IAAI,IAAI,yCACF,KAAK,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAA,CAAC,wBACxC,EAAA,CAAE,4BAET,CAAC,CAAA,GAAA,gRAAA;CAOQ;;AAEd,SAAS,YAAY,CAAC,OAAO,EAAE;AAC/B,IAAI,IAAI,OAAO,OAAO,IAAI,QAAQ,EAAE;AACpC,QAAQ,QAAa,KAAA,IAAA,GAAG,CAAC,OAAO,CAAA,CAAC;AACjC;AACA;AACA,IAAI,QAAO,uBAAA,IAAqB,OAAO,CAAC,GAAG,CAAA,GAAA,KAAA,IAAK,GAAG,CAAC,OAAO,CAAC,GAAG,CAAA,CAAC;AAChE;;AAEA,SAAS,OAAO,CAAC,QAAQ,EAAE;AAC3B,GAAGA,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,GAAG,CAAC;;AAE/C,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,MAAM,CAAC,YAAY,CAAC,EAAE,IAAI,QAAQ,GAAG,EAAE,CAAC,CAAC;AAC1F;;AAEA,SAAS,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE;AACjC,IAAI,OAAO,OAAO,CAAC,QAAQ,CAAC,IAAI,QAAQ,GAAG,CAAC,CAAC;AAC7C;;AAEA,SAAS,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE;AAClC,IAAI,OAAO,GAAG,GAAG,OAAO,CAAC,QAAQ,CAAC,GAAG,GAAG,IAAI,QAAQ,GAAG,CAAC,CAAC;AACzD;;AAEA,SAAS,cAAc,CAAC,OAAO,EAAE;AACjC,IAAIA,IAAM,UAAU,GAAG,OAAO,CAAC,UAAU,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE,QAAQ,IAAI,CAAC;AACrF,IAAI,OAAO,UAAU,GAAG,CAAC;AACzB;;AAEA,SAAS,OAAO,CAAC,EAAE,EAAE;AACrB,IAAIA,IAAM,iBAAiB,GAAG,CAAC;AAC/B,IAAI,OAAO,CAAC,EAAE,GAAG,iBAAiB,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,iBAAiB,CAAC,GAAG,GAAG,CAAC;AACjF;;AAEA,SAAS,QAAQ,CAAC,EAAE,EAAE;AACtB,IAAI,OAAO,EAAE,GAAG,IAAI;AACpB;;AAEA,SAAS,eAAe,CAAC,KAAK,EAAE;AAChC,IAAI,OAAO,MAAM,CAAC,KAAK;AACvB,SAAS,OAAO,CAAC,+BAA+B,EAAE,EAAE,CAAC;AACrD,SAAS,OAAO,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AACnC;;AAEM,IAAA,SAAS,GAEX,SAAA,SAAW,CAAC,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,OAAO,EAAE;AACzD,MAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,MAAQ,IAAI,CAAC,QAAQ,GAAG,aAAa;AACrC,MAAQ,IAAI,CAAC,OAAO,GAAG,MAAM;AAC7B,MAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO;AAC/B,MAAQ,IAAI,CAAC,YAAY,GAAG,EAAE;AAC9B,MAAQ,IAAI,CAAC,SAAS,GAAG,EAAE;AAC3B,MAAQ,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,IAAI,EAAE;AAC/C,MAAQ,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE,EAAE,GAAG;AAC9D,UAAY,UAAC,IAAI,EAAE,CAAC,WAAK,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,YAAS,CAAG,CAAA,EAAE,CAAC,CAAA,EAAA,CAAC;AACtE;;AAEA,EAAA,SAAA,CAAA,SAAA,CAAI,kCAAY;AAChB,MAAQA,IAAM,UAAU,GAAG,IAAI,CAAC,WAAW;AAC3C,MAAQA,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS;AACvC,MAAQA,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS;;AAEvC,MAAQ,IAAI,UAAU,CAAC,MAAM,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,MAAM,EAAE;AACrE,UAAY,OAAO,cAAc,CAAC;AAClC,cAAgB,UAAU,GAAG,UAAU;AACvC,cAAgB,QAAQ,GAAK,QAAQ;AACrC,cAAgB,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU;AACpD,cAAgB,QAAQ,GAAK;AAC7B,WAAa,CAAC;AACd;AACA,GAAK;;AAEL,EAAI,SAAA,CAAA,SAAA,CAAA,KAAA,GAAA,SAAA,KAAA,EAAM,KAAK,EAAE;AACjB,MAAQA,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,EAAE;AACzD,MAAQA,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE;AAC5C,MAAQA,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,UAAU,CAAC;;AAE9C,MAAQ,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;;AAE7B,MAAQF,IAAI,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;AAC5C,MAAQA,IAAI,MAAM;AAClB,MAAQ,IAAI,UAAU,KAAK,OAAO,UAAU,CAAC,IAAI,KAAK,QAAQ,CAAC,KAAK,OAAO,UAAU,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE;AACxG;AACA,UAAY,UAAU,GAAG;AACzB,cAAgB,IAAI,EAAE,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC;AACxE,cAAgB,EAAE,EAAE,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,UAAU,CAAC,EAAE;AACnE,WAAa;AACb,OAAS,MAAM,IAAI,UAAU,IAAI,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,OAAO,EAAE;AACvE;AACA,UAAY,MAAM,GAAG,UAAU;AAC/B,UAAY,UAAU,GAAG,IAAI;AAC7B;;AAEA,MAAQE,IAAM,WAAW,GAAG,EAAE;AAC9B,MAAQ,KAAKF,IAAI,CAAC,IAAI,IAAI,CAAC,YAAY,EAAE;AACzC,UAAY,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE;AAC5E,cAAgB,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;AACtD;AACA;;AAEA,MAAQA,IAAI,kBAAkB,GAAG,IAAI;AACrC,MAAQA,IAAI,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB;AAC5D,MAAQ,IAAI,IAAI,CAAC,iBAAiB,EAAE;AACpC,UAAY,IAAI,CAAC,gBAAgB,EAAE;AACnC,cAAgB,gBAAgB,GAAG,EAAE,QAAQ,EAAE,KAAK,EAAE;AACtD,WAAa,MAAM;AACnB,cAAgB,gBAAgB,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE,gBAAgB,CAAC;AACvF;AACA;AACA,MAAQ,IAAI,gBAAgB,EAAE;AAC9B,UAAY,kBAAkB,GAAG,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC;AACpE;;AAEA,MAAQE,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;AACxD,MAAQA,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,EAAE;AACpD,MAAQA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC;AAClE,MAAQA,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC;;AAElE,MAAQ,OAAO,SAAS,CAAC;AACzB,UAAY,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,UAAU,CAAC,QAAQ;AAC5E,UAAY,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,IAAI,UAAU,CAAC,QAAQ;AACtE,UAAY,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO;AACzC,UAAY,QAAQ,EAAE,QAAQ;AAC9B,UAAY,IAAI,EAAE,IAAI;AACtB,UAAY,KAAK,EAAE,KAAK;AACxB,UAAY,UAAU,EAAE,UAAU;AAClC,UAAY,UAAU,EAAE,UAAU;AAClC,UAAY,MAAM,EAAE,MAAM;AAC1B,UAAY,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,aAAa;AACrD,UAAY,UAAU,EAAE,IAAI,CAAC,WAAW;AACxC,UAAY,WAAW,EAAE,WAAW;AACpC,UAAY,kBAAkB,EAAE,kBAAkB;AAClD,UAAY,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG;AACjF,UAAY,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,IAAG,KAAA,IAAM,IAAI,CAAC,OAAO,CAAC,UAAA,CAAA,IAAe,IAAI;AACzF,UAAY,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,IAAG,KAAA,IAAM,IAAI,CAAC,OAAO,CAAC,UAAA,CAAA,IAAe,IAAI;AACnF,UAAY,OAAO,EAAE,OAAO;AAC5B,UAAY,OAAO,EAAE,OAAO;AAC5B,UAAY,gBAAgB,EAAE,IAAI,CAAC,iBAAiB;AACpD,OAAS,CAAC;AACV,GAAK;;AAEL,EAAA,SAAA,CAAA,SAAA,CAAI,sCAAc;AAClB,MAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;AACnC,UAAY,OAAO,YAAY,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC;AAC7D;AACA,GAAK;;AAEL,EAAI,SAAA,CAAA,SAAA,CAAA,WAAA,GAAA,SAAA,WAAA,EAAY,MAAM,EAAE;AACxB,MAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;AACnC,UAAYF,IAAI,IAAI,GAAG,EAAE;AACzB,UAAYA,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAA,GAAA,EAAO;AACjD,cAAgBA,IAAI,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC;AACnD,cAAgBA,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;AACzC,cAAgB,IAAI,CAAC,GAAG,EAAE;AAC1B,kBAAoB,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG;AAC5C,sBAAwB,GAAG,GAAQ,KAAA,IAAA,GAAG,CAAC,KAAO,CAAA,CAAA;AAC9C,sBAAwB,MAAM,EAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAClD,mBAAqB;AACrB;AACA,cAAgB,OAAO;AACvB,kBAAoB,GAAG,OAAS,GAAG,CAAC,GAAG;AACvC,kBAAoB,SAAS,GAAG,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC;AAC1D,kBAAoB,GAAG,OAAS,GAAG,CAAC,GAAG;AACvC,kBAAoB,SAAS,GAAG,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC;AAC1D,kBAAoB,KAAK,KAAO,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;AACxD,kBAAoB,MAAM,IAAM,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC;AACzD,kBAAoB,OAAO,GAAK,GAAG,CAAC;AACpC,eAAiB;AACjB,WAAa,CAAC;AACd,UAAY,OAAO;AACnB,cAAgB,IAAI,EAAE,YAAY,CAAC,IAAI,CAAC;AACxC,cAAgB,IAAI,EAAE,iBAAiB,CAAC,IAAI;AAC5C,WAAa;AACb;AACA,GAAK;;AAEL,EAAA,SAAA,CAAA,SAAA,CAAI,0CAAgB;AACpB,MAAQ,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;AACnC,UAAY,OAAO,cAAc,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC;AAC/D;AACA,GAAK;;AAEL,EAAI,SAAA,CAAA,SAAA,CAAA,aAAA,GAAA,SAAA,aAAA,EAAc,KAAK,EAAE;AACzB,MAAQE,IAAM,GAAG,GAAG,GAAG,GAAG,KAAK;AAC/B,MAAQA,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC;AAChD,MAAQF,IAAI,MAAM;;AAElB,MAAQ,IAAI,KAAK,KAAK,SAAS,EAAE;AACjC,UAAY,MAAM,GAAG,KAAK;AAC1B,OAAS,MAAM;AACf,UAAY,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW;AAC3E,UAAY,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG;AACxC;;AAEA,MAAQ,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG;;AAE9B,MAAQ,OAAO,MAAM;AACrB,GAAK;;AAEL,EAAI,SAAA,CAAA,SAAA,CAAA,YAAA,GAAA,SAAA,YAAA,EAAa,KAAK,EAAE;AACxB,MAAQE,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;;AAE1C,MAAQ,IAAI,IAAI,KAAK,IAAI,EAAE;AAC3B,UAAY,OAAO,CAAC;AACpB;;AAEA,MAAQF,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC;;AAE/C,MAAQ,IAAI,KAAK,GAAG,CAAC,EAAE;AACvB,UAAY,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;AAC/C;;AAEA;AACA,MAAQ,OAAO,KAAK,GAAG,CAAC;AACxB,GAAK;;AAEL,EAAI,SAAA,CAAA,SAAA,CAAA,aAAA,GAAA,SAAA,aAAA,EAAc,MAAM,EAAE;AAC1B,MAAQE,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;AAC3C,MAAQ,IAAI,IAAI,KAAK,IAAI,EAAE;AAC3B,UAAY;AACZ;;AAEA,MAAQF,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC;AAChD,MAAQ,IAAI,KAAK,GAAG,CAAC,EAAE;AACvB,UAAY,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;AAChD;;AAEA;AACA,MAAQ,OAAO,KAAK,GAAG,CAAC;AACxB,GAAK;;AAEL,EAAI,SAAA,CAAA,SAAA,CAAA,UAAA,GAAA,SAAA,UAAA,EAAW,OAAO,EAAE;AACxB,MAAQ,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACjD,UAAYE,IAAM,GAAG,GAAG,OAAO,CAAC,CAAC,CAAC;AAClC,UAAYA,IAAM,KAAK,GAAG,GAAG,CAAC,KAAK;;AAEnC,UAAY,GAAG,CAAC,IAAI,GAAG,EAAE;;AAEzB,UAAY,KAAKF,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACnD,cAAgBE,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC;AACnE,cAAgB,IAAI,QAAQ,EAAE;AAC9B,kBAAoB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC3C;AACA;AACA;AACA,GAAK;;AAEL,EAAA,SAAA,CAAA,SAAA,CAAI,wBAAM,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE;;;AACrC,MAAQ,IAAI,CAAC,IAAI,IAAI,IAAI,KAAK,UAAU,EAAE;AAC1C,UAAY,OAAO,IAAI;AACvB;;AAEA,MAAQF,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK;;AAE9B,MAAQA,IAAI,MAAM,GAAG,EAAE;;AAEvB,MAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;AAC7B,UAAY,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU;AACzC;;AAEA,MAAQ,IAAI,IAAI,CAAC,WAAW,EAAE;AAC9B,UAAY,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW;AAC3C;;AAEA,MAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;AAC5B,UAAY,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS;AACvC;;AAEA,MAAQ,IAAI,IAAI,CAAC,YAAY,EAAE;AAC/B,UAAY,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY;AAC7C;;AAEA,MAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3B,UAAY,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;AAC3C;;AAEA,MAAQ,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;;AAE3C,MAAQE,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,IAAI,EAAE;AAC5D,MAAQF,IAAI,KAAK,GAAG,EAAE,QAAQ,EAAE,MAAM,EAAE;;AAExC,MAAQ,CAAA,UAAC,KAAO;AAChB,UAAY,GAAG,CAAC,OAAO,CAAC;AACxB,UAAY,GAAG,CAAC,YAAY,CAAC;AAC7B,UAAY,GAAG,CAAC,MAAM,CAAC;AACvB,UAAY,GAAG,CAAC,QAAQ,CAAC;AACzB,UAAY,GAAG,CAAC,WAAW,CAAC;AAC5B,UAAY,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;AACpE,UAAY,GAAG,CAAC,UAAU,CAAC;AAC3B,UAAY,GAAG,CAAC,QAAQ,CAAC;AACzB,UAAY,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,EAAE,GAAG,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;AAChE,UAAY,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,EAAE,GAAG,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;AACxE,UAAY,GAAG,CAAC,MAAM,CAAC;AACvB,UAAY,GAAG,CAAC,QAAQ,CAAC;AACzB,UAAY,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;AAClC,cAAgB,IAAI,GAAG,CAAC,QAAQ,CAAC,EAAE;AACnC,kBAAoB,KAAK,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC,MAAM;AAClD,kBAAoB,OAAO,KAAK,CAAC,MAAM;AACvC;AACA;AACA,UAAY,IAAI,KAAK,CAAC,QAAQ,EAAE;AAChC,cAAgBG,QAAI,CAAC,iBAAiB,GAAG,IAAI;AAC7C;AACA,OAAS,EAAC,UAAE,IAAI,EAAE,MAAM,EAAK;AAC7B,UAAYH,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;AAChC,UAAY,IAAI,GAAG,KAAK,SAAS,EAAE;AACnC,cAAgB,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC;AACpC;AACA,UAAY,IAAI,GAAG,KAAK,SAAS,EAAE;AACnC,cAAgB,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG,GAAG;AAC3C,cAAgB,OAAO,IAAI;AAC3B;AACA,OAAS,CAAC;;AAEV,MAAQE,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE;;AAElD,MAAQA,IAAM,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC;AACzC,MAAQF,IAAI,IAAI,GAAG,OAAO,KAAK;;AAE/B,MAAQ,IAAI,MAAM,IAAI,MAAM,CAAC,SAAS,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,KAAK,CAAC,CAAC,EAAE;AACjF,UAAYA,IAAI,YAAY,GAAG,KAAK;;AAEpC;AACA;AACA;AACA;AACA,UAAY,IAAI,IAAI,KAAK,QAAQ,EAAE;AACnC;AACA;AACA,cAAgB,YAAY,GAAG,WAAW,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC;AACvE;;AAEA,UAAY,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC;AACnF;;AAEA,MAAQ,IAAI,IAAI,KAAK,QAAQ,EAAE;AAC/B,UAAY,KAAK,GAAG,eAAe,CAAC,KAAK,CAAC;AAC1C,UAAY,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;AAC7C,UAAY,IAAI,GAAG,GAAG;AACtB,OAAS,MAAM,IAAI,IAAI,KAAK,QAAQ,EAAE;AACtC,UAAY,IAAI,GAAG,GAAG;AACtB,OAAS,MAAM,IAAI,IAAI,KAAK,SAAS,EAAE;AACvC,UAAY,IAAI,GAAG,GAAG;AACtB,UAAY,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;AACjC,OAAS,MAAM,IAAI,KAAK,IAAI,KAAK,CAAC,OAAO,EAAE;AAC3C,UAAY,IAAI,GAAG,IAAI;AACvB,UAAY,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC;AACvC,UAAY,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;AAC/B,cAAgB,KAAK,CAAC,MAAM,GAAG,UAAU;AACzC;AACA,OAAS,MAAM;AACf,UAAY,IAAI,GAAG,IAAI;AACvB,UAAY,KAAK,GAAG,IAAI;AACxB;;AAEA,MAAQ,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;;AAExC,MAAQE,IAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ,EAAE,SAAS,CAAC;;AAEjD,MAAQ,IAAI,IAAI,CAAC,UAAU,EAAE;AAC7B,UAAY,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC;AAC1D;;AAEA,MAAQ,IAAI,IAAI,CAAC,OAAO,EAAE;AAC1B,UAAYF,IAAI,MAAM,GAAG;AACzB,cAAgB,SAAS,GAAG,CAAC;AAC7B,cAAgB,EAAE;AAClB,cAAgB,QAAQ;AACxB,cAAgB,EAAE;AAClB,cAAgB,SAAS,GAAG,CAAC;AAC7B,cAAgB,EAAE;AAClB,cAAgB,QAAQ,GAAG,CAAC;AAC5B,cAAgB,CAAC;AACjB,WAAa;AACb,UAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;AAChC,cAAgB,GAAG,IAAM,QAAQ;AACjC,cAAgB,IAAI,GAAK,IAAI,CAAC,OAAO;AACrC,cAAgB,GAAG,IAAM,QAAQ;AACjC,cAAgB,GAAG,IAAM,SAAS;AAClC,cAAgB,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI;AACzC,WAAa,CAAC;AACd;;AAEA,MAAQ,OAAO;AACf,UAAY,KAAK,EAAE,KAAK;AACxB,UAAY,OAAO,EAAE,IAAI,CAAC,OAAO;AACjC,UAAY,IAAI,EAAE,IAAI;AACtB,UAAY,KAAK,EAAE,KAAK;AACxB,UAAY,GAAG,EAAE;AACjB,OAAS;AACT,GAAK;;AAEL,EAAA,SAAA,CAAA,SAAA,CAAI,cAAc,GAAA,SAAA,cAAA,EAAC,CAAC,EAAE,GAAG,EAAE;AAC3B,MAAQE,IAAM,GAAG,GAAG;AACpB,UAAY,gBAAgB,GAAG,CAAC,CAAC,IAAI,KAAK,QAAQ,GAAG,CAAC,GAAG,CAAC;AAC1D,UAAY,QAAQ,SAAW,CAAC,CAAC,IAAI;AACrC,UAAY,QAAQ,SAAW,CAAC,CAAC,EAAE;AACnC,UAAY,IAAI,aAAe,cAAc,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,QAAQ;AACvE,UAAY,QAAQ,SAAW,kBAAkB,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,YAAY;AACnF,UAAY,UAAU,OAAS,CAAC,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;AACnD,UAAY,YAAY,KAAO,CAAC,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;AACnD,UAAY,KAAK,YAAc,CAAC,CAAC,eAAe;AAChD,UAAY,UAAU,OAAS,CAAC,CAAC;AACjC,OAAS;AACT,MAAQA,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;AACxC,MAAQ,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;AACtC,UAAY,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,GAAG;AACzC,UAAY,GAAG,CAAC,KAAK,GAAG,EAAE;AAC1B;AACA,MAAQ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;AAC/C,GAAK;;AAEL,EAAA,SAAA,CAAA,SAAA,CAAI,sCAAc;AAClB,MAAQ,OAAO,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;AAC3C,GAAK;;AAEL,EAAA,SAAA,CAAA,SAAA,CAAI,sCAAc;AAClB,MAAQF,IAAI,IAAI,GAAG,CAAC;AACpB,MAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,EAAE;AAChD,UAAY,IAAI,GAAG,CAAC,KAAK,EAAE;AAC3B,cAAgB,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC3D;AACA,OAAS,CAAC;AACV,MAAQ,OAAO,IAAI;AACnB,GACC;;AAED,SAAS,SAAS,CAAC,IAAI,EAAE;AACzB,IAAIA,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM;AAC1B,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE;AAC9B,QAAQ,IAAI,EAAE,CAAC,KAAK,IAAI,EAAE,CAAC,KAAK,IAAI,IAAI,EAAE;AAC1C,YAAY,IAAI,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC;AAC/B;AACA,KAAK,CAAC;AACN,IAAI,OAAO,IAAI;AACf;;AAEAE,IAAM,kBAAkB,GAAG;AAC3B;AACA;AACA,IAAI,oBAAoB,GAAG,oBAAoB;AAC/C,IAAI,iBAAiB,MAAM;AAC3B,CAAC;;AAEDA,IAAM,cAAc,GAAG;AACvB;AACA,IAAI,MAAM,EAAE;AACZ,CAAC;;AAEDA,IAAM,cAAc,GAAG;AACvB,IAAI,SAAS,EAAE,CAAC;AAChB,IAAI,GAAG,EAAE,CAAC;AACV,IAAI,MAAM,EAAE,CAAC;AACb,IAAI,OAAO,EAAE,CAAC;AACd,IAAI,UAAU,EAAE,CAAC;AACjB,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,OAAO,EAAE,EAAE;AACf,IAAI,UAAU,EAAE,EAAE;AAClB,IAAI,OAAO,EAAE,EAAE;AACf,IAAI,SAAS,EAAE,EAAE;AACjB,IAAI,UAAU,EAAE,EAAE;AAClB,IAAI,UAAU,EAAE,EAAE;AAClB,IAAI,OAAO,EAAE,EAAE;AACf,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAI,YAAY,EAAE,EAAE;AACpB,IAAI,eAAe,EAAE,EAAE;AACvB,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,SAAS,EAAE,EAAE;AACjB,IAAI,aAAa,EAAE,EAAE;AACrB,IAAI,gBAAgB,EAAE,EAAE;AACxB,IAAI,qBAAqB,EAAE,EAAE;AAC7B,IAAI,qBAAqB,EAAE,EAAE;AAC7B,IAAI,0BAA0B,EAAE,EAAE;AAClC,IAAI,OAAO,EAAE,EAAE;AACf,IAAI,WAAW,EAAE,EAAE;AACnB,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAI,UAAU,EAAE,EAAE;AAClB,IAAI,GAAG,EAAE,EAAE;AACX,IAAI,cAAc,EAAE,EAAE;AACtB,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAI,IAAI,EAAE,EAAE;AACZ,IAAI,OAAO,EAAE,EAAE;AACf,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAI,WAAW,EAAE,EAAE;AACnB,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAI,QAAQ,EAAE,EAAE;AAChB,IAAI,UAAU,EAAE;AAChB,CAAC;;AAED,SAAS,QAAQ,CAAC,KAAK,EAAE;AACzB,IAAI,SAAS,GAAG,CAAC,GAAG,EAAE;AACtB,QAAQF,IAAI,CAAC,GAAG,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;AAC9C,QAAQ,OAAO,CAAC,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;AACzC;;AAEA,IAAIA,IAAI,CAAC,GAAG,kEAAkE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;AACjG,IAAI,IAAI,CAAC,EAAE;AACX,QAAQA,IAAI,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;AAC7D,QAAQ,OAAO,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrE;AACA,IAAI,OAAO,KAAK;AAChB;;AAEA,SAAS,YAAY,CAAC,KAAK,EAAE;AAC7B,IAAIA,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;AAC/B,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1B,QAAQ,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,EAAE,EAAE,EAAE,EAAE;AACxD,YAAY,OAAO,EAAE,GAAG,EAAE;AAC1B,SAAS,CAAC;AACV;;AAEA,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE;;AAE5C,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AAC1B,QAAQ,KAAK,GAAG,IAAI,GAAG,KAAK;AAC5B;;AAEA,IAAI,OAAO,KAAK;AAChB;;AAEA,IAAM,QAAQ,GAEV,SAAW,QAAA,CAAC,OAAO,EAAE;;;AACzB,MAAQ,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,EAAE;AACpC,MAAQ,IAAI,CAAC,QAAQ,GAAG;AACxB,UAAY,OAAO,EAAE,EAAE;AACvB,UAAY,KAAK,EAAE,CAAC;AACpB,UAAY,WAAW,EAAE;AACzB,OAAS;AACT,MAAQ,IAAI,CAAC,OAAO,GAAG,EAAE;AACzB,MAAQ,IAAI,CAAC,QAAQ,GAAG,EAAE;AAC1B,MAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;AAC1C,MAAQ,IAAI,CAAC,MAAM,GAAG,CAAC;;AAEvB,MAAQ,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,EAAE,EAAA,UAAG,OAAO,EAAE,CAAC,EAAK;AACtE,UAAY,OAAO,CAAC,QAAQ,GAAGG,QAAI,CAAC,OAAO;AAC3C,UAAY,OAAO,CAAC,UAAU,GAAG,CAAC,GAAG,CAAC;AACtC,UAAY,OAAO,IAAI,SAAS,CAAC,OAAO,EAAEA,QAAI,CAAC,QAAQ,EAAEA,QAAI,CAAC,OAAO,EAAEA,QAAI,CAAC,QAAQ,CAAC;AACrF,OAAS,CAAC;AACV;;AAEA,EAAI,QAAA,CAAA,SAAA,CAAA,aAAA,GAAA,SAAA,aAAA,EAAc,QAAQ,EAAE;AAC5B,MAAQD,IAAM,EAAE,GAAG,EAAE,IAAI,CAAC,MAAM;AAChC,MAAQ,QAAQ,QAAQ;AACxB,QAAU,KAAK,WAAW;AAC1B,QAAU,KAAK,YAAY;AAC3B,UAAY,QAAO,OAAA,GAAQ,EAAE,GAAA,MAAA;AAC7B,QAAU,KAAK,WAAW;AAC1B,UAAY,QAAO,OAAA,GAAQ,EAAE,GAAA,MAAA;AAC7B,QAAU,KAAK,WAAW;AAC1B,UAAY,QAAO,OAAA,GAAQ,EAAE,GAAA,MAAA;AAC7B,QAAU;AACV,UAAY,QAAO,OAAA,GAAQ,EAAE,GAAA,MAAA,EAAO;AACpC;AACA,GAAK;;AAEL,EAAA,QAAA,CAAA,SAAA,CAAI,0BAAQ;;;AACZ,MAAQA,IAAM,GAAG,GAAG,SAAS,EAAE;;AAE/B,MAAQA,IAAM,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC;;AAE/C,MAAQ,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;AACvC,UAAY,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,UAAU;AACvD,UAAY,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,UAAU;AAC9D,UAAY,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC,MAAM,EAAE;AAC7D,UAAY,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC,MAAM;AAC5D,OAAS,CAAC,CAAC;;AAEX,MAAQA,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM;;AAE9C,MAAQ,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;;AAE/D,MAAQA,IAAM,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC;AACxC,MAAQ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC;;AAEhC,MAAQA,IAAM,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC;;AAEnC,MAAQA,IAAM,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC;AACzC,MAAQ,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,aAAa,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC,CAAC;;AAE9E,MAAQ,IAAI,IAAI,CAAC,OAAO,EAAE;AAC1B,UAAYA,IAAM,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC;AAC5C,UAAY,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAA,EAAA,EAAM;AACpD,cAAgBA,IAAM,GAAG,GAAGC,QAAI,CAAC,OAAO,CAAC,EAAE,CAAC;AAC5C,cAAgBD,IAAM,QAAQ,GAAGC,QAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC;AAC7D,cAAgB,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC;AAC9C,cAAgB,GAAG,CAAC,MAAM,GAAG,WAAA,GAAY,QAAU;AACnD,WAAa,CAAC;AACd;;AAEA,MAAQD,IAAM,QAAQ,GAAG,EAAE;AAC3B,MAAQ,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAC;AACzC,UAAY,MAAM,EAAE,IAAI,CAAC,OAAO;AAChC,UAAY,WAAW,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,KAAK,EAAE,KAAK,EAAE;AAClE,cAAgBA,IAAM,OAAO,GAAG,KAAK,CAAC,OAAO;AAC7C,cAAgBA,IAAM,SAAS,IAAI,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;AAC1F,cAAgB,QAAQ,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC,GAAG,KAAK;AACzD,cAAgBA,IAAM,MAAM,GAAG,OAAO,CAAC,MAAM;AAC7C,cAAgB,IAAI,MAAM,EAAE;AAC5B,kBAAoB,IAAI,MAAM,CAAC,GAAG,EAAE;AACpC;AACA,sBAAwBF,IAAI,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC;AACrD,sBAAwBA,IAAI,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjD,sBAAwBA,IAAI,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/C,sBAAwB,OAAO;AAC/B,0BAA4B,YAAY,EAAE,KAAK;AAC/C,0BAA4B,IAAI,EAAE,SAAS;AAC3C,0BAA4B,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC;AAC1D,0BAA4B,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG;AACnD,uBAAyB;AACzB,mBAAqB,MAAM,IAAI,OAAO,MAAM,CAAC,IAAI,KAAK,WAAW,IAAI,OAAO,MAAM,CAAC,EAAE,KAAK,WAAW,EAAE;AACvG;AACA,sBAAwB,OAAO;AAC/B,0BAA4B,YAAY,EAAE,KAAK;AAC/C,0BAA4B,IAAI,EAAE,SAAS;AAC3C,0BAA4B,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC;AAC5E,0BAA4B,EAAE,EAAE,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,EAAE;AACvE,uBAAyB;AACzB;AACA;AACA,WAAa,CAAC;AACd,UAAY,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,EAAE,SAAS,GAAG,EAAE;AACnE,cAAgB,OAAO;AACvB,kBAAoB,IAAI,EAAE,GAAG,CAAC,SAAS;AACvC,kBAAoB,YAAY,EAAE,GAAG,CAAC,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,GAAG,IAAI;AACtF,kBAAoB,KAAK,EAAE,GAAG,CAAC,KAAK;AACpC,kBAAoB,MAAM,EAAE,GAAG,CAAC;AAChC,eAAiB;AACjB,WAAa;AACb,OAAS,CAAC,CAAC;;AAEX,MAAQE,IAAM,UAAU,GAAG,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;AAClD,MAAQA,IAAM,QAAQ,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC;AAC9C,MAAQA,IAAM,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC;AACrD,MAAQA,IAAM,SAAS,GAAG,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC;AACpD,MAAQA,IAAM,YAAY,GAAG,EAAE;AAC/B,MAAQA,IAAM,YAAY,GAAG,EAAE;AAC/B,MAAQF,IAAI,gBAAgB,GAAG,KAAK;;AAEpC,MAAQ,KAAKA,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,UAAU,EAAE,GAAG,EAAE,EAAE;AACnD,UAAYE,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;AAC3C,UAAYA,IAAM,SAAS,GAAG,WAAQ,GAAG,GAAG,CAAC,CAAA,GAAA,MAAM;AACnD,UAAYA,IAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC9C,UAAYA,IAAM,OAAO,GAAG,KAAK,CAAC,SAAS,EAAE;AAC7C,UAAYA,IAAM,WAAW,GAAG,KAAK,CAAC,WAAW,EAAE;AACnD,UAAYA,IAAM,aAAa,GAAG,KAAK,CAAC,aAAa,EAAE;AACvD,UAAYA,IAAM,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC;;AAE/D,UAAY,IAAI,KAAK,CAAC,iBAAiB,EAAE;AACzC,cAAgB,gBAAgB,GAAG,IAAI;AACvC;;AAEA,UAAY,IAAI,OAAO,EAAE;AACzB,cAAgB,SAAS,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,EAAE,OAAO,CAAC;AAC5D;AACA,UAAY,IAAI,WAAW,EAAE;AAC7B,cAAgBF,IAAI,IAAI,GAAG,UAAA,IAAW,KAAK,CAAC,OAAO,CAAC,UAAU,CAAA,GAAA,MAAM;AACpE,cAAgB,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC;AAC1C,cAAgB,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;AACvC;AACA,UAAY,IAAI,aAAa,EAAE;AAC/B,cAAgB,QAAQ,CAAC,IAAI,kBAAc,KAAK,CAAC,OAAO,CAAC,UAAU,CAAA,GAAA,MAAA,GAAQ,aAAa,CAAC;AACzF;AACA,UAAY,IAAI,WAAW,EAAE;AAC7B,cAAgBA,IAAII,MAAI,GAAG,SAAA,IAAU,KAAK,CAAC,OAAO,CAAC,UAAU,CAAA,GAAA,MAAM;AACnE,cAAgB,QAAQ,CAAC,IAAI,CAACA,MAAI,EAAE,WAAW,CAAC,IAAI,CAAC;AACrD,cAAgB,YAAY,CAAC,IAAI,EAAIA,MAAI,GAAO,OAAA,GAAE,WAAW,CAAC,IAAI,CAAC;AACnE,cAAgB,YAAY,CAAC,IAAI,CAACA,MAAI,CAAC;AACvC;;AAEA,UAAY,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC;AAChD;;AAEA,MAAQF,IAAM,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC;;AAErD,MAAQA,IAAM,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC;;AAEnD,MAAQA,IAAM,OAAO,GAAG,SAAS,KAAK,EAAE;AACxC,UAAY,OAAO,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,QAAQ;AACrH,OAAS;;AAET,MAAQA,IAAM,eAAe,GAAG,SAAS,KAAK,EAAE;AAChD,UAAYF,IAAI,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC;AACxC,UAAYA,IAAI,QAAQ;;AAExB,UAAY,IAAI,QAAQ,EAAE;AAC1B,cAAgB,QAAQ,GAAG,QAAQ,GAAG,CAAC,GAAG,CAAC;AAC3C;;AAEA,UAAY,OAAO,QAAQ;AAC3B,OAAS;;AAET,MAAQE,IAAM,KAAK,GAAG,GAAG,CAAC,MAAM,EAAE,SAAS,KAAK,EAAE;AAClD,UAAY,IAAI,KAAK,CAAC,QAAQ,EAAE;AAChC,cAAgB,KAAK,CAAC,QAAQ,GAAG,eAAe,CAAC,KAAK,CAAC,QAAQ,CAAC;AAChE;;AAEA,UAAY,IAAI,KAAK,CAAC,KAAK,EAAE;AAC7B,cAAgB,KAAK,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC;AACvD;;AAEA,UAAY,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;AAChC,cAAgB,OAAO,KAAK;AAC5B;AACA,OAAS,CAAC;;AAEV,MAAQA,IAAM,OAAO,GAAG,GAAG,CAAC,MAAM,EAAE,SAAS,KAAK,EAAE;AACpD,UAAY,IAAI,KAAK,CAAC,MAAM,IAAI,cAAc,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,SAAS,EAAE;AAC5E,cAAgB,OAAO,KAAK;AAC5B;AACA,OAAS,CAAC;;AAEV,MAAQA,IAAM,KAAK,GAAG,GAAG,CAAC,MAAM,EAAE,SAAS,KAAK,EAAE;AAClD,UAAY,IAAI,KAAK,CAAC,UAAU,EAAE;AAClC,cAAgB,KAAK,CAAC,UAAU,GAAG,YAAY,CAAC,KAAK,CAAC,UAAU,CAAC;AACjE,cAAgB,OAAO,KAAK;AAC5B;AACA,OAAS,CAAC;;AAEV,MAAQ,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,CAAC;AACrC,UAAY,KAAK,EAAE,KAAK;AACxB,UAAY,KAAK,EAAE,KAAK;AACxB,UAAY,OAAO,EAAE,OAAO;AAC5B,UAAY,OAAO,EAAE,OAAO;AAC5B,UAAY,MAAM,EAAE,GAAG,CAAC,MAAM,EAAE,SAAS,KAAK,EAAE;AAChD,cAAgBA,IAAM,MAAM,GAAG,EAAE;;AAEjC,cAAgB,IAAI,OAAO,CAAC,KAAK,CAAC,EAAE;AACpC,kBAAoB,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC;AAC7D;;AAEA,cAAgB,IAAI,KAAK,CAAC,UAAU,EAAE;AACtC,kBAAoB,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC;AAC7D;;AAEA,cAAgB,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS;AAClD,cAAgB,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM;AAC5C,cAAgB,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC,aAAa;AAC1D,cAAgB,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;AACxC,cAAgB,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ;;AAEhD,cAAgB,IAAI,KAAK,CAAC,MAAM,EAAE;AAClC,kBAAoB,IAAI,cAAc,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,SAAS,EAAE;AACpE,sBAAwB,MAAM,CAAC,QAAQ,GAAG,cAAc,CAAC,KAAK,CAAC,MAAM,CAAC;AACtE,mBAAqB,MAAM;AAC3B,sBAAwB,MAAM,CAAC,QAAQ,GAAG,GAAG,GAAG,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC;AACvE;AACA;;AAEA,cAAgB,IAAI,gBAAgB,EAAE;AACtC,kBAAoB,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ;AACtD;;AAEA,cAAgB,OAAO,MAAM;AAC7B,WAAa;AACb,OAAS,CAAC,CAAC;;AAEX,MAAQ,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;AAEnE,MAAQ,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,aAAa,CAAC;AACtD,UAAY,UAAU,EAAE,UAAU;AAClC,UAAY,YAAY,EAAE,YAAY;AACtC,UAAY,YAAY,EAAE;AAC1B,OAAS,CAAC,CAAC;;AAEX,MAAQ,OAAO,GAAG;AAClB,GAAK;;AAEL,EAAA,QAAA,CAAA,SAAA,CAAI,kCAAY;AAChB,MAAQA,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE;;AAEhC,MAAQ,OAAO,GAAG,CAAC,aAAa,GAAG,GAAG,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;AAClI,GAAK;;AAEL,EAAA,QAAA,CAAA,SAAA,CAAI,4BAAS;AACb,MAAQA,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE;AAChC,MAAQ,IAAI,GAAG,CAAC,aAAa,EAAE;AAC/B,UAAY,OAAO,GAAG,CAAC,aAAa,CAAC,YAAY,CAAC;AAClD;AACA,MAAQ,OAAO,IAAI,IAAI,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,mBAAmB,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;AACnF,GACC;;AAED,SAAS,WAAW,CAAC,KAAK,EAAE;AAC5B,IAAIF,IAAI,KAAK,GAAG,MAAM;;AAEtB,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE;AACrB,QAAQ,KAAK,GAAG,QAAQ;AACxB,KAAK,MAAM,IAAI,KAAK,KAAK,CAAC,EAAE;AAC5B,QAAQ,KAAK,GAAG,OAAO;AACvB;;AAEA,IAAI,OAAO,KAAK;AAChB;;AAEA,SAAS,kBAAkB,CAAC,IAAI,EAAE,KAAK,EAAE;AACzC,IAAIA,IAAI,MAAM,GAAG,EAAE;;AAEnB,IAAI,IAAI,KAAK,EAAE;AACf,QAAQ,MAAM,IAAI,GAAG,GAAG,IAAI,GAAG,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK;AAC5E,QAAQ,IAAI,KAAK,CAAC,KAAK,EAAE;AACzB,YAAY,MAAM,IAAI,eAAe,GAAG,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,MAAM;AAC1E;AACA,QAAQ,MAAM,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG;AACnC;;AAEA,IAAI,OAAO,MAAM;AACjB;;AAEA,SAAS,cAAc,CAAC,MAAM,EAAE;AAChC,IAAIA,IAAI,IAAI,GAAG,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC;AACzD,IAAI,QAAO,UAAA,IAAW,IAAI,GAAG,CAAC,GAAG,mBAAmB,GAAG,EAAE,CAAA,GAAA,GAAA,IAAI,IAAI,GAAG,CAAC,GAAG,qBAAqB,GAAG,EAAE,CAAA,GAAA,WAAA,IAC1F,kBAAkB,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAA,CAAC,GACvC,UAAA,IAAA,kBAAkB,CAAC,OAAO,EAAE,MAAM,CAAC,KAAK,CAAA,CAAC,GACzC,UAAA,IAAA,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,CAAA,GAAA,UAAA,IACrC,kBAAkB,CAAC,QAAQ,EAAE,MAAM,CAAC,MAAM,CAAC,CAAA,GAAA,UAAA,IAC3C,kBAAkB,CAAC,UAAU,EAAE,MAAM,CAAC,QAAQ,CAAA,CAAC;AAEvD;;AAEAE,IAAM,UAAU,GAAG,EAAE;AACrB,SAAS,OAAO,CAAC,IAAI,EAAE,WAAW,EAAE;AACpC,IAAIA,IAAM,OAAO,GAAG,EAAE;AACtB,IAAIA,IAAM,WAAW,GAAG,EAAE;;AAE1B,IAAI,SAAS,CAAC,IAAI,EAAE,SAAS,GAAG,EAAE,KAAK,EAAE;AACzC,QAAQA,IAAM,IAAI,GAAG;AACrB,YAAY,OAAO,EAAE,GAAG;AACxB,YAAY,KAAK,EAAE,KAAK;AACxB,YAAY,MAAM,EAAE,GAAG,CAAC,MAAM;AAC9B,YAAY,KAAK,EAAE,GAAG,CAAC,KAAK;AAC5B,YAAY,KAAK,EAAE;AACnB,SAAS;;AAET,QAAQ,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC;AAC1B,QAAQ,WAAW,CAAC,KAAK,CAAC,GAAG,IAAI;AACjC,KAAK,CAAC;;AAEN,IAAIA,IAAM,MAAM,GAAG,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAChD,IAAIA,IAAM,GAAG,GAAG;AAChB,QAAQ,OAAO,EAAE,OAAO;AACxB,QAAQ,WAAW,EAAE,WAAW;AAChC,QAAQ,WAAW,EAAE;AACrB,KAAK;;AAEL,IAAI,KAAKF,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC5C,QAAQ,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC;AACjC,QAAQ,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO;AAChC;;AAEA,IAAI,OAAO,WAAW,CAAC,OAAO,CAAC;AAC/B;;AAEA,SAAS,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE;AACnC,IAAI,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC1C,QAAQE,IAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;AAC3B,QAAQ,IAAI,CAAC,GAAG,EAAE;AAClB,YAAY;AACZ;;AAEA,QAAQF,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK;AAC7B,QAAQ,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AACvC,YAAY,KAAK,GAAG,CAAC;AACrB;;AAEA,QAAQ,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC;AAC5B;AACA;;AAEA,SAAS,WAAW,CAAC,KAAK,EAAE;AAC5B,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE;AACrC,QAAQ,OAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK;AAChC,KAAK,CAAC;AACN;;AAEA,SAAS,UAAU,CAAC,KAAK,EAAE,EAAE,EAAE;AAC/B,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;AAC/B,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;AACtB;AACA;;AAEA,SAAS,OAAO,CAAC,WAAW,EAAE,GAAG,EAAE;AACnC,IAAI,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AACjD,QAAQE,IAAM,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC;AACpC,QAAQA,IAAM,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;AAClC,QAAQF,IAAI,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;AAC1B,QAAQ,IAAI,OAAO,KAAK,GAAG,EAAE;AAC7B,YAAYA,IAAI,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;AAClC,YAAY,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;AACvC,YAAY,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC;AAC/C,YAAY,OAAO;AACnB,gBAAgB,OAAO,EAAE,WAAW,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,GAAG,CAAC;AAC1D,gBAAgB,OAAO,EAAE,WAAW,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,GAAG;AACzD,aAAa;AACb;AACA;AACA;;AAEA,SAAS,QAAQ,CAAC,GAAG,EAAE;AACvB,IAAI,SAAS,MAAM,CAAC,GAAG,EAAE;AACzB,QAAQA,IAAI,QAAQ,GAAG,GAAG,CAAC,WAAW,EAAE;AACxC,QAAQA,IAAI,GAAG,GAAG,CAAC;AACnB,QAAQ,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AAClD,YAAY,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,EAAE;AACxD;AACA,QAAQ,OAAO,GAAG,GAAG,CAAC;AACtB;;AAEA,IAAI,SAAS,MAAM,CAAC,GAAG,EAAE;AACzB,QAAQ,OAAO,QAAQ,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC;AACpC;;AAEA,IAAIE,IAAM,CAAC,GAAG,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC;AAC1C,IAAI,OAAO;AACX,QAAQ,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,QAAQ,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,KAAK;AACL;;AAEA,SAAS,aAAa,CAAC,EAAE,EAAE;AAC3B,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC;AAChC;;AAEA,SAAS,SAAS,CAAC,IAAI,EAAE,GAAG,EAAE;AAC9B,IAAIA,IAAM,GAAG,GAAG,IAAI,CAAC,OAAO;AAC5B,IAAIA,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK;AAC/B,IAAIA,IAAM,KAAK,GAAG,GAAG,CAAC,KAAK;AAC3B,IAAIA,IAAM,QAAQ,GAAG,IAAI,CAAC,KAAK;;AAE/B,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,QAAQ;AACR;;AAEA,IAAI,KAAKF,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC3C,QAAQE,IAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,IAAI,UAAU;;AAE3C,QAAQF,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC;AACvC,QAAQA,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC;;AAEvC,QAAQE,IAAM,SAAS,GAAG,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC;AACpD,QAAQA,IAAM,UAAU,GAAG,GAAG,CAAC,QAAQ,EAAE,SAAS,CAAC;;AAEnD,QAAQ,IAAI,OAAO,KAAK,CAAC,IAAI,OAAO,KAAK,CAAC,EAAE;AAC5C;AACA;AACA;AACA,YAAYA,IAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,CAAC;AAC5D,YAAY,IAAI,GAAG,EAAE;AACrB,gBAAgB,OAAO,GAAG,GAAG,CAAC,OAAO;AACrC,gBAAgB,OAAO,GAAG,GAAG,CAAC,OAAO;AACrC;AACA;;AAEA,QAAQ,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC;;AAEpD,QAAQ,IAAI,OAAO,GAAG,CAAC,IAAI,OAAO,GAAG,CAAC,EAAE;AACxC,YAAY,UAAU,CAAC,GAAG,CAAC,WAAW;AACtC,uBAAuB,UAAU,GAAG,GAAG,GAAG,GAAG,CAAC,QAAQ,GAAG,OAAO,GAAG,CAAC;AACpE,8CAA8C,SAAS,GAAG,OAAO,GAAG,CAAC,CAAC,CAAC;AACvE;;AAEA,QAAQ,IAAI,OAAO,GAAG,CAAC,EAAE;AACzB,YAAY,KAAKF,IAAI,EAAE,GAAG,QAAQ,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,GAAG,OAAO,EAAE,EAAE,EAAE,EAAE;AACvE,gBAAgBA,IAAI,OAAO,GAAG,GAAG,CAAC,WAAW,CAAC,EAAE,CAAC;AACjD,gBAAgB,IAAI,CAAC,OAAO,EAAE;AAC9B,oBAAoB,OAAO,GAAG,GAAG,CAAC,WAAW,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE;AAC5E,oBAAoB,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;AAC7C;;AAEA,gBAAgB,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,KAAK,EAAE,SAAS,GAAG,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC;AACzE;AACA;AACA;AACA;;AAEA,SAAS,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE;AAChC,IAAIA,IAAI,KAAK;;AAEb,IAAI,IAAI,OAAO,IAAI,CAAC,KAAK,KAAK,QAAQ,EAAE;AACxC,QAAQ,KAAK,GAAG,IAAI,CAAC,KAAK;AAC1B,QAAQ,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC;AAC5C,KAAK,MAAM;AACX,QAAQ,KAAK,GAAG,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC;AACtC;;AAEA,IAAI,OAAO,KAAK;AAChB;;AAEA,SAAS,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE;AACzC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI;AACtB;;AAEA,SAAS,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE;AAChC,IAAIA,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM;;AAE3B,IAAI,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAC9C,QAAQ,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;AACtB,YAAY,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI;AAC1B,YAAY,KAAK,GAAG,CAAC;AACrB,YAAY;AACZ;AACA;;AAEA,IAAI,OAAO,KAAK;AAChB;;AAEA,SAAS,QAAQ,CAAC,IAAI,EAAE,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE;AAClD,IAAI,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;AACtC,QAAQE,IAAM,GAAG,GAAG;AACpB,YAAY,SAAS,MAAM,IAAI,CAAC,SAAS;AACzC,YAAY,WAAW,IAAI,IAAI,CAAC,WAAW;AAC3C,YAAY,YAAY,GAAG,IAAI,CAAC,YAAY;AAC5C,YAAY,UAAU,KAAK,IAAI,CAAC;AAChC,SAAS;AACT,QAAQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,GAAG,CAAC,CAAC;AAC9C;AACA;;AAEAA,IAAM,mBAAmB,GAAG,UAAA,KAA6B,EAA1B;AAAK,EAAA,IAAA,GAAA,GAAA,KAAA,CAAA,GAAA;AAAS,EAAA,IAAA,OAAA,GAAA,KAAA,CAAA,OAAA;;;UAC1B,sBAAA,GAAA,GAAG,GAClB,SAAA,IAAA,OAAO,CAAC,OAAO,YAAG,GAAG,EAAK,EAAA,QAAA,8BAAA,IACH,GAAG,CAAC,MAAK,GAC5B,aAAA,IAAA,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAA,GAAA,2BAAA,EAAA,EAEhC,CAAC,CAAA,GAAA,iBAAA;CACU;;AAEdA,IAAM,yBAAyB,GAAG,UAAA,GAAoB,EAAjB;AAAO,EAAA,IAAA,KAAA,GAAA,GAAA,CAAA,KAAA;;;AAAe,EAAA,QAAA,mBAAA,IAC1C,KAAK,KAAK,KAAK,GAAG,SAAS,GAAG,EAAA,CAAE,GAC/C,KAAA,IAAA,OAAO,CAAC,QAAQ,EAAE,UAAC,CAAC,EAAK;AAC3B,IAAIF,IAAI,EAAE,GAAG,kBAAkB,CAAC,cAAc,CAAC,CAAC,CAAC;AACjD,IAAIA,IAAI,GAAG,GAAG,kBAAkB,CAAC,WAAW,CAAC,CAAC,CAAC;AAC/C,IAAI,QAAO,gBAAA,IAAiB,EAAE,IAAgB,aAAA,GAAA,EAAE,GAAG,IAAA,IAAG,EAAE,CAAA,GAAA,SAAA,GAAS,GAAG,GAAA,MAAA;AACpE,CAAC,CAAC,CAAA,GAAA,oBAAA;CACe;;AAEjBE,IAAM,0BAA0B,GAAG,UAAA,GAAS,EAAN;;;AACtC,EAAA,QAAA,wBAAA,IAAwB,kBAAkB,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAA,GAAA,OAAA;CAAM;;AAExEA,IAAM,sBAAsB,GAAG,UAAA,GAAgB,EAAb;AAAM,EAAA,IAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;;UACrB,mBAAA,IAAA,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA,GAAA,mBAAA,IACnC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA,GAAA,mBAAA,GAC1B,KAAK,GAAA,OAAA;CAAM;;AAEzBA,IAAM,wBAAwB,GAAG,UAAA,GAAmB,EAAhB;AAAQ,IAAA,IAAA,MAAA,GAAA,GAAA,CAAA,MAAA;;;AAC1C,IAAA,QAAA,WAAA,IAAY,MAAM,GAAG,WAAW,GAAG,EAAA,CAAE,gBACjC,OAAO,CAAC,MAAM,EAAA,UAAG,KAAK,EAAA,EAAA,QACP,wBAAA,GAAA,KAAK,cAAM,CAAC,CAAA,GAAA,gBAAA;CACpB;;AAEb,SAAS,kBAAkB,CAAC,MAAM,EAAE;AACpC,IAAI,OAAO,mBAAmB,CAAC;AAC/B,QAAQ,GAAG,EAAE,MAAM,CAAC,GAAG;AACvB,QAAQ,OAAO,EAAE,MAAM,CAAC,OAAO;AAC/B,QAAQ,UAAU,EAAE;AACpB,YAAY,MAAM,IAAI,yBAAyB;AAC/C,YAAY,OAAO,GAAG,0BAA0B;AAChD,YAAY,GAAG,OAAO,sBAAsB;AAC5C,YAAY,KAAK,KAAK;AACtB;AACA,KAAK,CAAC;AACN;;AAEA,kBAAkB,CAAC,cAAc,GAAG,SAAS,CAAC,EAAE;AAChD,IAAI,OAAO;AACX,QAAQ,EAAE,IAAI,OAAO;AACrB,QAAQ,EAAE,IAAI,aAAa;AAC3B,QAAQ,GAAG,GAAG,oBAAoB;AAClC,QAAQ,EAAE,IAAI,UAAU;AACxB,QAAQ,GAAG,GAAG,iBAAiB;AAC/B,QAAQ,EAAE,IAAI,UAAU;;AAExB;AACA;AACA;AACA,QAAQ,gBAAgB,EAAE,UAAU;AACpC,QAAQ,cAAc,EAAE,UAAU;AAClC,QAAQ,cAAc,EAAE,UAAU;AAClC,QAAQ,YAAY,EAAE;AACtB,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;AAC/B,CAAC;;AAED,SAAS,UAAU,CAAC,IAAI,EAAE;AAC1B,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AAC1B,QAAQ,OAAO,IAAI;AACnB;AACA,IAAI,IAAI,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AAC1C,QAAQ,OAAO,IAAI,CAAC;AACpB;AACA,IAAI,OAAO,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,GAAG;AACnD;;AAEA,kBAAkB,CAAC,WAAW,GAAG,SAAS,CAAC,EAAE;AAC7C,IAAI,SAAS,GAAG,CAAC,GAAG,EAAE;AACtB,QAAQ,OAAO,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;AAC5C;;AAEA,IAAI,QAAQ,CAAC,CAAC,QAAQ,CAAC,WAAW,EAAE;AACpC,QAAQ,KAAK,YAAY;AACzB,QAAQ,KAAK,kBAAkB;AAC/B,YAAY,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG;;AAErC,QAAQ,KAAK,UAAU;AACvB,QAAQ,KAAK,gBAAgB;AAC7B,YAAY,OAAO,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;;AAErC,QAAQ,KAAK,UAAU;AACvB,QAAQ,KAAK,gBAAgB;AAC7B,YAAY,OAAO,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG;;AAE3C,QAAQ;AACR,YAAY,OAAO,CAAC,CAAC,KAAK;AAC1B;AACA,CAAC;;AAED,kBAAkB,CAAC,iBAAiB,GAAG,SAAS,IAAI,EAAE;AACtD,IAAI,OAAO;AACX,QAAQ,QAAQ,IAAI,IAAI;AACxB,QAAQ,QAAQ,IAAI,IAAI;AACxB,QAAQ,QAAQ,IAAI,IAAI;AACxB,QAAQ,QAAQ,IAAI,IAAI;AACxB,QAAQ,OAAO,KAAK,IAAI;AACxB,QAAQ,QAAQ,IAAI,IAAI;AACxB,QAAQ,KAAK,OAAO,IAAI;AACxB,QAAQ,KAAK,OAAO,IAAI;AACxB,QAAQ,GAAG,SAAS,IAAI;AACxB,QAAQ,IAAI,QAAQ,IAAI;AACxB,QAAQ,IAAI,QAAQ,IAAI;AACxB,QAAQ,MAAM,MAAM,IAAI;AACxB,QAAQ,SAAS,GAAG,IAAI;AACxB,QAAQ,OAAO,KAAK,KAAK;AACzB,QAAQ,QAAQ,IAAI,KAAK;AACzB,QAAQ,QAAQ,IAAI;AACpB,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,IAAI;AACjC,CAAC;;;;;;;;"}